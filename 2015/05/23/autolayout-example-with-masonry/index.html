<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç° | iOSï¼ŒAndroidç¨‹åºçŒ¿ï¼Œå–œæ¬¢Macã€Linuxã€å„ç§å¼€æºæŠ€æœ¯ï¼Œå„ç§è¯­è¨€</title>
    <meta name="author" content="ç‡•æ³½å ƒ">
    
    <meta name="description" content="ç¨‹åºçŒ¿">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°"/>
    <meta property="og:site_name" content="åœŸåœŸå“¥çš„æŠ€æœ¯Blog"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="åœŸåœŸå“¥çš„æŠ€æœ¯Blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="blue-grey">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">åœŸåœŸå“¥çš„æŠ€æœ¯Blog</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            åˆ†ç±»
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            å…³äº
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            æœç´¢
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav blue-grey darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="http://7nj2iz.com1.z0.glb.clouddn.com/avatar_comic_big.png" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">åœŸåœŸå“¥</p>
                        <p class="desc">iOS/æŠ€æœ¯å®…</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    é¦–é¡µ
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    å½’æ¡£
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    åˆ†ç±»
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    å…³äº
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    æœç´¢
                </a>
            </li>
        
    </ul>

    <ul class="side-nav blue-grey darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/iOS/">
                    iOS <span class="right">31 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Android/">
                    Android <span class="right">1 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/æœåŠ¡ç«¯/">
                    æœåŠ¡ç«¯ <span class="right">2 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/å…¶å®ƒ/">
                    å…¶å®ƒ <span class="right">2 ç¯‡</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">æœç´¢</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper blue-grey">
        <span class="breadcrumb">å½“å‰ä½ç½®ï¼ˆåˆ†ç±»ç›®å½•ï¼‰</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/iOS/">iOS</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°</h1>
    


            </div>
            <time class="teal-link-context" datetime="2015-05-23T11:59:22.000Z"><a href="/2015/05/23/autolayout-example-with-masonry/">2015-05-23</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/åŸåˆ›/" class="chip teal accent-4">åŸåˆ›</a>
        
            <a href="/tags/iOS/" class="chip teal accent-4">iOS</a>
        
            <a href="/tags/Autolayout/" class="chip teal accent-4">Autolayout</a>
        
            <a href="/tags/Masonry/" class="chip teal accent-4">Masonry</a>
        
    </div>


            <div class="toc teal-link-context hide-on-med-and-down">
    <ol class="section table-of-contents"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#æ›´æ–°"><span class="section table-of-contents-text">æ›´æ–°</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å‰è¨€"><span class="section table-of-contents-text">å‰è¨€</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#æ•ˆæœå›¾"><span class="section table-of-contents-text">æ•ˆæœå›¾</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#Githubåœ°å€"><span class="section table-of-contents-text">Githubåœ°å€</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å…³äºä¾‹å­å·¥ç¨‹ç»“æ„"><span class="section table-of-contents-text">å…³äºä¾‹å­å·¥ç¨‹ç»“æ„</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å…³äºAutolayout"><span class="section table-of-contents-text">å…³äºAutolayout</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å…³äºMasonry"><span class="section table-of-contents-text">å…³äºMasonry</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#Case-1-å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹"><span class="section table-of-contents-text">Case 1: å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#Content-Compression-Resistance-ä¸è®¸æŒ¤æˆ‘ï¼"><span class="section table-of-contents-text">Content Compression Resistance = ä¸è®¸æŒ¤æˆ‘ï¼</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#Content-Hugging-æŠ±ç´§ï¼"><span class="section table-of-contents-text">Content Hugging = æŠ±ç´§ï¼</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#åˆ†æ"><span class="section table-of-contents-text">åˆ†æ</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#çº¦æŸç¤ºä¾‹å›¾"><span class="section table-of-contents-text">çº¦æŸç¤ºä¾‹å›¾</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å…³é”®ä»£ç "><span class="section table-of-contents-text">å…³é”®ä»£ç </span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-4"><a class="section table-of-contents-link" href="#è®¾ç½®ä½ç½®"><span class="section table-of-contents-text">è®¾ç½®ä½ç½®</span></a></li><li class="section table-of-contents-item section table-of-contents-level-4"><a class="section table-of-contents-link" href="#è®¾ç½®å†…å®¹çº¦æŸ"><span class="section table-of-contents-text">è®¾ç½®å†…å®¹çº¦æŸ</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å°èŠ‚"><span class="section table-of-contents-text">å°èŠ‚</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#Case-2-å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—"><span class="section table-of-contents-text">Case 2: å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#åˆ†æ-1"><span class="section table-of-contents-text">åˆ†æ</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#çº¦æŸç¤ºä¾‹å›¾-1"><span class="section table-of-contents-text">çº¦æŸç¤ºä¾‹å›¾</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å…³é”®ä»£ç -1"><span class="section table-of-contents-text">å…³é”®ä»£ç </span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å°èŠ‚-1"><span class="section table-of-contents-text">å°èŠ‚</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#Case-3-å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰"><span class="section table-of-contents-text">Case 3: å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å…³é”®ä»£ç -2"><span class="section table-of-contents-text">å…³é”®ä»£ç </span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å°èŠ‚-2"><span class="section table-of-contents-text">å°èŠ‚</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#æ€»ç»“"><span class="section table-of-contents-text">æ€»ç»“</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å‚è€ƒ"><span class="section table-of-contents-text">å‚è€ƒ</span></a></li></ol>
</div>


            <div class="entry teal-link-context">
                <h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>2015-12-23: æ„Ÿè°¢<a href="https://github.com/XVXVXXX" target="_blank" rel="external">XVXVXXX</a>çš„PRï¼Œæ›´æ–°äº†Case2<br>2015-12-15: ç¬¬ä¸‰ç¯‡ï¼š<a href="http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/">æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°</a><br>2015-11-27: æ„Ÿè°¢â€œè°¢å°é›·â€æŒ‡å‡ºæ‰“å­—é”™è¯¯~<br>2015-9-10: ç¬¬äºŒç¯‡: <a href="http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/">æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°</a><br>2015-9-1: æ„Ÿè°¢â€œç‹æŒ¯å®‡Cè‰¹â€æŒ‡å‡ºæ‰“å­—é”™è¯¯ï¼Œå·²ç»ä¿®æ”¹äº†å“ˆ~</p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¥½ä¹…æ²¡æœ‰å†™Blogäº†ï¼Œè¿™æ®µæ—¶é—´æœ‰ç‚¹å¿™å•Š=ã€‚=<br>æœ¬æ–‡ä¸¾äº†3ä¸ªæ¯”è¾ƒæœ‰â€œç‰¹ç‚¹â€çš„Autolayoutä¾‹å­ï¼Œæºäºå¾®åšä¸Šå¥½å‹çš„æé—®ï¼Œæ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€ï¼Œä¹Ÿæ¯”è¾ƒæœ‰ä»£è¡¨æ€§ï¼Œå°±å†™äº†å‡ºæ¥ï¼Œåˆ†äº«ç»™å¤§å®¶~<br>è‡³äºä¸ºä»€ä¹ˆç”¨Masonryï¼Œé‚£æ˜¯å› ä¸ºå®ƒå¥½ç”¨å•Šï¼ï¼ˆè¢«é—®åˆ°è¿‡æœ‰å…³Masonryçš„é—®é¢˜ï¼Œå°±ç´¢æ€§ç”¨å®ƒæ¥å®ç°å§=ã€‚=ï¼‰ã€‚</p>
<h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_1.gif" alt="æ•ˆæœå›¾"></p>
<h3 id="Githubåœ°å€"><a href="#Githubåœ°å€" class="headerlink" title="Githubåœ°å€"></a>Githubåœ°å€</h3><p><a href="https://github.com/zekunyan/AutolayoutExampleWithMasonry" target="_blank" rel="external">https://github.com/zekunyan/AutolayoutExampleWithMasonry</a></p>
<a id="more"></a>
<h3 id="å…³äºä¾‹å­å·¥ç¨‹ç»“æ„"><a href="#å…³äºä¾‹å­å·¥ç¨‹ç»“æ„" class="headerlink" title="å…³äºä¾‹å­å·¥ç¨‹ç»“æ„"></a>å…³äºä¾‹å­å·¥ç¨‹ç»“æ„</h3><p>å®ç°çš„æ—¶å€™é‡‡ç”¨çš„æ˜¯ç”¨StoryBoardæ‹–æ‹½çº¦æŸ+Masonryæ‰‹å†™ä»£ç ç›¸ç»“åˆçš„æ–¹å¼å®ç°ã€‚æœ€å…³é”®çš„åœ°æ–¹æ˜¯ç”¨Masonryï¼Œä¸ºäº†æ›´å¥½åœ°çªå‡ºé‡ç‚¹ã€‚å…¶å®ƒçš„æ— å…³ç´§è¦çš„ç©ºé—´çº¦æŸï¼Œç›´æ¥å°±æ‹–æ‹½äº†ã€‚</p>
<h2 id="å…³äºAutolayout"><a href="#å…³äºAutolayout" class="headerlink" title="å…³äºAutolayout"></a>å…³äºAutolayout</h2><p>åˆšå¼€å§‹å­¦ä¹ Autolayoutçš„æ—¶å€™ï¼Œä»€ä¹ˆâ€œLeading Edgesâ€ã€â€œHorizontal Centersâ€ï¼Œå¥½å¤šå•Šï¼Œæ„Ÿè§‰ä¸€ä¸‹å­é€‚åº”ä¸æ¥ï¼Œæœ‰æ—¶å€™é¢å¯¹ä¸€ä¸ªç•Œé¢å¸ƒå±€ä¸Šçš„éœ€æ±‚ï¼Œå¯èƒ½éƒ½æ— ä»ä¸‹æ‰‹ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œæˆ‘è§‰å¾—Autolayoutçš„å…³é”®å°±æ˜¯â€œ<strong>Constraintï¼ˆçº¦æŸï¼‰</strong>â€ã€‚å…¶å®å°±æ˜¯ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ol>
<li>ä»æ˜¾å¼è®¾ç½®frameçš„å±æ€§ï¼Œåˆ°åˆ©ç”¨çº¦æŸæ§åˆ¶Viewçš„å¤§å°ã€ä½ç½®ã€‚</li>
<li>æ€è€ƒå¦‚ä½•å¸ƒå±€æ—¶ï¼Œé‡ç‚¹ä»å•ä¸ªçš„Viewï¼Œåˆ°æ•´ä½“æ‰€æœ‰Viewä¹‹é—´çš„ç›¸äº’å…³ç³»ã€‚</li>
</ol>
<p>æ—¢ç„¶æ²¡æœ‰äº†å…·ä½“è®¾ç½®Viewçš„frameå±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¼šåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡æˆ‘ä»¬è®¾å®šçš„â€œçº¦æŸâ€ï¼Œè®¡ç®—å‡ºæ¯ä¸ªViewçš„frameï¼Œå†å»ç»˜åˆ¶å±å¹•å†…å®¹ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è®¾ç½®çš„Constraintï¼Œè¦èƒ½ä½“ç°å‡ºViewçš„<strong>ä½ç½®ï¼ˆxã€yåæ ‡ï¼‰</strong>ã€<strong>å¤§å°ï¼ˆå®½é«˜ï¼‰</strong>ã€‚æ— è®ºæ˜¯ç”¨IBæ‹–æ‹½çº¦æŸï¼Œè¿˜æ˜¯æ‰‹å†™ä»£ç ï¼Œåªè¦ä»è¿™ä¸ªè§’åº¦å»æ€è€ƒï¼Œå¾ˆå¤šé—®é¢˜å°±éƒ½èƒ½è§£å†³ã€‚</p>
<p>æœ‰å…³Autolayoutçš„çŸ¥è¯†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œåœ¨è¿™é‡Œå°±ä¸è¯¦ç»†åˆ—å‡ºäº†ï¼Œä½†æ˜¯æœ‰ä¸ªå…¬å¼å€’æ˜¯å¯ä»¥è´´å‡ºæ¥ï¼š</p>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewA-<span class="keyword">attribute</span> = viewB-<span class="keyword">attribute</span> * multiplier + <span class="keyword">constant</span></span><br></pre></td></tr></table></figure>
<h2 id="å…³äºMasonry"><a href="#å…³äºMasonry" class="headerlink" title="å…³äºMasonry"></a>å…³äºMasonry</h2><p>å¥½ç”¨ï¼</p>
<h2 id="Case-1-å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹"><a href="#Case-1-å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹" class="headerlink" title="Case 1: å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹"></a>Case 1: å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹</h2><p>é‡åˆ°è¿™ç§è·Ÿå†…å®¹å‹ç¼©ã€ä¼˜å…ˆçº§æœ‰å…³çš„å¸ƒå±€ï¼Œå°±ä¸å¾—ä¸æAutolayoutä¸­çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§â€œ<strong>Content Compression Resistance</strong>â€å’Œâ€œ<strong>Content Hugging</strong>â€ã€‚</p>
<h3 id="Content-Compression-Resistance-ä¸è®¸æŒ¤æˆ‘ï¼"><a href="#Content-Compression-Resistance-ä¸è®¸æŒ¤æˆ‘ï¼" class="headerlink" title="Content Compression Resistance = ä¸è®¸æŒ¤æˆ‘ï¼"></a>Content Compression Resistance = ä¸è®¸æŒ¤æˆ‘ï¼</h3><p>å¯¹ï¼Œè¿™ä¸ªå±æ€§è¯´ç™½äº†å°±æ˜¯â€œä¸è®¸æŒ¤æˆ‘â€=ã€‚=<br>è¿™ä¸ªå±æ€§çš„ä¼˜å…ˆçº§ï¼ˆPriorityï¼‰è¶Šé«˜ï¼Œè¶Šä¸â€œå®¹æ˜“â€è¢«å‹ç¼©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ•´ä½“çš„ç©ºé—´è£…ä¸ä¸‹æ‰€æœ‰çš„Viewçš„æ—¶å€™ï¼ŒContent Compression Resistanceä¼˜å…ˆçº§è¶Šé«˜çš„ï¼Œæ˜¾ç¤ºçš„å†…å®¹è¶Šå®Œæ•´ã€‚</p>
<h3 id="Content-Hugging-æŠ±ç´§ï¼"><a href="#Content-Hugging-æŠ±ç´§ï¼" class="headerlink" title="Content Hugging = æŠ±ç´§ï¼"></a>Content Hugging = æŠ±ç´§ï¼</h3><p>è¿™ä¸ªå±æ€§çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œæ•´ä¸ªViewå°±è¦è¶Šâ€œæŠ±ç´§â€Viewé‡Œé¢çš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯Viewçš„å¤§å°ä¸ä¼šéšç€çˆ¶çº§Viewçš„æ‰©å¤§è€Œæ‰©å¤§ã€‚</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ ¹æ®è¦æ±‚ï¼Œå¯ä»¥å°†çº¦æŸåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>æ•´ä½“ç©ºé—´è¶³å¤Ÿæ—¶ï¼Œä¸¤ä¸ªlabelçš„å®½åº¦ç”±å†…å®¹å†³å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œlabelçš„â€œContent Huggingâ€ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œè€Œä¸”æ²¡æœ‰å›ºå®šçš„Widthå±æ€§ã€‚</li>
<li>æ•´ä½“ç©ºé—´ä¸å¤Ÿæ—¶ï¼Œå·¦è¾¹çš„labelæ›´ä¸å®¹æ˜“è¢«å‹ç¼©ï¼Œä¹Ÿå°±æ˜¯â€œContent Compression Resistanceâ€ä¼˜å…ˆçº§æ›´é«˜ã€‚</li>
</ol>
<p>é‡ç‚¹ï¼š</p>
<ol>
<li>labelä¸è®¾ç½®å…·ä½“çš„å®½åº¦ï¼ˆwidthï¼‰å±æ€§ï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚</li>
<li>æ˜¾ç¤ºçš„ä¼˜å…ˆçº§ç”±â€œContent Compression Resistanceâ€å±æ€§çš„é«˜ä½å†³å®šã€‚</li>
</ol>
<h3 id="çº¦æŸç¤ºä¾‹å›¾"><a href="#çº¦æŸç¤ºä¾‹å›¾" class="headerlink" title="çº¦æŸç¤ºä¾‹å›¾"></a>çº¦æŸç¤ºä¾‹å›¾</h3><p><img src="http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_2.png" alt="çº¦æŸç¤ºä¾‹å›¾"></p>
<h3 id="å…³é”®ä»£ç "><a href="#å…³é”®ä»£ç " class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h3><p>å…³é”®çš„ä»£ç å¦‚ä¸‹ï¼šï¼ˆlabel1æ˜¯å·¦è¾¹çš„labelï¼Œlabel2æ˜¯å³è¾¹çš„ï¼‰</p>
<h4 id="è®¾ç½®ä½ç½®"><a href="#è®¾ç½®ä½ç½®" class="headerlink" title="è®¾ç½®ä½ç½®"></a>è®¾ç½®ä½ç½®</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// label1: ä½äºå·¦ä¸Šè§’</span></span><br><span class="line">[_label1 mas_makeConstraints:^(MASConstraintMaker *<span class="built_in">make</span>) &#123;</span><br><span class="line">    <span class="built_in">make</span>.top.equalTo(_contentView1.mas_top).with.offset(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">make</span>.left.equalTo(_contentView1.mas_left).with.offset(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 40é«˜åº¦</span></span><br><span class="line">    <span class="built_in">make</span>.height.equalTo(@<span class="number">40</span>);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// label2: ä½äºå³ä¸Šè§’</span></span><br><span class="line">[_label2 mas_makeConstraints:^(MASConstraintMaker *<span class="built_in">make</span>) &#123;</span><br><span class="line">    <span class="comment">//å·¦è¾¹è´´ç€label1ï¼Œé—´éš”2</span></span><br><span class="line">    <span class="built_in">make</span>.left.equalTo(_label1.mas_right).with.offset(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸Šè¾¹è´´ç€çˆ¶viewï¼Œé—´éš”5</span></span><br><span class="line">    <span class="built_in">make</span>.top.equalTo(_contentView1.mas_top).with.offset(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å³è¾¹çš„é—´éš”ä¿æŒå¤§äºç­‰äº2ï¼Œæ³¨æ„æ˜¯lessThanOrEqual</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„â€œlessThanOrEqualToâ€æ”¾åœ¨ä»å·¦å¾€å³çš„Xè½´ä¸Šè€ƒè™‘ä¼šæ›´å¥½ç†è§£ã€‚</span></span><br><span class="line">    <span class="comment">//å³ï¼šlabel2çš„å³è¾¹ç•Œçš„Xåæ ‡å€¼â€œå°äºç­‰äºâ€containViewçš„å³è¾¹ç•Œçš„Xåæ ‡å€¼ã€‚</span></span><br><span class="line">    <span class="built_in">make</span>.right.lessThanOrEqualTo(_contentView1.mas_right).with.offset(<span class="number">-2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åªè®¾ç½®é«˜åº¦40</span></span><br><span class="line">    <span class="built_in">make</span>.height.equalTo(@<span class="number">40</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h4 id="è®¾ç½®å†…å®¹çº¦æŸ"><a href="#è®¾ç½®å†…å®¹çº¦æŸ" class="headerlink" title="è®¾ç½®å†…å®¹çº¦æŸ"></a>è®¾ç½®å†…å®¹çº¦æŸ</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®label1çš„content hugging ä¸º1000</span></span><br><span class="line"><span class="selector-attr">[_label1 setContentHuggingPriority:UILayoutPriorityRequired</span><br><span class="line">                           forAxis:UILayoutConstraintAxisHorizontal]</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®label1çš„content compression ä¸º1000</span></span><br><span class="line"><span class="selector-attr">[_label1 setContentCompressionResistancePriority:UILayoutPriorityRequired</span><br><span class="line">                                         forAxis:UILayoutConstraintAxisHorizontal]</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å³è¾¹çš„label2çš„content hugging ä¸º1000</span></span><br><span class="line"><span class="selector-attr">[_label2 setContentHuggingPriority:UILayoutPriorityRequired</span><br><span class="line">                           forAxis:UILayoutConstraintAxisHorizontal]</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å³è¾¹çš„label2çš„content compression ä¸º250</span></span><br><span class="line"><span class="selector-attr">[_label2 setContentCompressionResistancePriority:UILayoutPriorityDefaultLow</span><br><span class="line">                                         forAxis:UILayoutConstraintAxisHorizontal]</span>;</span><br></pre></td></tr></table></figure>
<h3 id="å°èŠ‚"><a href="#å°èŠ‚" class="headerlink" title="å°èŠ‚"></a>å°èŠ‚</h3><p>çµæ´»è¿ç”¨â€œContent Compression Resistanceâ€å’Œâ€œContent Huggingâ€å±æ€§ã€‚</p>
<h2 id="Case-2-å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—"><a href="#Case-2-å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—" class="headerlink" title="Case 2: å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—"></a>Case 2: å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—</h2><p>å…ˆçœ‹çœ‹ç¤ºä¾‹çš„æˆªå›¾ï¼š<br><img src="http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_3.png" alt="æ•ˆæœå›¾"></p>
<p>ä¸‹é¢çš„å››ä¸ªSwitchæ§ä»¶åˆ†åˆ«æ§åˆ¶ä¸Šé¢å¯¹åº”ä½ç½®çš„å›¾ç‰‡æ˜¯å¦æ˜¾ç¤ºã€‚</p>
<h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><ol>
<li>é¦–å…ˆå°±æ˜¯æ•´ä½“å±…ä¸­ï¼Œä¸ºäº†å®ç°è¿™ä¸ªï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å°†å››ä¸ªå›¾ç‰‡â€œè£…è¿›â€ä¸€ä¸ª<strong>å®¹å™¨View</strong>é‡Œé¢ï¼Œç„¶åè®©è¿™ä¸ªå®¹å™¨Viewåœ¨æ•´ä¸ªé¡µé¢ä¸­å±…ä¸­å³å¯ã€‚è¿™æ ·å°±ä¸ç”¨æ§åˆ¶æ¯ä¸ªå›¾ç‰‡çš„å±…ä¸­æ•ˆæœäº†ã€‚</li>
<li>ç„¶åå°±æ˜¯æ˜¾ç¤ºä¸éšè—ã€‚åœ¨è¿™é‡Œæˆ‘ç›´æ¥æ§åˆ¶å›¾ç‰‡ImageViewçš„å®½åº¦ï¼Œå®½åº¦ä¸º0çš„æ—¶å€™ä¸å°±â€œéšè—â€äº†å—ã€‚</li>
</ol>
<h3 id="çº¦æŸç¤ºä¾‹å›¾-1"><a href="#çº¦æŸç¤ºä¾‹å›¾-1" class="headerlink" title="çº¦æŸç¤ºä¾‹å›¾"></a>çº¦æŸç¤ºä¾‹å›¾</h3><p><img src="http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_4.png" alt="çº¦æŸç¤ºä¾‹å›¾"></p>
<p><strong>è§£é‡Š</strong></p>
<p>ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾ç½®ï¼Œä¸»è¦ç›®çš„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å°½é‡å‡å°‘æ— æ•ˆçš„çº¦æŸï¼Œä¿è¯çº¦æŸä¸å¤šä¹Ÿä¸å°‘ã€‚</li>
<li>å†…éƒ¨çš„æ¯ä¸ªimageViewçº¦æŸå…¶å®éƒ½åªæœ‰å››ä¸ªï¼šleftã€centerYã€widthå’Œheightï¼Œè¿™æ ·æœ‰ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥åœ¨å¾ªç¯é‡Œé¢ä¾æ¬¡æ·»åŠ çº¦æŸï¼Œå¤§å¤§å‡å°‘ä»£ç é‡ã€‚</li>
<li>æœ€å³è¾¹çš„imageViewè¿˜è¦å•ç‹¬è®¾ç½®è·Ÿå®¹å™¨Viewçš„å³è¾¹çº¦æŸï¼Œæ˜¯ä¸ºäº†ä¸ç”¨è®¾ç½®å®¹å™¨Viewçš„widthï¼Œä¿è¯å®¹å™¨Viewæ˜¯åˆšå¥½åŒ…å«å†…éƒ¨çš„Viewçš„ï¼Œè¿™æ ·æ•´ä½“æ‰æ˜¯å±…ä¸­çš„ã€‚</li>
</ol>
<h3 id="å…³é”®ä»£ç -1"><a href="#å…³é”®ä»£ç -1" class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h3><p>å…ˆçœ‹çœ‹æœ€å¤–å±‚å®¹å™¨Viewçš„ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//containerView å°±æ˜¯ å®¹å™¨View</span></span><br><span class="line"></span><br><span class="line">[_containerView mas_makeConstraints:^(MASConstraintMaker *<span class="built_in">make</span>) &#123;</span><br><span class="line">    <span class="comment">//åªè®¾ç½®é«˜åº¦ï¼Œå®½åº¦ç”±å­Viewå†³å®š</span></span><br><span class="line">    <span class="built_in">make</span>.height.equalTo(@(IMAGE_SIZE));</span><br><span class="line">    <span class="comment">//æ°´å¹³å±…ä¸­</span></span><br><span class="line">    <span class="built_in">make</span>.centerX.equalTo(self.view.mas_centerX);</span><br><span class="line">    <span class="comment">//è·ç¦»çˆ¶Viewé¡¶éƒ¨200ç‚¹</span></span><br><span class="line">    <span class="built_in">make</span>.top.equalTo(self.view.mas_top).offset(<span class="number">200</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>å¾ªç¯åˆ›å»ºæ¯ä¸ªå†…éƒ¨çš„imageView</p>
<figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¾ªç¯åˆ›å»ºã€æ·»åŠ imageView</span></span><br><span class="line"><span class="keyword">for</span> (NSUInteger i = <span class="number">0</span><span class="comment">; i &lt; 4; i++) &#123;</span></span><br><span class="line">    UIImageView *imageView = [[UIImageView <span class="keyword">alloc</span>] initWithImage:[UIImage imageNamed:_imageNames[i]]]<span class="comment">;</span></span><br><span class="line">    [_imageViews addObject:imageView]<span class="comment">;</span></span><br><span class="line">    [_containerView addSubview:imageView]<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åæ˜¯å¾ªç¯å¯¹imageViewåŠ ä¸Šçº¦æŸï¼š æ„Ÿè°¢<a href="https://github.com/XVXVXXX" target="_blank" rel="external">XVXVXXX</a>çš„PR:-D<br><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾å®šå¤§å°</span></span><br><span class="line">CGSize imageViewSize = CGSizeMake(IMAGE_SIZE, IMAGE_SIZE)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†åˆ«è®¾ç½®æ¯ä¸ªimageViewçš„å®½é«˜ã€å·¦è¾¹ã€å‚ç›´ä¸­å¿ƒçº¦æŸï¼Œæ³¨æ„çº¦æŸçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">//æ¯ä¸ªViewçš„å·¦è¾¹çº¦æŸå’Œå·¦è¾¹çš„Viewçš„å³è¾¹ç›¸ç­‰=ã€‚=ï¼Œæœ‰ç‚¹ç»•å£...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿å­˜å¾ªç¯ä¸­çš„ä¸´æ—¶ç»“æœ</span></span><br><span class="line">__block UIView *lastView = nil<span class="comment">;</span></span><br><span class="line">__block MASConstraint *widthConstraint = nil<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">NSUInteger arrayCount = _imageViews.count<span class="comment">;</span></span><br><span class="line">[_imageViews enumerateObjectsUsingBlock:^(UIView *view, NSUInteger idx, BOOL *<span class="keyword">stop</span>) &#123;</span><br><span class="line">    [view mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">        <span class="comment">//å®½é«˜å›ºå®š</span></span><br><span class="line">        widthConstraint = make.<span class="keyword">width</span>.equalTo(@(imageViewSize.<span class="keyword">width</span>))<span class="comment">;</span></span><br><span class="line">        make.height.equalTo(@(imageViewSize.height))<span class="comment">;</span></span><br><span class="line">        <span class="comment">//å·¦è¾¹çº¦æŸ</span></span><br><span class="line">        make.left.equalTo(lastView ? lastView.mas_right : view.superview.mas_left)<span class="comment">;</span></span><br><span class="line">        <span class="comment">//å‚ç›´ä¸­å¿ƒå¯¹é½</span></span><br><span class="line">        make.centerY.equalTo(view.superview.mas_centerY)<span class="comment">;</span></span><br><span class="line">        <span class="comment">//è®¾ç½®æœ€å³è¾¹çš„imageViewçš„å³è¾¹ä¸çˆ¶viewçš„æœ€å³å¯¹é½</span></span><br><span class="line">        <span class="keyword">if</span> (idx == arrayCount - <span class="number">1</span>) &#123;</span><br><span class="line">            make.right.equalTo(view.superview.mas_right)<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [_widthConstraints addObject:widthConstraint]<span class="comment">;</span></span><br><span class="line">        lastView = view<span class="comment">;</span></span><br><span class="line">    &#125;]<span class="comment">;</span></span><br><span class="line">&#125;]<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>æ§åˆ¶ImageViewæ˜¾ç¤ºã€éšè—çš„æ—¶å€™ï¼Œç›´æ¥è®©å…¶å®½åº¦ç­‰äº0å°±è¡Œï¼š<br><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (IBAction)showOrHideImage:(UISwitch *)sender &#123;</span><br><span class="line">    NSUInteger index = (NSUInteger) sender.tag<span class="comment">;</span></span><br><span class="line">    MASConstraint *<span class="keyword">width</span> = _widthConstraints[index]<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sender.<span class="keyword">on</span>) &#123;</span><br><span class="line">        <span class="keyword">width</span>.equalTo(@(IMAGE_SIZE))<span class="comment">;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">width</span>.equalTo(@<span class="number">0</span>)<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å°èŠ‚-1"><a href="#å°èŠ‚-1" class="headerlink" title="å°èŠ‚"></a>å°èŠ‚</h3><p>æœ‰æ—¶å€™ç”¨ä¸ªâ€œå®¹å™¨Viewâ€ç®¡ç†å†…éƒ¨çš„Viewï¼Œå¾€å¾€ä¼šèµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚è€Œä¸”åœ¨ç»„ç»‡çº¦æŸçš„æ—¶å€™ï¼Œå°½é‡çš„å°†çº¦æŸç»Ÿä¸€èµ·æ¥ï¼Œè¿™æ ·å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°å»è®¾ç½®ï¼Œå‡å°‘ä»£ç é‡ã€‚</p>
<h2 id="Case-3-å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰"><a href="#Case-3-å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰" class="headerlink" title="Case 3: å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰"></a>Case 3: å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰</h2><p>å…¶å®è¿™ä¸ªå¾ˆç®€å•=ã€‚= å†çœ‹çœ‹è¿™ä¸ªå…¬å¼ï¼š</p>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewA-<span class="keyword">attribute</span> = viewB-<span class="keyword">attribute</span> * multiplier + <span class="keyword">constant</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯Autolayouté‡Œé¢ä¸€ä¸ªçº¦æŸçš„ä¸åŒå±æ€§çš„åŸºæœ¬ç»„åˆå…³ç³»ï¼Œæ›¿æ¢æˆå®½åº¦çš„è¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­<span class="keyword">View</span>çš„å®½åº¦ = çˆ¶çº§<span class="keyword">View</span>å®½åº¦ * ç³»æ•° + å¸¸æ•°ï¼›</span><br></pre></td></tr></table></figure>
<p>åœ¨Masonryé‡Œé¢ï¼Œå…¶å®æœ‰ä¸ªå‡½æ•°â€œ<strong>multipliedBy</strong>â€ï¼Œå°±æ˜¯ç”¨æ¥è®¾ç½®multiplerå±æ€§çš„ï¼ˆè·ŸåŸæœ¬çš„NSLayoutConstraintçš„å¯¹åº”ï¼‰ã€‚</p>
<h3 id="å…³é”®ä»£ç -2"><a href="#å…³é”®ä»£ç -2" class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h3><p>å¦‚ä¸‹ï¼š<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[subView mas_makeConstraints:^(<span class="name">MASConstraintMaker</span> *make) &#123;</span><br><span class="line">    //ä¸Šä¸‹å·¦è´´è¾¹</span><br><span class="line">    make.left.equalTo(<span class="name">_containerView.mas_left</span>)<span class="comment">;</span></span><br><span class="line">    make.top.equalTo(<span class="name">_containerView.mas_top</span>)<span class="comment">;</span></span><br><span class="line">    make.bottom.equalTo(<span class="name">_containerView.mas_bottom</span>)<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    //å®½åº¦ä¸ºçˆ¶viewçš„å®½åº¦çš„ä¸€åŠ</span><br><span class="line">    make.width.equalTo(<span class="name">_containerView.mas_width</span>).multipliedBy(<span class="number">0.5</span>)<span class="comment">;</span></span><br><span class="line">&#125;]<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€ï¼Œåªè¦æ§åˆ¶çˆ¶çº§Viewçš„å®½åº¦ï¼Œå­Viewçš„å®½åº¦å°±ä¼šéšç€å˜åŒ–äº†ã€‚</p>
<h3 id="å°èŠ‚-2"><a href="#å°èŠ‚-2" class="headerlink" title="å°èŠ‚"></a>å°èŠ‚</h3><p>multipliedByåœ¨Masonryçš„Githubä¸»é¡µé‡Œé¢æ²¡æœ‰=ã€‚=<br>æ‰€ä»¥è¦å…»æˆè¯»å¤´æ–‡ä»¶çš„ä¹ æƒ¯~</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ‰å…³Autolayoutçš„ä¸œè¥¿è¿˜æœ‰å¥½å¤šæ²¡æœ‰å†™ï¼Œä»€ä¹ˆåŠ¨ç”»å•Šã€åŠ¨æ€ä¿®æ”¹çº¦æŸä¹‹ç±»çš„ï¼Œæœ¬æ–‡ä¹Ÿç®—æ˜¯ä¸ªå¼•å­å§ï¼Œä»»é‡è€Œé“è¿œ~</p>
<p>èƒ½çœ‹åˆ°è¿™çš„æœ‹å‹ï¼Œä¹Ÿç®—æ˜¯å¾ˆæœ‰è€å¿ƒäº†ï¼Œå“ˆå“ˆ~~</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">SnapKit/Masonry</a></li>
<li><a href="http://adad184.com/2014/09/28/use-masonry-to-quick-solve-autolayout/" target="_blank" rel="external">Masonryä»‹ç»ä¸ä½¿ç”¨å®è·µ(å¿«é€Ÿä¸Šæ‰‹Autolayout)</a></li>
<li><a href="http://www.vienta.me/2014/12/07/AutoLayout-å¿˜æ‰Frame-æ‹¥æŠ±Constraintï¼ˆIï¼‰/" target="_blank" rel="external">AutoLayout:å¿˜æ‰Frame,æ‹¥æŠ±Constraint</a></li>
<li><a href="https://www.zybuluo.com/MicroCai/note/73867#autolayout-åŸºç¡€" target="_blank" rel="external">Autolayout åŸºç¡€</a></li>
<li><a href="http://codingobjc.com/blog/2015/01/28/autolayoutzhong-de-content-compression-resistancehe-content-huggingdao-di-shi-shi-yao-yi-si/" target="_blank" rel="external">å¯¹Auto Layoutä¸­çš„Content Compression Resistanceå’ŒContent Huggingçš„æ€»ç»“</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Introduction/Introduction.html" target="_blank" rel="external">Auto Layout Guide</a></li>
</ul>

            </div>
        </div>
    </div>
</article>




    <section id="comment">
        <div class="card">
            <div class="card-content">
                <!-- Duoshuo Comment BEGIN -->
                <div class="ds-thread" data-thread-key="2015/05/23/autolayout-example-with-masonry/" data-title="æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°" data-url="http://tutuge.me/2015/05/23/autolayout-example-with-masonry/"></div>

                <script type="text/javascript">
                    console.log(document.querySelector('.ds-thread'));
                    var duoshuoQuery = {
                        short_name: 'tutuge'
                    };
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';
                        ds.async = true;
                        ds.src = (document.location.protocol == 'https:'
                            ? 'https:'
                            : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
                <!-- Duoshuo Comment END -->
            </div>
        </div>
    </section>



</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large teal">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect teal accent-4" title="å›åˆ°é¡¶éƒ¨"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse teal accent-4"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer blue-grey darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m3 s12">
                <h5 class="white-text">ç¤¾äº¤</h5>
                
                    <a class="social-link" href="http://weibo.com/zekunyan" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/zekunyan" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
            </div>
            

            
            <div class="col m9 s12">
                <h5 class="white-text">å‹æƒ…é“¾æ¥</h5>
                
                    <a class="social-link" href="http://chenrudan.github.io/" target="_blank">å¥³æœ‹å‹çš„åšå®¢ğŸ˜Š</a>
                
                    <a class="social-link" href="http://raytaylorlin.com/" target="_blank">raytaylorismä¸»é¢˜ä½œè€…çš„æŠ€æœ¯åšå®¢</a>
                
                    <a class="social-link" href="http://suta.name/" target="_blank">å¾ˆèµçš„è®¾è®¡å¸ˆ</a>
                
                    <a class="social-link" href="http://neoyeelf.github.io/" target="_blank">NeOye&#39;s blog</a>
                
                    <a class="social-link" href="http://bingyan.farbox.com/" target="_blank">Howlå†™ä¸œè¥¿çš„åœ°æ–¹</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright teal-link-context">
        <div class="container">
            Â© 2016 tutuge.me, All rights reserved.
            <p class="right" style="margin-top: 0;">æœ¬åšå®¢ç”± <a href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">å½“å‰ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…ä½ ä½¿ç”¨çš„æµè§ˆå™¨ä¸æ”¯æŒåšå®¢ç‰¹å®šåŠŸèƒ½ï¼Œè¯·å°è¯•åˆ·æ–°æˆ–æ¢ç”¨Chromeã€Firefoxç­‰ç°ä»£æµè§ˆå™¨</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">å½“å‰ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…ä½ ä½¿ç”¨çš„æµè§ˆå™¨ä¸æ”¯æŒåšå®¢ç‰¹å®šåŠŸèƒ½ï¼Œè¯·å°è¯•åˆ·æ–°æˆ–æ¢ç”¨Chromeã€Firefoxç­‰ç°ä»£æµè§ˆå™¨</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>

<script>
    (function($) {
        $(document).ready(function() {
            // éšè—ç¦ç”¨javascriptï¼ˆé’ˆå¯¹å¾®ä¿¡å†…ç½®æµè§ˆå™¨ï¼‰çš„æç¤º
            $('.noscript').hide();

            // å›¾ç‰‡ç¼©æ”¾æ•ˆæœ
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // ç»™å›¾ç‰‡åŠ ä¸Šç‚¹å‡»æ”¾å¤§æ•ˆæœï¼ˆmaterialboxæ’ä»¶ï¼‰
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // ä¼˜åŒ–è¡¨æ ¼çš„æ˜¾ç¤º
            $('table').each(function() {
                var $table = $(this);
                // é™¤å»å¤šè¡Œä»£ç çš„æƒ…å†µ
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // é¦–é¡µå¹»ç¯ç‰‡
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // é’ˆå¯¹gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // æ–‡ç« ç›®å½•
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();
            // ä¿®æ­£æ–‡ç« ç›®å½•çš„left-borderé¢œè‰²
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // é’ˆå¯¹ç§»åŠ¨ç«¯åšçš„ä¼˜åŒ–ï¼šFABæŒ‰é’®ç‚¹å‡»ä¸€ä¸‹æ”¶å›
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // å›åˆ°é¡¶éƒ¨
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // é‡ç½®è¯»ä¹¦é¡µé¢çš„Tabæ ‡ç­¾é¡µçš„é¢œè‰²
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('teal lighten-2');

            
            // æ·»åŠ newæ ‡ç­¾
            $('.menu-reading, .menu-about').append('<span class="new badge teal accent-4"></span>');
            

            // æœç´¢åŠŸèƒ½
            $('.modal-trigger').leanModal({
                // æ‰“å¼€æœç´¢æ¡†æ—¶è‡ªåŠ¨èšç„¦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "search.xml";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // åˆå§‹åŒ–æœç´¢ä¸åŒ¹é…å‡½æ•°
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword teal lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword teal lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68058110-1', 'auto');
    ga('send', 'pageview');

</script>



<script type="text/javascript" src="http://tajs.qq.com/stats?sId=55079830" charset="UTF-8"></script>





</body>
</html>
