<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>åœŸåœŸå“¥çš„æŠ€æœ¯Blog</title>
  <subtitle>iOSï¼ŒAndroidç¨‹åºçŒ¿ï¼Œå–œæ¬¢Macã€Linuxã€å„ç§å¼€æºæŠ€æœ¯ï¼Œå„ç§è¯­è¨€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tutuge.me/"/>
  <updated>2016-09-05T14:46:57.000Z</updated>
  <id>http://tutuge.me/</id>
  
  <author>
    <name>ç‡•æ³½å ƒ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Swiftå¼€æºMac App - BingWallPaper</title>
    <link href="http://tutuge.me/2016/08/28/TTGBingWallPaper/"/>
    <id>http://tutuge.me/2016/08/28/TTGBingWallPaper/</id>
    <published>2016-08-28T14:37:02.000Z</published>
    <updated>2016-09-05T14:46:57.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-09-05: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper/releases/download/0.3/BingWallPaper.app.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ–°ç‰ˆ0.3&lt;/a&gt;å¢åŠ å­Menuï¼Œæ•´ç†é€‰é¡¹ï¼›å¢åŠ â€œHistory Wallpapersâ€æ‰“å¼€å†å²å›¾ç‰‡æ–‡ä»¶å¤¹ï¼›å¢åŠ â€œLaunch at startupâ€å¼€æœºå¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;2016-09-03: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper/releases/download/0.2.0/BingWallPaper.app.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ–°ç‰ˆ0.2.0ï¼&lt;/a&gt;å¢åŠ â€œAuto Updateâ€é€‰é¡¹ï¼›å¢åŠ â€œRandomâ€éšæœºé€‰æ‹©è®¾ç½®å£çº¸ï¼›ä¿®å¤è‡ªåŠ¨æ›´æ–°ä¸å‡†çš„Bugã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/BingWallPaper_banner.png&quot; alt=&quot;Banner&quot;&gt;&lt;/p&gt;
&lt;p&gt;æç®€çš„å£çº¸Mac Appï¼Œæ¯å¤©&lt;strong&gt;è‡ªåŠ¨&lt;/strong&gt;ä¸‹è½½æœ€æ–°å¾®è½¯Bingçš„æ¯æ—¥å£çº¸å¹¶è®¾ç½®ä¸ºæ¡Œé¢èƒŒæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/BingWallPaper_screenshot_2.png?2=2&quot; alt=&quot;ScreenShot1&quot;&gt;&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/TTGBingWallPaper&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ç”±æ¥&quot;&gt;&lt;a href=&quot;#ç”±æ¥&quot; class=&quot;headerlink&quot; title=&quot;ç”±æ¥&quot;&gt;&lt;/a&gt;ç”±æ¥&lt;/h2&gt;&lt;p&gt;å…¶å®æœ€å¼€å§‹åªæ˜¯å¾ˆå–œæ¬¢Bingçš„é¦–é¡µçš„å£çº¸å›¾ç‰‡ï¼Œç„¶åæ‰‹åŠ¨ä¸‹è½½å›æ¥åšå£çº¸ï¼Œåæ¥å‘ç°æ‰‹åŠ¨å¤ªéº»çƒ¦ï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿï¼=ã€‚= ç„¶åèŠ±äº†ä¸ªå‘¨æœ«å†™äº†è¿™ä¸ªè¶…ç®€å•çš„Mac Appã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h2&gt;&lt;p&gt;åˆ°Githubçš„é¡¹ç›®é¡µé¢ï¼Œå³&lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/TTGBingWallPaper&lt;/a&gt;ï¼Œä»&lt;code&gt;release&lt;/code&gt;é‡Œé¢ä¸‹è½½æœ€æ–°çš„&lt;code&gt;BingWallPaper.app.zip&lt;/code&gt;å‹ç¼©åŒ…ï¼Œè§£å‹å‡º&lt;code&gt;BingWallPaper.app&lt;/code&gt;ï¼Œæ‹–åˆ°&lt;code&gt;Applications&lt;/code&gt;åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹é‡Œé¢ï¼Œæ‰“å¼€å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¼€å‘&quot;&gt;&lt;a href=&quot;#å¼€å‘&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘&quot;&gt;&lt;/a&gt;å¼€å‘&lt;/h2&gt;&lt;p&gt;ç”¨Swift 2.2å†™çš„ï¼Œç›®å‰å”¯ä¸€ä¾èµ–çš„åº“æ˜¯&lt;a href=&quot;https://github.com/SwiftyJSON/SwiftyJSON&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SwiftyJSON/SwiftyJSON&lt;/a&gt;ï¼Œéœ€è¦&lt;a href=&quot;https://github.com/Carthage/Carthage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Carthage&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git clone git@github.com:zekunyan/TTGBingWallPaper.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd TTGBingWallPaper&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;carthage update&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;open BingWallPaper.xcodeproj&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘ã€å®‰è£…ã€è¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æœªæ¥&quot;&gt;&lt;a href=&quot;#æœªæ¥&quot; class=&quot;headerlink&quot; title=&quot;æœªæ¥&quot;&gt;&lt;/a&gt;æœªæ¥&lt;/h2&gt;&lt;p&gt;è¿˜æœ‰å¾ˆå¤šç‚¹å¯ä»¥åšï¼Œä¸€ç‚¹ä¸€ç‚¹æ¥å§=ã€‚=&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TODO&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå¤šå›½åœ°åŒºçš„Bingæ¯æ—¥å›¾ç‰‡å£çº¸çš„è·å–&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šè¯­è¨€&lt;/li&gt;
&lt;li&gt;æ”¯æŒæµè§ˆå†å²å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;å¯¼å‡ºå›¾ç‰‡&lt;/li&gt;
&lt;li&gt;â€¦&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-09-05: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper/releases/download/0.3/BingWallPaper.app.zip&quot;&gt;æ–°ç‰ˆ0.3&lt;/a&gt;å¢åŠ å­Menuï¼Œæ•´ç†é€‰é¡¹ï¼›å¢åŠ â€œHistory Wallpapersâ€æ‰“å¼€å†å²å›¾ç‰‡æ–‡ä»¶å¤¹ï¼›å¢åŠ â€œLaunch at startupâ€å¼€æœºå¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;2016-09-03: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper/releases/download/0.2.0/BingWallPaper.app.zip&quot;&gt;æ–°ç‰ˆ0.2.0ï¼&lt;/a&gt;å¢åŠ â€œAuto Updateâ€é€‰é¡¹ï¼›å¢åŠ â€œRandomâ€éšæœºé€‰æ‹©è®¾ç½®å£çº¸ï¼›ä¿®å¤è‡ªåŠ¨æ›´æ–°ä¸å‡†çš„Bugã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/BingWallPaper_banner.png&quot; alt=&quot;Banner&quot;&gt;&lt;/p&gt;
&lt;p&gt;æç®€çš„å£çº¸Mac Appï¼Œæ¯å¤©&lt;strong&gt;è‡ªåŠ¨&lt;/strong&gt;ä¸‹è½½æœ€æ–°å¾®è½¯Bingçš„æ¯æ—¥å£çº¸å¹¶è®¾ç½®ä¸ºæ¡Œé¢èƒŒæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/BingWallPaper_screenshot_2.png?2=2&quot; alt=&quot;ScreenShot1&quot;&gt;&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGBingWallPaper&quot;&gt;https://github.com/zekunyan/TTGBingWallPaper&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Mac" scheme="http://tutuge.me/categories/Mac/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="å¼€æº" scheme="http://tutuge.me/tags/%E5%BC%80%E6%BA%90/"/>
    
      <category term="Mac" scheme="http://tutuge.me/tags/Mac/"/>
    
      <category term="Swift" scheme="http://tutuge.me/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°</title>
    <link href="http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/"/>
    <id>http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/</id>
    <published>2016-08-06T13:41:17.000Z</published>
    <updated>2016-08-06T17:32:15.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬å››ç¯‡æ¥äº†ã€‚&lt;br&gt;è¿˜æ˜¯3ä¸ªå°ä¾‹å­ï¼Œä»ç„¶æ˜¯ä¸»è¦éƒ¨åˆ†ç”¨Masonryæ‰‹å†™ä»£ç å®ç°ï¼Œå…¶å®ƒçš„çº¦æŸåœ¨storyboardé‡Œé¢ç›´æ¥æ‹–æ‹½æ­å»ºã€‚&lt;br&gt;ä¸‰ä¸ªä¾‹å­åˆ†åˆ«æ˜¯ï¼š  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&lt;/li&gt;
&lt;li&gt;Autolayoutçš„çº¦æŸ=æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œç»‘å®šâ€&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨&lt;code&gt;layoutIfNeeded&lt;/code&gt;æ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‰ä¸‰ç¯‡ï¼š  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry4_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Case-1-ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&quot;&gt;&lt;a href=&quot;#Case-1-ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&quot; class=&quot;headerlink&quot; title=&quot;Case 1: ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&quot;&gt;&lt;/a&gt;Case 1: ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&lt;/h2&gt;&lt;h3 id=&quot;å®ç°åŠŸèƒ½&quot;&gt;&lt;a href=&quot;#å®ç°åŠŸèƒ½&quot; class=&quot;headerlink&quot; title=&quot;å®ç°åŠŸèƒ½&quot;&gt;&lt;/a&gt;å®ç°åŠŸèƒ½&lt;/h3&gt;&lt;p&gt;Case 1å®ç°çš„åŠŸèƒ½å°±æ˜¯ï¼Œå¯ä»¥ç”¨æ‰‹æŒ‡æ‹–åŠ¨ä¸€ä¸ªç°è‰²çš„Tipæ§ä»¶ï¼Œåœ¨çº¢æ¡†containerViewå†…ç§»åŠ¨ï¼Œå¹¶ä¸”ä¿æŒç§»åŠ¨åˆ°çº¢æ¡†è¾¹ç¼˜æ—¶ï¼ŒTipæ§ä»¶çš„å†…å®¹ä¸ä¼šè¶…å‡ºçº¢æ¡†ï¼Œä¿è¯å†…å®¹çš„å¯è§æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Frame-VS-Autolayout&quot;&gt;&lt;a href=&quot;#Frame-VS-Autolayout&quot; class=&quot;headerlink&quot; title=&quot;Frame VS Autolayout&quot;&gt;&lt;/a&gt;Frame VS Autolayout&lt;/h3&gt;&lt;p&gt;å¦‚æœä¸ç”¨Autolayoutçš„è¯ï¼Œç›´æ¥è®¡ç®—ã€è®¾å®šframeï¼Œé‚£ä¹ˆå¯èƒ½çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è·å–æ‰‹æŒ‡å½“å‰è§¦æ‘¸ç‚¹åœ¨çº¢æ¡†containerViewå†…çš„åæ ‡&lt;/li&gt;
&lt;li&gt;è®¡ç®—Tipæ§ä»¶çš„å®½é«˜&lt;/li&gt;
&lt;li&gt;æ ¹æ®å®½é«˜ï¼Œè®¡ç®—ã€åˆ¤æ–­Tipæ§ä»¶ä¼šä¸ä¼šåœ¨æ–°çš„ä½ç½®ä¸Šè¶…å‡ºè¾¹ç•Œ&lt;/li&gt;
&lt;li&gt;è°ƒæ•´æ–°çš„Tipä½ç½®åæ ‡&lt;/li&gt;
&lt;li&gt;è®¾ç½®Tipæ§ä»¶çš„frameï¼ŒæŒ‡å®šæ–°çš„åæ ‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·å»å®ç°çš„è¯ï¼Œä»£ç å°†ä¼šæ¯”è¾ƒâ€œä¸‘â€=ã€‚ã€‚=ï¼Œæœ‰å¤§é‡çš„åˆ¤æ–­ã€æ•°å€¼è®¡ç®—ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;è€Œç”¨Autolayoutçš„è¯ï¼Œ&lt;strong&gt;åªéœ€è¦ä¸¤æ­¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾ç½®çº¦æŸ&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ‰‹æŒ‡åæ ‡ï¼Œæ›´æ–°leftã€topä¸¤ä¸ªçº¦æŸï¼Œå³æ›´æ–°Tipçš„ä½ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‡³äºä¿è¯Tipå†…å®¹åœ¨å¯è§èŒƒå›´å†…ï¼Œå°±äº¤ç»™Autolayoutå¤„ç†å§~&lt;/p&gt;
&lt;h3 id=&quot;å…³é”®åŸç†&quot;&gt;&lt;a href=&quot;#å…³é”®åŸç†&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®åŸç†&quot;&gt;&lt;/a&gt;å…³é”®åŸç†&lt;/h3&gt;&lt;p&gt;ç”¨Autolayoutå®ç°çš„å…³é”®ï¼Œå°±æ˜¯&lt;strong&gt;å–„äºåˆ©ç”¨çº¦æŸçš„ä¼˜å…ˆçº§&lt;/strong&gt;ã€‚å…ˆçœ‹çœ‹è®¾ç½®çš„çº¦æŸç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry4_2.png?1=1&quot; alt=&quot;Case 1: ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸­é—´çš„tipLabelå°±æ˜¯è¢«ç§»åŠ¨çš„æ§ä»¶  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¤è‰²çš„ä¸¤ä¸ªçº¦æŸï¼Œåˆ†åˆ«æ˜¯Tipæ§ä»¶çš„centerXå’ŒcenterYï¼Œä¸ä¸Šçº§Viewçš„leftå’Œtopçš„çº¦æŸï¼Œç”¨æ¥å¯¹Tipå®šä½&lt;/li&gt;
&lt;li&gt;å››ä¸ªè“è‰²çš„çº¦æŸï¼Œåˆ™æ˜¯ç¡®ä¿Tipå†…å®¹ä¸è¶…å‡ºè¾¹ç•Œçš„çº¦æŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡ç‚¹å…¶å®å°±åœ¨äºï¼Œ&lt;strong&gt;è“è‰²çš„çº¦æŸçš„ä¼˜å…ˆçº§æ¯”è¤è‰²çš„ä¼˜å…ˆçº§é«˜ï¼Œè¿™æ ·ï¼Œåœ¨ç§»åŠ¨ä¸­ï¼Œç³»ç»Ÿä¼šä¼˜å…ˆæ»¡è¶³Tipçš„å†…å®¹ä¿æŒåœ¨è¾¹ç•Œå†…&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å®ç°ç»†èŠ‚&quot;&gt;&lt;a href=&quot;#å®ç°ç»†èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;å®ç°ç»†èŠ‚&quot;&gt;&lt;/a&gt;å®ç°ç»†èŠ‚&lt;/h3&gt;&lt;p&gt;å…·ä½“çš„è®¾ç½®çº¦æŸä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h4 id=&quot;å·¦è¾¹å’Œé¡¶éƒ¨çš„çº¦æŸ-æ§åˆ¶ä½ç½®&quot;&gt;&lt;a href=&quot;#å·¦è¾¹å’Œé¡¶éƒ¨çš„çº¦æŸ-æ§åˆ¶ä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;å·¦è¾¹å’Œé¡¶éƒ¨çš„çº¦æŸ - æ§åˆ¶ä½ç½®&quot;&gt;&lt;/a&gt;å·¦è¾¹å’Œé¡¶éƒ¨çš„çº¦æŸ - æ§åˆ¶ä½ç½®&lt;/h4&gt;&lt;p&gt;é¦–å…ˆè®¾ç½®ä¸¤ä¸ªå±æ€§ï¼Œä¿å­˜å·¦è¾¹å’Œé¡¶éƒ¨çš„çº¦æŸï¼Œç”¨äºåœ¨ç§»åŠ¨æ—¶è°ƒæ•´ä½ç½®ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt; &lt;/span&gt;(nonatomic, strong) MASConstraint *leftConstraint;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt; &lt;/span&gt;(nonatomic, strong) MASConstraint *topConstraint;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åå°±æ˜¯è®¾ç½®å…·ä½“çš„leftã€topçº¦æŸï¼Œå¹¶è®¾ç½®ä¼˜å…ˆçº§ä¸º750ï¼Œä¹Ÿå°±æ˜¯High&lt;/p&gt;
&lt;figure class=&quot;highlight scheme&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;name&quot;&gt;_tipLabel&lt;/span&gt; mas_makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ä¼˜å…ˆçº§è¦æ¯”è¾¹ç•Œæ¡ä»¶ä½&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _leftConstraint = make.centerX.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_left&lt;/span&gt;).with.offset(&lt;span class=&quot;name&quot;&gt;50&lt;/span&gt;).priorityHigh()&lt;span class=&quot;comment&quot;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ä¼˜å…ˆçº§è¦æ¯”è¾¹ç•Œæ¡ä»¶ä½&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _topConstraint = make.centerY.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_top&lt;/span&gt;).with.offset(&lt;span class=&quot;name&quot;&gt;50&lt;/span&gt;).priorityHigh()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;å››å‘¨çš„çº¦æŸ-ä¿è¯å†…å®¹åœ¨è¾¹ç•Œå†…&quot;&gt;&lt;a href=&quot;#å››å‘¨çš„çº¦æŸ-ä¿è¯å†…å®¹åœ¨è¾¹ç•Œå†…&quot; class=&quot;headerlink&quot; title=&quot;å››å‘¨çš„çº¦æŸ - ä¿è¯å†…å®¹åœ¨è¾¹ç•Œå†…&quot;&gt;&lt;/a&gt;å››å‘¨çš„çº¦æŸ - ä¿è¯å†…å®¹åœ¨è¾¹ç•Œå†…&lt;/h4&gt;&lt;p&gt;ç„¶åå°±æ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªè¾¹ç•Œçš„çº¦æŸï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[_tipLabel mas_makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // è®¾ç½®è¾¹ç•Œæ¡ä»¶çº¦æŸï¼Œä¿è¯å†…å®¹å¯è§ï¼Œä¼˜å…ˆçº§&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.greaterThanOrEqualTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_left&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.right.lessThanOrEqualTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_right&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.greaterThanOrEqualTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_top&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.lessThanOrEqualTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_bottom&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªåœ°æ–¹è¦æ³¨æ„æ˜¯&lt;code&gt;lessThanOrEqualTo&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;greaterThanOrEqualTo&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ»‘åŠ¨æ—¶æ›´æ–°Tipä½ç½®&quot;&gt;&lt;a href=&quot;#æ»‘åŠ¨æ—¶æ›´æ–°Tipä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;æ»‘åŠ¨æ—¶æ›´æ–°Tipä½ç½®&quot;&gt;&lt;/a&gt;æ»‘åŠ¨æ—¶æ›´æ–°Tipä½ç½®&lt;/h4&gt;&lt;p&gt;è¿™ä¸€ç‚¹æ¯”è¾ƒç®€å•ï¼Œç›´æ¥å°†å½“å‰è§¦æ‘¸çš„åæ ‡èµ‹å€¼ç»™&lt;code&gt;leftConstraint&lt;/code&gt;å’Œ&lt;code&gt;rightConstraint&lt;/code&gt;å°±å¥½ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_leftConstraint.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt; = touchPoint.x;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_topConstraint.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt; = touchPoint.y;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å°èŠ‚&quot;&gt;&lt;a href=&quot;#å°èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;å¯¹æ¯”èµ·æ¥ï¼Œæ˜æ˜¾æ˜¯ç”¨Autolayoutçš„æ–¹æ³•æ¯”è®¡ç®—è®¾ç½®frameçš„æ–¹æ³•è¦â€œä¼˜é›…â€çš„å¤š=ã€‚=ï¼Œçµæ´»è¿ç”¨çº¦æŸçš„ä¼˜å…ˆçº§ï¼Œå¾€å¾€å¯ä»¥å‡å°‘å¾ˆå¤šå·¥ä½œé‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Case-2-Autolayoutçš„çº¦æŸ-æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œåŠ¨æ€ç»‘å®šâ€&quot;&gt;&lt;a href=&quot;#Case-2-Autolayoutçš„çº¦æŸ-æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œåŠ¨æ€ç»‘å®šâ€&quot; class=&quot;headerlink&quot; title=&quot;Case 2: Autolayoutçš„çº¦æŸ=æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œåŠ¨æ€ç»‘å®šâ€&quot;&gt;&lt;/a&gt;Case 2: Autolayoutçš„çº¦æŸ=æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œåŠ¨æ€ç»‘å®šâ€&lt;/h2&gt;&lt;h3 id=&quot;å®ç°åŠŸèƒ½-1&quot;&gt;&lt;a href=&quot;#å®ç°åŠŸèƒ½-1&quot; class=&quot;headerlink&quot; title=&quot;å®ç°åŠŸèƒ½&quot;&gt;&lt;/a&gt;å®ç°åŠŸèƒ½&lt;/h3&gt;&lt;p&gt;Case 2çš„åŠŸèƒ½å…¶å®æ˜¯åœ¨Case 1çš„åŸºç¡€ä¸Šå®ç°çš„ï¼Œå°±æ˜¯åœ¨ç§»åŠ¨ä¸€ä¸ªViewçš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªAttachmenté™„ä»¶Viewï¼Œå§‹ç»ˆä¿æŒè·Ÿè¿™ä¸ªViewçš„ç›¸å¯¹ä½ç½®ä¸å˜ï¼Œå°±åƒæ˜¯â€œé™„ç€â€ã€â€œæ†ç»‘â€åœ¨è¿™ä¸ªViewä¸Šä¸€æ ·ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…³é”®æ¦‚å¿µï¼šçº¦æŸ-â€œåŠ¨æ€çš„ç»‘å®šâ€&quot;&gt;&lt;a href=&quot;#å…³é”®æ¦‚å¿µï¼šçº¦æŸ-â€œåŠ¨æ€çš„ç»‘å®šâ€&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®æ¦‚å¿µï¼šçº¦æŸ = â€œåŠ¨æ€çš„ç»‘å®šâ€&quot;&gt;&lt;/a&gt;å…³é”®æ¦‚å¿µï¼šçº¦æŸ = â€œåŠ¨æ€çš„ç»‘å®šâ€&lt;/h3&gt;&lt;p&gt;ä¹‹æ‰€ä»¥å†™è¿™ä¸ªä¾‹å­ï¼Œä¸»è¦æ˜¯æƒ³ä»æ¦‚å¿µä¸Šæ›´åŠ æ·±å…¥çš„ç†è§£Autolayoutä¸ä¼ ç»Ÿçš„è®¾ç½®Frameçš„ä¸åŒï¼Œå³Autolayouté‡Œé¢çš„çº¦æŸï¼Œå…¶å®æ˜¯â€œåŠ¨æ€çš„ç»‘å®šâ€ï¼Œæ˜¯æ§ä»¶ç›¸äº’ä¹‹é—´çš„ä½ç½®å…³ç³»ç»‘å®šï¼Œçº¦æŸæ˜¯å¯ä»¥&lt;strong&gt;å®æ—¶&lt;/strong&gt;ä¿è¯è¿™ç§ç»‘å®šå…³ç³»çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„è®¾ç½®Frameï¼Œåœ¨Viewçš„å†…å®¹ã€ä½ç½®è¦å˜åŒ–æ—¶ï¼Œæ˜¯è¦æ‰‹åŠ¨è®¾ç½®çš„ï¼Œæ˜¯â€œä¸€æ¬¡æ€§â€çš„ï¼Œè€ŒAutolayoutï¼Œåœ¨ç¡®å®šäº†çº¦æŸåï¼Œä¼šå®æ—¶çš„ç”¨çº¦æŸçš„è§„åˆ™å»æ›´æ–°Frameï¼Œæ‰€ä»¥å¯ä»¥é¿å…è¿™ç§æ‰‹åŠ¨è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯¹äºæœ¬ä¾‹å­æ¥è¯´ï¼Œè®¾ç½®Frameçš„æ–¹å¼å’ŒAutolayoutçš„æ–¹å¼å¯¹æ¯”å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry4_3.png?1=1&quot; alt=&quot;Case 2: Autolayoutçš„çº¦æŸ=æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œç»‘å®šâ€&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç”¨Autolayoutçš„è¯ï¼Œåªè¦æŠŠAttachmentçš„ä½ç½®è®¾ç½®ä¸ºç›¸å¯¹äºTipLabelå°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å®ç°ç»†èŠ‚-1&quot;&gt;&lt;a href=&quot;#å®ç°ç»†èŠ‚-1&quot; class=&quot;headerlink&quot; title=&quot;å®ç°ç»†èŠ‚&quot;&gt;&lt;/a&gt;å®ç°ç»†èŠ‚&lt;/h3&gt;&lt;p&gt;ä»£ç æ¯”è¾ƒç®€å•ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[attachmentView mas_makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ä¾é™„åœ¨tipLabelä¸Š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.equalTo(&lt;span class=&quot;name&quot;&gt;_tipLabel.mas_left&lt;/span&gt;).with.offset(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;).priorityHigh()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.equalTo(&lt;span class=&quot;name&quot;&gt;_tipLabel.mas_top&lt;/span&gt;).with.offset(&lt;span class=&quot;name&quot;&gt;-2&lt;/span&gt;).priorityHigh()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç§»åŠ¨Tipçš„ç›¸å…³ä»£ç çœ‹Case 1çš„å°±è¡Œ~&lt;/p&gt;
&lt;h3 id=&quot;å°èŠ‚-1&quot;&gt;&lt;a href=&quot;#å°èŠ‚-1&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;æœ¬å°èŠ‚çš„Caseæ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç€é‡ç‚¹å‡ºâ€œAutolayoutçº¦æŸ=åŠ¨æ€ä½ç½®ç»‘å®šâ€è¿™ä¸ªç‚¹ï¼Œç†è§£äº†è¿™ä¸€ç‚¹ï¼Œæ‰èƒ½æ›´å¥½åœ°è¿ç”¨Autolayout~&lt;/p&gt;
&lt;h2 id=&quot;Case-3-åˆ©ç”¨layoutIfNeededæ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&quot;&gt;&lt;a href=&quot;#Case-3-åˆ©ç”¨layoutIfNeededæ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&quot; class=&quot;headerlink&quot; title=&quot;Case 3: åˆ©ç”¨layoutIfNeededæ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&quot;&gt;&lt;/a&gt;Case 3: åˆ©ç”¨layoutIfNeededæ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&lt;/h2&gt;&lt;h3 id=&quot;å®ç°åŠŸèƒ½-2&quot;&gt;&lt;a href=&quot;#å®ç°åŠŸèƒ½-2&quot; class=&quot;headerlink&quot; title=&quot;å®ç°åŠŸèƒ½&quot;&gt;&lt;/a&gt;å®ç°åŠŸèƒ½&lt;/h3&gt;&lt;p&gt;Case 3çš„ä¾‹å­ï¼Œæ˜¯ä¸€ä¸ªç°è‰²çš„Viewï¼Œåˆå§‹æ—¶åœ¨å±å¹•ä¸­å¤®ï¼Œç„¶åæŒ‰ä¸‹â€œæ‰§è¡ŒåŠ¨ç”»â€åï¼Œä»å·¦è¾¹æ»‘å…¥ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ­¥éª¤åˆ†æ&quot;&gt;&lt;a href=&quot;#æ­¥éª¤åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;æ­¥éª¤åˆ†æ&quot;&gt;&lt;/a&gt;æ­¥éª¤åˆ†æ&lt;/h3&gt;&lt;p&gt;ç›´è§‚ä¸Šçœ‹ï¼Œæ„Ÿè§‰æ˜¯åœ¨æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œä¿®æ”¹Viewçš„æ°´å¹³æ–¹å‘ä¸Šçš„æŸä¸ªçº¦æŸï¼Œç„¶åç”¨UIViewçš„åŠ¨ç”»æ‰§è¡Œå˜åŒ–å°±å¥½äº†ã€‚  &lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ä»”ç»†åˆ†æï¼Œåº”è¯¥æ˜¯å…ˆè®¾ç½®Viewçš„ä½ç½®åˆ°å±å¹•çš„å·¦è¾¹çœ‹ä¸è§çš„åŒºåŸŸï¼Œç„¶åç”¨åŠ¨ç”»å¹³æ»‘çš„å†è®©Viewç§»åŠ¨å›åŸä½ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¯´ï¼Œåªæ˜¯ä»å·¦è¾¹ç§»åŠ¨å›æ¥æ—¶ï¼Œæ‰è®©åŠ¨ç”»ç”Ÿæ•ˆï¼é—®é¢˜å°±å˜æˆäº†ï¼Œå¦‚ä½•è®©&lt;strong&gt;çº¦æŸåˆ†æ®µæ‰§è¡Œ&lt;/strong&gt;ï¼Œæˆ–è€…è¯´ï¼Œ&lt;strong&gt;æ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¯ä»¥ç”±ä¸‹å›¾è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry4_4.png?1=1&quot; alt=&quot;Case 3: åˆ©ç”¨layoutIfNeededæ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®ç°å…³é”®&quot;&gt;&lt;a href=&quot;#å®ç°å…³é”®&quot; class=&quot;headerlink&quot; title=&quot;å®ç°å…³é”®&quot;&gt;&lt;/a&gt;å®ç°å…³é”®&lt;/h3&gt;&lt;p&gt;æ­¥éª¤åˆ†ææ¸…æ¥šäº†ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ˜¯å¦‚ä½•è®©çº¦æŸåœ¨ä¿®æ”¹åï¼Œâ€œç«‹å³â€ç”Ÿæ•ˆï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç³»ç»Ÿè‡ªåŠ¨åœ¨ä¸‹æ¬¡æ›´æ–°å¸ƒå±€æ—¶è¢«åŠ¨çš„ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆå°±æ˜¯ï¼šåˆ©ç”¨&lt;strong&gt;&lt;code&gt;layoutIfNeeded&lt;/code&gt;&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;åœ¨æ›´æ”¹äº†çº¦æŸåï¼Œè°ƒç”¨&lt;code&gt;layoutIfNeeded&lt;/code&gt;ï¼Œå°±å¯ä»¥é€šçŸ¥ç³»ç»Ÿç«‹å³åˆ·æ–°å¸ƒå±€ï¼Œä»è€Œæ›´æ–°Frameã€‚å¦‚æœè¦æ›´åŠ â€œä¿é™©â€ï¼Œå¯ä»¥åœ¨è°ƒç”¨&lt;code&gt;layoutIfNeeded&lt;/code&gt;å‰ï¼ŒåŠ ä¸Šè°ƒç”¨&lt;code&gt;setNeedsUpdateConstraints&lt;/code&gt;ã€&lt;code&gt;setNeedsLayout&lt;/code&gt;ï¼Œç³»ç»Ÿåˆ·æ–°å¸ƒå±€æ—¶ï¼Œå°±ä¼šå…ˆæ›´æ–°çº¦æŸï¼Œç„¶åæ ¹æ®çº¦æŸé‡æ–°è®¡ç®—ç›¸å…³Viewçš„Frameï¼Œæƒ³äº†è§£å…·ä½“çš„è¿‡ç¨‹çš„ï¼Œå¯ä»¥å‚è€ƒï¼š&lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2015/218/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Mysteries of Auto Layout, Part 1 - WWDC 2015&lt;/a&gt;ã€&lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2015/219/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Mysteries of Auto Layout, Part 2&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®ç°ç»†èŠ‚-2&quot;&gt;&lt;a href=&quot;#å®ç°ç»†èŠ‚-2&quot; class=&quot;headerlink&quot; title=&quot;å®ç°ç»†èŠ‚&quot;&gt;&lt;/a&gt;å®ç°ç»†èŠ‚&lt;/h3&gt;&lt;p&gt;å…·ä½“çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¾ç½®åˆå§‹çŠ¶æ€ï¼Œç§»åŠ¨Viewåˆ°å±å¹•å·¦è¾¹ä¸å¯è§åŒºåŸŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_center&lt;span class=&quot;built_in&quot;&gt;XConstraint&lt;/span&gt;.equalTo(@(-&lt;span class=&quot;built_in&quot;&gt;CGRectGetWidth&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.view.frame)));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç«‹å³è®©çº¦æŸç”Ÿæ•ˆ,åˆ·æ–°Frame&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.view layoutIfNeeded];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¾ç½®è¦åŠ¨ç”»çš„çº¦æŸï¼Œç§»å›åŸä½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_center&lt;span class=&quot;built_in&quot;&gt;XConstraint&lt;/span&gt;.equalTo(@&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ‰§è¡ŒåŠ¨ç”»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;built_in&quot;&gt;UIView&lt;/span&gt; animateWithDuration:&lt;span class=&quot;number&quot;&gt;0.3&lt;/span&gt;f animations:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.view layoutIfNeeded]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å°èŠ‚-2&quot;&gt;&lt;a href=&quot;#å°èŠ‚-2&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;ä¹‹å‰åœ¨å®ç°&lt;a href=&quot;https://github.com/zekunyan/TTGSnackbar&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;TTGSnackbar&lt;/a&gt;çš„æ—¶å€™ï¼Œå°±å¤§é‡çš„ä½¿ç”¨äº†&lt;code&gt;layoutIfNeeded&lt;/code&gt;æ¥ç«‹å³åˆ·æ–°Viewçš„Frameï¼Œç„¶åæ‰è®©äº§ç”ŸåŠ¨ç”»çš„çº¦æŸå˜åŠ¨ç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯åˆ†é˜¶æ®µçš„è®©çº¦æŸç”Ÿæ•ˆï¼Œéå¸¸ç®¡ç”¨~&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸çŸ¥ä¸è§‰å·²ç»ç¬¬å››ç¯‡äº†ï¼Œä¸€å…±12ä¸ªCaseï¼Œéƒ½æ˜¯å¹³æ—¶å¼€å‘æ—¶æ€»ç»“å‡ºæ¥çš„ç‚¹ï¼Œä»¥åŠå¯¹Autolayoutçš„ç†è§£ï¼Œå¸Œæœ›å¯ä»¥ä¸€ç›´å°†è¿™ä¸ªç³»åˆ—åšæŒä¸‹å»~~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬å››ç¯‡æ¥äº†ã€‚&lt;br&gt;è¿˜æ˜¯3ä¸ªå°ä¾‹å­ï¼Œä»ç„¶æ˜¯ä¸»è¦éƒ¨åˆ†ç”¨Masonryæ‰‹å†™ä»£ç å®ç°ï¼Œå…¶å®ƒçš„çº¦æŸåœ¨storyboardé‡Œé¢ç›´æ¥æ‹–æ‹½æ­å»ºã€‚&lt;br&gt;ä¸‰ä¸ªä¾‹å­åˆ†åˆ«æ˜¯ï¼š  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨çº¦æŸä¼˜å…ˆçº§ä¿è¯å¯ç§»åŠ¨Viewçš„å†…å®¹å¯è§æ€§&lt;/li&gt;
&lt;li&gt;Autolayoutçš„çº¦æŸ=æ§ä»¶é—´ä½ç½®å…³ç³»çš„â€œç»‘å®šâ€&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨&lt;code&gt;layoutIfNeeded&lt;/code&gt;æ§åˆ¶çº¦æŸçš„ç”Ÿæ•ˆæ—¶æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‰ä¸‰ç¯‡ï¼š  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry4_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Autolayout" scheme="http://tutuge.me/tags/Autolayout/"/>
    
      <category term="Masonry" scheme="http://tutuge.me/tags/Masonry/"/>
    
  </entry>
  
  <entry>
    <title>ç¿»è¯‘-ä¸ºä»€ä¹ˆobjc_msgSendå¿…é¡»ç”¨æ±‡ç¼–å®ç°</title>
    <link href="http://tutuge.me/2016/06/19/translation-why-objcmsgsend-must-be-written-in-assembly/"/>
    <id>http://tutuge.me/2016/06/19/translation-why-objcmsgsend-must-be-written-in-assembly/</id>
    <published>2016-06-18T16:19:23.000Z</published>
    <updated>2016-08-07T06:17:32.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;è¯‘è€…å‰è¨€&quot;&gt;&lt;a href=&quot;#è¯‘è€…å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;è¯‘è€…å‰è¨€&quot;&gt;&lt;/a&gt;è¯‘è€…å‰è¨€&lt;/h2&gt;&lt;p&gt;æ€»æ˜¯çœ‹åˆ°æœ‰äººè¯´ç”¨æ±‡ç¼–å®ç°&lt;code&gt;objc_msgSend&lt;/code&gt;æ˜¯ä¸ºäº†é€Ÿåº¦å¿«ï¼Œå½“ç„¶è¿™ä¸ªä¸å¯å¦è®¤ã€‚ä½†æ˜¯éš¾é“æ²¡æœ‰åˆ«çš„åŸå› ï¼Ÿäºæ˜¯å°±çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œé‚ç¿»è¯‘ä¹‹ï¼=ã€‚=  &lt;/p&gt;
&lt;p&gt;æˆ‘è‡ªå·±çš„ç†è§£å°±æ˜¯ï¼Œç”¨æ±‡ç¼–å®ç°ï¼Œæ˜¯ä¸ºäº†åº”å¯¹ä¸åŒçš„â€œ&lt;a href=&quot;https://en.wikipedia.org/wiki/Calling_convention&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Calling convention&lt;/a&gt;â€ï¼ŒæŠŠå‡½æ•°è°ƒç”¨å‰çš„æ ˆå’Œå¯„å­˜å™¨çš„å‚æ•°ã€çŠ¶æ€è®¾ç½®ï¼Œäº¤ç»™ç¼–è¯‘å™¨å»å¤„ç†ã€‚&lt;br&gt;å…ˆçœ‹çœ‹åŸæ–‡å§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸä½œè€…: &lt;a href=&quot;https://www.linkedin.com/in/ari-grant-789a1015&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ari Grant&lt;/a&gt;&lt;br&gt;åŸæ–‡é“¾æ¥: &lt;a href=&quot;http://arigrant.com/blog/2014/2/12/why-objcmsgsend-must-be-written-in-assembly&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Why objc_msgSend Must be Written in Assembly&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¼€å§‹&quot;&gt;&lt;a href=&quot;#å¼€å§‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹&quot;&gt;&lt;/a&gt;å¼€å§‹&lt;/h2&gt;&lt;p&gt;å¯¹äºObjective-Cæ¥è¯´ï¼Œè°ƒç”¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹çš„æ–¹æ³•ï¼Œä¹Ÿå«ä½œå‘è¿™ä¸ªå¯¹è±¡å®ä¾‹&lt;strong&gt;â€œå‘é€æ¶ˆæ¯â€&lt;/strong&gt;ï¼Œè€Œæ¯æ¡â€œæ¶ˆæ¯â€ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µéƒ½ä¼šè½¬å˜ä¸ºä¸€æ¬¡å¯¹&lt;code&gt;objc_msgSend&lt;/code&gt;å‡½æ•°çš„è°ƒç”¨ï¼Œè°ƒç”¨çš„å‚æ•°ä¸ä»…æœ‰åŸæœ¬æ¶ˆæ¯çš„æ‰€æœ‰å‚æ•°ï¼Œè¿˜æœ‰æ¶ˆæ¯çš„æ¥æ”¶è€…&lt;code&gt;receiver&lt;/code&gt;å’Œå¯¹åº”çš„æ–¹æ³•&lt;code&gt;selector&lt;/code&gt;ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢çš„è¯­å¥ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[receiver &lt;span class=&quot;string&quot;&gt;message:&lt;/span&gt;foo &lt;span class=&quot;string&quot;&gt;beforeDate:&lt;/span&gt;bar];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å°†ä¼šè¢«ç¼–è¯‘æˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;objc_msgSend(&lt;span class=&quot;name&quot;&gt;receiver&lt;/span&gt;, @selector(&lt;span class=&quot;name&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:beforeDate&lt;/span&gt;:), foo, bar)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹äº&lt;code&gt;objc_msgSend&lt;/code&gt;å‡½æ•°çš„å®ç°åŸç†ï¼Œå‰äººå·²ç»åšäº†å¤§é‡çš„æ¢ç´¢ã€‚æ‰€ä»¥ï¼Œæœ¬æ–‡å°†ä¼šæŠŠé‡ç‚¹æ”¾åœ¨&lt;code&gt;objc_msgSend&lt;/code&gt;çš„ä¸€ä¸ªä¹‹å‰æ²¡æœ‰å¤ªå—åˆ°å…³æ³¨çš„ç‚¹ä¸Šï¼Œé‚£å°±æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;objc_msgSend&lt;/code&gt;æ˜¯ä¸å¯èƒ½ç”¨Objective-Cã€Cæˆ–è€…C++å®ç°çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;THE-RETURN-TYPE-è¿”å›ç±»å‹&quot;&gt;&lt;a href=&quot;#THE-RETURN-TYPE-è¿”å›ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;THE RETURN TYPE - è¿”å›ç±»å‹&quot;&gt;&lt;/a&gt;THE RETURN TYPE - è¿”å›ç±»å‹&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹å¦‚ä¸‹ä¸¤è¡Œä»£ç ï¼š &lt;/p&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSUInteger n = [array &lt;span class=&quot;built_in&quot;&gt;count&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id obj = [array objectAtIndex:&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç›´è§‚ä¸Šçœ‹ï¼Œå°†ä¼šè¢«ç¼–è¯‘æˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSUInteger n = objc_msgSend(&lt;span class=&quot;name&quot;&gt;array&lt;/span&gt;,  @selector(&lt;span class=&quot;name&quot;&gt;count&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id obj = objc_msgSend(&lt;span class=&quot;name&quot;&gt;array&lt;/span&gt;, @selector(&lt;span class=&quot;name&quot;&gt;objectAtIndex&lt;/span&gt;:), &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯å®é™…ä¸Šè¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæ²¡æœ‰å‡½æ•°å¯ä»¥åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªè°ƒç”¨ã€‚è€Œä¸”å®ƒçš„è¿”å›å€¼ä¹Ÿä¸èƒ½åŒæ—¶æ˜¯&lt;code&gt;NSUInteger&lt;/code&gt;å’Œ&lt;code&gt;id&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿæ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚é‚£ä¹ˆï¼ŒåŠ ä¸Šç±»å‹è½¬æ¢æ€ä¹ˆæ ·ï¼Ÿ&lt;/p&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSUInteger n = (&lt;span class=&quot;name&quot;&gt;NSUInteger&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;*&lt;/span&gt;)(&lt;span class=&quot;name&quot;&gt;id&lt;/span&gt;, SEL))objc_msgSend(&lt;span class=&quot;name&quot;&gt;array&lt;/span&gt;,  @selector(&lt;span class=&quot;name&quot;&gt;count&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id obj = (&lt;span class=&quot;name&quot;&gt;id&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;*&lt;/span&gt;)(&lt;span class=&quot;name&quot;&gt;id&lt;/span&gt;, SEL, NSUInteger))objc_msgSend(&lt;span class=&quot;name&quot;&gt;array&lt;/span&gt;, @selector(&lt;span class=&quot;name&quot;&gt;objectAtIndex&lt;/span&gt;:), &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸‹å¯ä»¥ç¼–è¯‘é€šè¿‡äº†ï¼Œè™½ç„¶çœ‹èµ·æ¥ä¸ç›´è§‚ã€‚ã€‚ã€‚  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;objc_msgSend&lt;/code&gt;æ˜¯ä¸€ä¸ªPublicçš„å‡½æ•°ï¼Œåœ¨&lt;code&gt;&amp;lt;objc/message.h&amp;gt;&lt;/code&gt;é‡Œå£°æ˜ï¼Œå¦‚æœä½ æƒ³ç›´æ¥è°ƒç”¨å®ƒï¼Œå°±å¿…é¡»æŒ‰ç…§ä¸Šé¢çš„æ ¼å¼åŠ ä¸Šå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè¦ä¸ç„¶æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚ä½†æ˜¯&lt;code&gt;objc_msgSend&lt;/code&gt;åˆ°åº•æ˜¯å¦‚ä½•å®ç°ï¼Œæ¥æ”¯æŒå„ç§è¿”å›ç±»å‹çš„ï¼Ÿæœ¬æ–‡åé¢ä¼šè®²åˆ°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;THE-IMP-æ–¹æ³•å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆ&quot;&gt;&lt;a href=&quot;#THE-IMP-æ–¹æ³•å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆ&quot; class=&quot;headerlink&quot; title=&quot;THE IMP - æ–¹æ³•å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆ&quot;&gt;&lt;/a&gt;THE IMP - æ–¹æ³•å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆ&lt;/h2&gt;&lt;p&gt;&lt;code&gt;objc_msgSend&lt;/code&gt;å‡½æ•°çš„æœ¬è´¨å¾ˆç®€å•ï¼Œä¼ å…¥ä¸€ä¸ªæ¥å—è€…å¯¹è±¡å®ä¾‹&lt;code&gt;receiver&lt;/code&gt;å’Œæ–¹æ³•å&lt;code&gt;selector&lt;/code&gt;ï¼Œå®ƒå°±ä¼šæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œï¼šï¼ˆè¯‘è€…æ³¨ï¼šåªæ˜¯æœ€ç²—ç•¥çš„æ­¥éª¤=ã€‚=ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å–&lt;code&gt;receiver&lt;/code&gt;å¾—ç±»Class&lt;/li&gt;
&lt;li&gt;åœ¨Classçš„æ–¹æ³•åˆ—è¡¨method tableé‡Œé¢æŸ¥æ‰¾å¯¹åº”&lt;code&gt;selector&lt;/code&gt;çš„æ–¹æ³•å®ç°&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°çš„è¯å°±è°ƒç”¨ï¼Œè¿”å›&lt;/li&gt;
&lt;li&gt;æ‰¾ä¸åˆ°å°±åœ¨å…¶çˆ¶ç±»ä¸­æ‰¾ï¼Œé‡å¤å‰é¢çš„æ­¥éª¤ï¼ˆç›´åˆ°æ²¡æœ‰çˆ¶ç±»ä¸ºæ­¢ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•´ä¸ªæµç¨‹å¾ˆç®€å•ï¼Œæ²¿ç€ç»§æ‰¿é“¾ï¼Œå‘ä¸Šæ‰¾åˆ°æ–¹æ³•&lt;code&gt;selector&lt;/code&gt;å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆå³å¯ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;IMP&lt;/code&gt;ã€‚åŒæ—¶ï¼Œåœ¨æ¯å±‚Classä¸­éƒ½æœ‰ç¼“å­˜ï¼ŒåŠ å¿«åç»­çš„æ–¹æ³•æŸ¥æ‰¾ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿåªæ˜¯&lt;code&gt;objc_msgSend&lt;/code&gt;çš„å®ç°ç»†èŠ‚ï¼Œæ‰€ä»¥ï¼Œæ¥ç€å¾€ä¸‹çœ‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;THE-ARG-TYPES-AND-COUNT-å‚æ•°ç±»å‹å’Œæ•°é‡&quot;&gt;&lt;a href=&quot;#THE-ARG-TYPES-AND-COUNT-å‚æ•°ç±»å‹å’Œæ•°é‡&quot; class=&quot;headerlink&quot; title=&quot;THE ARG TYPES AND COUNT - å‚æ•°ç±»å‹å’Œæ•°é‡&quot;&gt;&lt;/a&gt;THE ARG TYPES AND COUNT - å‚æ•°ç±»å‹å’Œæ•°é‡&lt;/h2&gt;&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå½“&lt;code&gt;objc_msgSend&lt;/code&gt;æ‰¾åˆ°å¯¹åº”çš„å‡½æ•°æŒ‡é’ˆåï¼Œåªè¦ç”¨ä¼ å…¥çš„å‚æ•°è°ƒç”¨è¿™ä¸ªå‡½æ•°å³å¯ã€‚å‰©ä¸‹æ¥çš„å°±æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥è°ƒç”¨ä»»æ„å‚æ•°ç±»å‹ã€æ•°é‡çš„ä»»æ„å‡½æ•°ã€‚  &lt;/p&gt;
&lt;p&gt;å‚æ•°çš„æ•°é‡å¾ˆå®¹æ˜“è®¡ç®—ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„å‚æ•°éƒ½æ”¾å…¥&lt;code&gt;varargs&lt;/code&gt;ï¼Œç„¶åè°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å³å¯ã€‚ä½†æ˜¯è¿™æ ·çš„è¯ï¼Œæ¯ä¸ªObjective-Cçš„æ–¹æ³•éƒ½å¿…é¡»åœ¨å…¶&lt;code&gt;prologue&lt;/code&gt;ï¼ˆè¯‘è€…æ³¨ï¼šå‡½æ•°æ‰§è¡Œå…·ä½“çš„â€œä»»åŠ¡â€å‰ï¼Œæ‰€åšçš„å‡†å¤‡ç¯èŠ‚ï¼‰é‡Œé¢æŠŠæ‰€æœ‰çš„å‚æ•°ä»&lt;code&gt;varargs&lt;/code&gt;é‡Œé¢æå–å‡ºæ¥ã€‚  &lt;/p&gt;
&lt;p&gt;è¿™ç§æŠŠå‚æ•°æ‰“åŒ…åˆ°&lt;code&gt;varargs&lt;/code&gt;é‡Œé¢ç„¶ååˆå–å‡ºæ¥çš„åŠæ³•æ˜¾ç„¶æ˜¯éå¸¸ç³Ÿç³•çš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Cè¯­è¨€ä¸­ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¼šè¢«ç¼–è¯‘æˆå¯¹åº”çš„æ±‡ç¼–è¯­è¨€æŒ‡ä»¤ï¼Œé¦–å…ˆæ˜¯è®¾ç½®å‚æ•°ï¼ˆæŠŠå‚æ•°æ”¾åˆ°å¯„å­˜å™¨ã€æ ˆä¸Šï¼‰ï¼Œç„¶åç”¨å¦‚&lt;code&gt;jump&lt;/code&gt;æˆ–è€…&lt;code&gt;call&lt;/code&gt;çš„æŒ‡ä»¤ï¼Œè·³åˆ°å…·ä½“çš„å‡½æ•°ä»£ç åœ°å€å¤„ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ”¯æŒä»»æ„ç±»å‹çš„å‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬å°±å¿…é¡»å†™ä¸€ä¸ª&lt;code&gt;switch&lt;/code&gt;è¯­å¥ï¼ŒæŠŠæ‰€æœ‰çš„å‚æ•°ç»„åˆæƒ…å†µéƒ½åŒ…å«èµ·æ¥ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®çš„ä¸ºä»»ä½•å½¢å¼çš„å‡½æ•°è®¾ç½®å‚æ•°ï¼ˆè¯‘è€…æ³¨ï¼šå³æŒ‰ç…§æŸç§&lt;strong&gt;â€œè§„èŒƒâ€ã€â€œçº¦å®šâ€&lt;/strong&gt;ï¼ŒæŠŠå‚æ•°ä¾æ¬¡å­˜æ”¾åˆ°â€œçº¦å®šâ€çš„å¯„å­˜å™¨ã€æ ˆä¸Šï¼‰ï¼Œè¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰æ‰©å±•æ€§çš„ï¼Œæ›´æ˜¯ä¸å¯èƒ½çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;UNWINDING-THE-CALL-æ‹†è§£è°ƒç”¨&quot;&gt;&lt;a href=&quot;#UNWINDING-THE-CALL-æ‹†è§£è°ƒç”¨&quot; class=&quot;headerlink&quot; title=&quot;UNWINDING THE CALL - æ‹†è§£è°ƒç”¨&quot;&gt;&lt;/a&gt;UNWINDING THE CALL - æ‹†è§£è°ƒç”¨&lt;/h2&gt;&lt;p&gt;&lt;code&gt;objc_msgSend&lt;/code&gt;çš„è§£å†³åŠæ³•ï¼Œä¸»è¦ä¾æ®çš„æ˜¯ï¼š&lt;strong&gt;å½“objc_msgSendè¢«è°ƒç”¨æ—¶ï¼Œæ‰€æœ‰çš„å‚æ•°å·²ç»è¢«è®¾ç½®å¥½äº†&lt;/strong&gt;ã€‚  &lt;/p&gt;
&lt;p&gt;æ¢ä¸€ç§æ–¹å¼æ¥è¯´ï¼Œå°±æ˜¯ï¼š&lt;strong&gt;åœ¨objc_msgSendå¼€å§‹æ‰§è¡Œæ—¶ï¼Œæ ˆå¸§ï¼ˆstack frameï¼‰çš„çŠ¶æ€ã€æ•°æ®ï¼Œå’Œå„ä¸ªå¯„å­˜å™¨çš„ç»„åˆå½¢å¼ã€æ•°æ®ï¼Œè·Ÿè°ƒç”¨å…·ä½“çš„å‡½æ•°æŒ‡é’ˆï¼ˆIMPï¼‰æ—¶æ‰€éœ€çš„çŠ¶æ€ã€æ•°æ®ï¼Œæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹è¿™è¡Œä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;id obj = objc_msgSend(&lt;span class=&quot;name&quot;&gt;array&lt;/span&gt;, @selector(&lt;span class=&quot;name&quot;&gt;objectAtIndex&lt;/span&gt;:), &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨è°ƒç”¨&lt;code&gt;objc_msgSend&lt;/code&gt;æ—¶ï¼Œéœ€è¦è®¾ç½®ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯è¢«è°ƒç”¨æ–¹&lt;code&gt;receiver&lt;/code&gt;ã€æ–¹æ³•å&lt;code&gt;selector&lt;/code&gt;å’Œæœ€åä¸€ä¸ªæ•´å‹å‚æ•°6ã€‚è¿™å’Œå…·ä½“çš„æ–¹æ³•å‡½æ•°IMPçš„å‚æ•°é¡ºåºã€ç±»å‹æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;strong&gt;è°ƒç”¨&lt;code&gt;objc_msgSend&lt;/code&gt;å‰ï¼Œè®¾ç½®çš„æ ˆã€å¯„å­˜å™¨çš„çŠ¶æ€ã€æ•°æ®æ­£æ˜¯è°ƒç”¨å…·ä½“çš„æ–¹æ³•å‡½æ•°æ—¶éœ€è¦çš„çŠ¶æ€ï¼&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå½“&lt;code&gt;objc_msgSend&lt;/code&gt;æ‰¾åˆ°è¦è°ƒç”¨çš„å‡½æ•°å®ç°IMPåï¼Œåªéœ€è¦æŠŠæ‰€æœ‰çš„å¯¹æ ˆã€å¯„å­˜å™¨çš„æ“ä½œâ€œå€’â€å›åˆ°&lt;code&gt;objc_msgSend&lt;/code&gt;æ‰§è¡Œå¼€å§‹çš„çŠ¶æ€ï¼ˆç±»ä¼¼äºå‡½æ•°æ‰§è¡Œå®Œæˆreturnè¿”å›å‰ï¼Œåšçš„â€œæ”¶å°¾å¤„ç†â€å·¥ä½œä¸€æ ·ï¼Œå³epilogueï¼‰ï¼Œç›´æ¥&lt;code&gt;jump/call&lt;/code&gt;åˆ°IMPå‡½æ•°æŒ‡é’ˆå¯¹åº”çš„åœ°å€ï¼Œæ‰§è¡ŒæŒ‡ä»¤å³å¯ï¼Œå› ä¸ºæ‰€æœ‰çš„å‚æ•°å·²ç»è¢«è®¾ç½®å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œå½“&lt;code&gt;selector&lt;/code&gt;å¯¹åº”çš„IMPæ‰§è¡Œå®Œæˆåï¼Œè¿”å›å€¼ä¹Ÿè¢«æ­£ç¡®çš„è®¾ç½®å¥½äº†ï¼ˆåœ¨x86å¹³å°ä¸Šï¼Œè¿”å›å€¼è¢«è®¾ç½®åˆ°äº†æŒ‡å®šçš„å¯„å­˜å™¨&lt;code&gt;eax/rax&lt;/code&gt;é‡Œï¼Œåœ¨armä¸Šï¼Œåˆ™æ˜¯&lt;code&gt;r0&lt;/code&gt;å¯„å­˜å™¨ï¼‰ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¿…æ‹…å¿ƒå‰æ–‡æåˆ°çš„ä¸åŒç±»å‹çš„è¿”å›å€¼é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;WRAP-UP-æ€»ç»“&quot;&gt;&lt;a href=&quot;#WRAP-UP-æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;WRAP UP - æ€»ç»“&quot;&gt;&lt;/a&gt;WRAP UP - æ€»ç»“&lt;/h2&gt;&lt;p&gt;æŠŠä¸Šé¢æåˆ°çš„æ‰€æœ‰è§£é‡Šç»¼åˆèµ·æ¥ï¼Œå°±æ˜¯ï¼šåœ¨Cè¯­è¨€é‡Œé¢è°ƒç”¨å‡½æ•°ï¼Œå¿…é¡»åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“è°ƒç”¨çš„â€œçŠ¶æ€â€ï¼›è€Œè¿™äº›â€œçŠ¶æ€â€åœ¨è¿è¡Œæ—¶æ˜¯æ— æ³•å¾—å‡ºæˆ–æ­£ç¡®å¤„ç†çš„ï¼Œæ‰€ä»¥å¿…é¡»å¾€åº•å±‚èµ°ï¼Œç”¨æ±‡ç¼–å¤„ç†ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šè¿™é‡Œä¸çŸ¥é“å’‹ç¿»è¯‘å¥½=ã€‚=ï¼ŒåŸæ–‡æ˜¯ï¼šcalling a function in C requires the signature to be known for each call-site at compile-timeï¼›doing so at run-time is not possible and so one must drop down into assembly and party there instead.ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;UPDATE-åç»­&quot;&gt;&lt;a href=&quot;#UPDATE-åç»­&quot; class=&quot;headerlink&quot; title=&quot;UPDATE - åç»­&quot;&gt;&lt;/a&gt;UPDATE - åç»­&lt;/h2&gt;&lt;p&gt;æœ‰äººæŒ‡å‡º&lt;code&gt;objc_msgSend&lt;/code&gt;æœ‰å¯èƒ½æ˜¯ç”¨GCCçš„æ‰©å±•æ–¹æ³•&lt;code&gt;__builtin_apply_args&lt;/code&gt;ï¼Œ&lt;code&gt;__builtin_apply&lt;/code&gt;ï¼Œå’Œ&lt;code&gt;__builtin_return&lt;/code&gt;å®ç°çš„ã€‚è¿™ä¹Ÿæ­£æŒ‡å‡ºäº†ä¸€ä¸ªäº‹å®ï¼Œå°±æ˜¯è¿™äº›builtinsæ–¹æ³•æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œå› ä¸ºå•é è¯­è¨€æœ¬èº«æ— æ³•å®ç°è¿™äº›åŠŸèƒ½ã€‚å®ç°&lt;code&gt;objc_msgSend&lt;/code&gt;æ‰€éœ€è¦çš„æŠ€å·§ï¼Œä¹Ÿæ­£æ˜¯å®ç°è¿™äº›builtinsæ–¹æ³•æ‰€éœ€è¦çš„æŠ€å·§ã€‚æœ¬æ–‡çš„ç›®çš„å¹¶ä¸æ˜¯éè¦å°†ä»€ä¹ˆæ˜¯çœŸæ­£çš„Cã€ä»€ä¹ˆä¸æ˜¯çœŸæ­£çš„Cåˆ†ä¸ªæ¸…æ¥šï¼Œåªæ˜¯ä¸ºäº†æŒ‡å‡º&lt;code&gt;objc_msgSend&lt;/code&gt;ç‰¹æ®Šç½¢äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯‘è€…æ€»ç»“&quot;&gt;&lt;a href=&quot;#è¯‘è€…æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;è¯‘è€…æ€»ç»“&quot;&gt;&lt;/a&gt;è¯‘è€…æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¼€å¤´ä¹Ÿè¯´äº†ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼šç”¨æ±‡ç¼–å®ç°ï¼Œæ˜¯ä¸ºäº†åº”å¯¹ä¸åŒçš„â€œ&lt;a href=&quot;https://en.wikipedia.org/wiki/Calling_convention&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Calling convention&lt;/a&gt;â€ï¼ŒæŠŠå‡½æ•°è°ƒç”¨å‰çš„æ ˆå’Œå¯„å­˜å™¨çš„å‚æ•°ã€çŠ¶æ€è®¾ç½®ï¼Œäº¤ç»™ç¼–è¯‘å™¨å»å¤„ç†ã€‚  &lt;/p&gt;
&lt;p&gt;å—¯ï¼Œä»¥åä¸è¦å†è¯´ç”¨æ±‡ç¼–å®ç°åªæ˜¯ä¸ºäº†å¿«äº†=ã€‚=&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¯‘è€…å‰è¨€&quot;&gt;&lt;a href=&quot;#è¯‘è€…å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;è¯‘è€…å‰è¨€&quot;&gt;&lt;/a&gt;è¯‘è€…å‰è¨€&lt;/h2&gt;&lt;p&gt;æ€»æ˜¯çœ‹åˆ°æœ‰äººè¯´ç”¨æ±‡ç¼–å®ç°&lt;code&gt;objc_msgSend&lt;/code&gt;æ˜¯ä¸ºäº†é€Ÿåº¦å¿«ï¼Œå½“ç„¶è¿™ä¸ªä¸å¯å¦è®¤ã€‚ä½†æ˜¯éš¾é“æ²¡æœ‰åˆ«çš„åŸå› ï¼Ÿäºæ˜¯å°±çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œé‚ç¿»è¯‘ä¹‹ï¼=ã€‚=  &lt;/p&gt;
&lt;p&gt;æˆ‘è‡ªå·±çš„ç†è§£å°±æ˜¯ï¼Œç”¨æ±‡ç¼–å®ç°ï¼Œæ˜¯ä¸ºäº†åº”å¯¹ä¸åŒçš„â€œ&lt;a href=&quot;https://en.wikipedia.org/wiki/Calling_convention&quot;&gt;Calling convention&lt;/a&gt;â€ï¼ŒæŠŠå‡½æ•°è°ƒç”¨å‰çš„æ ˆå’Œå¯„å­˜å™¨çš„å‚æ•°ã€çŠ¶æ€è®¾ç½®ï¼Œäº¤ç»™ç¼–è¯‘å™¨å»å¤„ç†ã€‚&lt;br&gt;å…ˆçœ‹çœ‹åŸæ–‡å§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸä½œè€…: &lt;a href=&quot;https://www.linkedin.com/in/ari-grant-789a1015&quot;&gt;Ari Grant&lt;/a&gt;&lt;br&gt;åŸæ–‡é“¾æ¥: &lt;a href=&quot;http://arigrant.com/blog/2014/2/12/why-objcmsgsend-must-be-written-in-assembly&quot;&gt;Why objc_msgSend Must be Written in Assembly&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="ç¿»è¯‘" scheme="http://tutuge.me/tags/%E7%BF%BB%E8%AF%91/"/>
    
  </entry>
  
  <entry>
    <title>APIè¿”å›ç»“æœè®¾è®¡ç»éªŒä¸æ€»ç»“</title>
    <link href="http://tutuge.me/2016/05/02/design-json-api-respoense/"/>
    <id>http://tutuge.me/2016/05/02/design-json-api-respoense/</id>
    <published>2016-05-02T02:44:49.000Z</published>
    <updated>2016-05-03T09:09:07.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;RESTful APIçš„è®¾è®¡å·²ç»å¾ˆæˆç†Ÿäº†ï¼Œå¤§å®¶ä¹Ÿéƒ½æ¯”è¾ƒè®¤å¯ã€‚æœ¬æ–‡ä¹Ÿä¸å†è¿‡å¤šä»‹ç»RESTful APIç›¸å…³çš„çŸ¥è¯†ï¼Œè€Œæ˜¯é’ˆå¯¹JSONå‹APIçš„è¿”å›ç»“æœè®¾è®¡ï¼Œæ€»ç»“ä¸‹è‡ªå·±çš„ç»éªŒã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»“æ„&quot;&gt;&lt;a href=&quot;#ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;ç»“æ„&quot;&gt;&lt;/a&gt;ç»“æ„&lt;/h2&gt;&lt;p&gt;å…ˆæ¥çœ‹çœ‹è¿”å›ç»“æœçš„ç»“æ„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;data&lt;/span&gt; : &amp;#123; &lt;span class=&quot;comment&quot;&gt;// è¯·æ±‚æ•°æ®ï¼Œå¯¹è±¡æˆ–æ•°ç»„å‡å¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_id&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_name&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_avatar_url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;http://tutuge.me/avatar.jpg&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;msg&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;done&quot;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;// è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;code&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1001&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;// ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;extra&lt;/span&gt; : &amp;#123; &lt;span class=&quot;comment&quot;&gt;// å…¨å±€é™„åŠ æ•°æ®ï¼Œå­—æ®µã€å†…å®¹ä¸å®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;desc&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;ç­¾åˆ°æˆåŠŸï¼&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;dataå­—æ®µ-è¯·æ±‚æ•°æ®&quot;&gt;&lt;a href=&quot;#dataå­—æ®µ-è¯·æ±‚æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;dataå­—æ®µ - è¯·æ±‚æ•°æ®&quot;&gt;&lt;/a&gt;dataå­—æ®µ - è¯·æ±‚æ•°æ®&lt;/h3&gt;&lt;p&gt;é¦–å…ˆæ˜¯æœ¬æ¬¡è¯·æ±‚ç»“æœçš„æ•°æ®&lt;code&gt;data&lt;/code&gt;å­—æ®µï¼Œå…¶å€¼ä¸ºå¯¹è±¡ï¼ˆå­—å…¸ï¼‰æˆ–æ•°ç»„å‡å¯ä»¥ï¼Œæ ¹æ®ä¸šåŠ¡è€Œå®šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚è¯·æ±‚çš„æ˜¯æŸä¸ªç”¨æˆ·çš„ä¸ªäººprofileä¿¡æ¯ï¼Œå°±å¯ä»¥æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡é‡Œé¢æ˜¯ç”¨æˆ·profileçš„é”®å€¼å¯¹æ•°æ®ï¼Œå¦‚&lt;code&gt;user_id: 123&lt;/code&gt;ã€&lt;code&gt;user_name: &amp;quot;tutuge&amp;quot;&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯·æ±‚çš„æ˜¯åˆ—è¡¨æ•°æ®ï¼Œå°±å¯ä»¥æ˜¯æ•°ç»„ï¼Œå¦‚è¯·æ±‚ç”¨æˆ·åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;data:&lt;/span&gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;span class=&quot;string&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;user_name:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;span class=&quot;string&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;321&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;user_name:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;zekunyan&quot;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ•°ç»„ã€å¯¹è±¡ï¼Œç›¸äº’åµŒå¥—ï¼Œçµæ´»ç»„åˆå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºiOSæ¥è¯´ï¼Œè§£æ&lt;code&gt;data&lt;/code&gt;å­—æ®µæ˜¯å¯¹è±¡è¿˜æ˜¯æ•°ç»„ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåœ¨æ¥æ”¶åˆ°JSONæ•°æ®å­—å…¸åï¼Œå¦‚AFNetworkingçš„è¿”å›ç»“æœï¼Œå¯¹&lt;code&gt;data&lt;/code&gt;åˆ¤æ–­å…¶ç±»å‹å³å¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([jsonDict[@&lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;] &lt;span class=&quot;string&quot;&gt;isKindOfClass:&lt;/span&gt;[NSDictionary &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]]) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// JSONå¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([jsonDict[@&lt;span class=&quot;string&quot;&gt;&quot;data&quot;&lt;/span&gt;] &lt;span class=&quot;string&quot;&gt;isKindOfClass:&lt;/span&gt;[NSArray &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]]) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// JSONæ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;msgå­—æ®µ-è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&quot;&gt;&lt;a href=&quot;#msgå­—æ®µ-è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&quot; class=&quot;headerlink&quot; title=&quot;msgå­—æ®µ - è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&quot;&gt;&lt;/a&gt;msgå­—æ®µ - è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&lt;/h3&gt;&lt;p&gt;&lt;code&gt;msg&lt;/code&gt;å­—æ®µæ˜¯æœ¬æ¬¡è¯·æ±‚çš„ä¸šåŠ¡ã€çŠ¶æ€æè¿°ä¿¡æ¯ï¼Œä¸»è¦ç”¨äºè°ƒè¯•ã€æµ‹è¯•ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚â€œdoneâ€ã€â€œè¯·æ±‚ç¼ºå°‘å‚æ•°ï¼â€&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç«¯å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œå¼€å‘äººå‘˜çœ‹å¾—æ‡‚å°±å¥½ã€‚ -_-|||&lt;/p&gt;
&lt;h3 id=&quot;codeå­—æ®µ-ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &quot;&gt;&lt;a href=&quot;#codeå­—æ®µ-ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &quot; class=&quot;headerlink&quot; title=&quot;codeå­—æ®µ - ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &quot;&gt;&lt;/a&gt;codeå­—æ®µ - ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &lt;/h3&gt;&lt;p&gt;&lt;code&gt;code&lt;/code&gt;å­—æ®µï¼Œä¸šåŠ¡è‡ªå®šä¹‰çš„çŠ¶æ€ç ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æ˜¯å¦è¦åœ¨APIé‡Œé¢è‡ªå®šä¹‰ä¸šåŠ¡çŠ¶æ€ç ï¼Œ&lt;strong&gt;éå¸¸æœ‰äº‰è®®&lt;/strong&gt;=ã€‚=ï¼Œå› ä¸ºHttpè¯·æ±‚æœ¬èº«å·²ç»æœ‰äº†å®Œå¤‡çš„çŠ¶æ€ç ï¼Œå†å®šä¹‰ä¸€å¥—çŠ¶æ€ç ç›´è§‚ä¸Šæ„Ÿå—å´æ˜¯ä¸å¯¹åŠ²ã€‚ä½†æ˜¯å®é™…å¼€å‘ä¸­ï¼Œç¡®å®å‘ç°è‡ªå®šä¹‰ä¸šåŠ¡çŠ¶æ€ç çš„å¿…è¦æ€§ï¼Œå¦‚ä¸€æ¬¡æˆåŠŸçš„Http status 200çš„è¯·æ±‚ï¼Œå¯èƒ½ç”±äºç”¨æˆ·æœªç™»å½•ã€ç™»å½•è¿‡æœŸè€Œæœ‰ä¸åŒçš„è¿”å›ç»“æœå’Œå¤„ç†æ–¹å¼ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¿ç•™äº†&lt;code&gt;code&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;çŠ¶æ€ç çš„å®šä¹‰ä¹Ÿæœ€å¥½æœ‰ä¸€å¥—è§„èŒƒï¼Œå¦‚æŒ‰ç…§ç”¨æˆ·ç›¸å…³ã€æˆæƒç›¸å…³ã€å„ç§ä¸šåŠ¡ï¼Œåšç®€å•çš„åˆ†ç±»ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Code ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç å®šä¹‰ç¤ºä¾‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æˆæƒç›¸å…³&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1001&lt;/span&gt;: æ— æƒé™è®¿é—®&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1002&lt;/span&gt;: access_tokenè¿‡æœŸ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1003&lt;/span&gt;: unique_tokenæ— æ•ˆ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç”¨æˆ·ç›¸å…³&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;: æœªç™»å½•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2002&lt;/span&gt;: ç”¨æˆ·ä¿¡æ¯é”™è¯¯&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2003&lt;/span&gt;: ç”¨æˆ·ä¸å­˜åœ¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¸šåŠ¡1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3001&lt;/span&gt;: ä¸šåŠ¡&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;XXX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3002&lt;/span&gt;: ä¸šåŠ¡&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;XXX&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;Code&lt;/code&gt;ä¸šåŠ¡çŠ¶æ€ç æœ€å¥½æ˜¯ç”¨å¸¸é‡å®šä¹‰çš„ï¼Œå½“ç„¶æœ‰èƒ½åŠ›çš„åŠ¨æ€é…ç½®æ›´æ–°æ›´å¥½ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;Httpçš„çŠ¶æ€ç å‚è€ƒï¼š&lt;a href=&quot;https://en.wikipedia.org/wiki/List_of_HTTP_status_codes&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;List of HTTP status codes&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;extraå­—æ®µ-å…¨å±€é™„åŠ æ•°æ®&quot;&gt;&lt;a href=&quot;#extraå­—æ®µ-å…¨å±€é™„åŠ æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;extraå­—æ®µ - å…¨å±€é™„åŠ æ•°æ®&quot;&gt;&lt;/a&gt;extraå­—æ®µ - å…¨å±€é™„åŠ æ•°æ®&lt;/h3&gt;&lt;p&gt;&lt;code&gt;extra&lt;/code&gt;å­—æ®µï¼Œç”¨æ¥è¡¨ç¤ºå…¨å±€çš„é™„åŠ æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå­—æ®µæ¥æºäºä¹‹å‰åšé¡¹ç›®æ—¶ï¼Œç”¨æˆ·çš„æ“ä½œï¼ˆæ•°æ®è¯·æ±‚ï¼‰ï¼Œä¼šå¯¼è‡´ç”¨æˆ·çš„ç­‰çº§ã€ç»éªŒå˜åŒ–ï¼Œè€Œå…·ä½“ä»€ä¹ˆæ—¶å€™äº§ç”Ÿä¸ç¡®å®šï¼Œç”±æœåŠ¡ç«¯çš„è§„åˆ™å†³å®šï¼Œå¹¶ä¸”å®¢æˆ·ç«¯è¦åŠæ—¶å‘ç”¨æˆ·å±•ç¤ºå˜åŒ–ï¼Œæ‰€ä»¥åŠ ä¸Šäº†&lt;code&gt;extra&lt;/code&gt;å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è®¾è®¡&lt;code&gt;extra&lt;/code&gt;å­—æ®µçš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å¯¹å…¶ç»“æ„å†…å®¹åšé™åˆ¶ï¼Œæ‰€ä»¥æ¯”è¾ƒçµæ´»ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æœ‰ä¸ª&lt;code&gt;type&lt;/code&gt;å­—æ®µï¼Œæ¥åšçº¦æŸï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å‡çº§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;type:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;show_msg:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;æ­å–œæ‚¨å‡çº§åˆ°XXX&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å®Œæˆä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;type:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;task_desc:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;è¾¾æˆXXXæˆå°±&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ€»çš„æ¥è¯´å°±æ˜¯è‡ªç”±å‘æŒ¥ï¼Œåªè¦æœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ç›¸äº’æ²Ÿé€šå¥½å³å¯ã€‚å½“ç„¶ï¼Œä¹Ÿè¦é¿å…ä¹±ç”¨ï¼Œä¿è¯çœŸçš„éœ€è¦å…¨å±€é™„åŠ æ•°æ®æ‰ä½¿ç”¨è¿™ä¸ªå­—æ®µã€‚&lt;/p&gt;
&lt;h2 id=&quot;æœ€ä½³å®è·µ&quot;&gt;&lt;a href=&quot;#æœ€ä½³å®è·µ&quot; class=&quot;headerlink&quot; title=&quot;æœ€ä½³å®è·µ&quot;&gt;&lt;/a&gt;æœ€ä½³å®è·µ&lt;/h2&gt;&lt;p&gt;æ€»ç»“å‡ ç‚¹æœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;h3 id=&quot;è§„èŒƒç»Ÿä¸€çš„å‘½å&quot;&gt;&lt;a href=&quot;#è§„èŒƒç»Ÿä¸€çš„å‘½å&quot; class=&quot;headerlink&quot; title=&quot;è§„èŒƒç»Ÿä¸€çš„å‘½å&quot;&gt;&lt;/a&gt;è§„èŒƒç»Ÿä¸€çš„å‘½å&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;å‘½åé£æ ¼ç»Ÿä¸€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ç®¡æ˜¯é©¼å³°å¼è¿˜æ˜¯ä¸‹åˆ’çº¿å¼ï¼Œç»Ÿä¸€å°±å¥½ã€‚å½“ç„¶ï¼ŒæŒ‰ç…§ç›®å‰çš„â€œå¤§ä¼—è§„èŒƒâ€ï¼Œè¿˜æ˜¯ç»Ÿä¸€å°å†™åŠ ä¸‹åˆ’çº¿æ¯”è¾ƒå¥½=ã€‚=&lt;br&gt;å¦‚ï¼š&lt;code&gt;user_id&lt;/code&gt;ï¼Œ&lt;code&gt;user_name&lt;/code&gt;ï¼Œ&lt;code&gt;user_age&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯­ä¹‰æ¸…æ™°ï¼Œéµå®ˆå¸¸ç”¨ç¼©å†™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å­—æ®µçš„åå­—æœ€å¥½èƒ½ä½“ç°å­—æ®µçš„ç±»å‹ï¼Œéµå®ˆä¸€äº›â€œå¸¸ç”¨â€çš„ç¼©å†™ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight ceylon&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å­—ç¬¦ä¸²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user&lt;span class=&quot;number&quot;&gt;_n&lt;/span&gt;ame, task&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;desc, date&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;str, article&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;title, feed&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;content ç­‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ•°å­—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;id, users&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;count, task&lt;span class=&quot;number&quot;&gt;_n&lt;/span&gt;um, xxx&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;offset ç­‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ—¥æœŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;login&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;at, create&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;date, logout&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;time ç­‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¸ƒå°”&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;done, &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;vip, protected, can&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;read ç­‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// URL&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;avatar&lt;span class=&quot;number&quot;&gt;_u&lt;/span&gt;rl, thumb&lt;span class=&quot;number&quot;&gt;_u&lt;/span&gt;rl ç­‰&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;users, profiles, thumb&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;imgs ç­‰&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ç©ºå€¼ã€ç©ºå­—æ®µçš„å¤„ç†&quot;&gt;&lt;a href=&quot;#ç©ºå€¼ã€ç©ºå­—æ®µçš„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;ç©ºå€¼ã€ç©ºå­—æ®µçš„å¤„ç†&quot;&gt;&lt;/a&gt;ç©ºå€¼ã€ç©ºå­—æ®µçš„å¤„ç†&lt;/h3&gt;&lt;p&gt;ç©ºå€¼ã€ç©ºå­—æ®µçš„å¤„ç†ä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“å‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»Ÿä¸€ç©ºå€¼ç”¨null&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†å¸ƒå°”ç±»å‹çš„ï¼Œå…¶ä½™çš„ç©ºå€¼ç»Ÿä¸€ç”¨&lt;code&gt;null&lt;/code&gt;è¡¨ç¤ºï¼Œå®¢æˆ·ç«¯ä¿è¯æ¯ç§å­—æ®µçš„&lt;code&gt;null&lt;/code&gt;å¯ä»¥è¢«æ­£å¸¸å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»™ä¸åŒç±»å‹è®¾ç½®é»˜è®¤ç©ºå€¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;null&lt;/code&gt;ï¼Œè¿˜å¯ä»¥å¯¹å­—æ®µè®¾ç½®â€œé»˜è®¤å€¼â€ï¼Œå¦‚æ•°å­—å°±æ˜¯&lt;code&gt;0&lt;/code&gt;ï¼Œå­—ç¬¦ä¸²å°±æ˜¯ç©ºå­—ç¬¦ä¸²&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;ï¼Œæ•°ç»„å°±æ˜¯ç©ºæ•°ç»„&lt;code&gt;[]&lt;/code&gt;ï¼Œå¯¹è±¡å°±æ˜¯ç©ºå¯¹è±¡&lt;code&gt;{}&lt;/code&gt;ï¼Œè¿™æ ·æœ‰ä¸ªå¥½å¤„å°±æ˜¯å¯ä»¥é¿å…å¾ˆå¤šå®¢æˆ·ç«¯ï¼ˆJavaã€OCï¼‰å¤„ç†ç©ºå€¼ï¼ˆNullã€nilã€nullï¼‰äº§ç”Ÿçš„å¼‚å¸¸ã€‚ä½†æ˜¯å±å®³å°±æ˜¯å®¹æ˜“è¯­ä¹‰ä¸æ˜ã€‚è¿˜æ˜¯è¦æ ¹æ®å…·ä½“ä¸šåŠ¡ã€å‰åç«¯çº¦å®šè€Œå®šã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰å†™è¿‡ä¸€ç¯‡&lt;a href=&quot;http://tutuge.me/2015/07/08/fill-nil-property-of-object/&quot;&gt;ç”¨Runtimeçš„æ‰‹æ®µå¡«å……ä»»æ„NSObjectå¯¹è±¡çš„nilå±æ€§&lt;/a&gt;ï¼Œå…¶å®å°±æ˜¯ä¸ºå¯¹è±¡ç©ºå€¼ç»Ÿä¸€è®¾ç½®é»˜è®¤å€¼çš„=ã€‚=ï¼Œå¯ä»¥å‚è€ƒã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¸ƒå°”booleanå€¼çš„å¤„ç†&quot;&gt;&lt;a href=&quot;#å¸ƒå°”booleanå€¼çš„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;å¸ƒå°”booleanå€¼çš„å¤„ç†&quot;&gt;&lt;/a&gt;å¸ƒå°”booleanå€¼çš„å¤„ç†&lt;/h3&gt;&lt;p&gt;è¯´å®è¯ï¼Œæˆ‘è§è¿‡å„ç§å¸ƒå°”å€¼è¡¨ç¤ºæ–¹å¼ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;is_login:&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;is_login:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;is_login:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;is_login:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;TRUE&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;is_login:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;YES&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ...å¤©å•Š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”±äºè¯­è¨€æœ¬èº«çš„é™åˆ¶ã€æ¡†æ¶çš„å¤„ç†æ–¹å¼ï¼Œä¸å¯¹å¸ƒå°”ç±»å‹çš„å€¼åšé™åˆ¶æ€»è§‰å¾—ä¸è¸å®ï¼ŒåƒCã€C++ã€Objective-Cé‡Œé¢çš„å¸ƒå°”å°±æ˜¯æ•°å­—0å’Œ1ï¼Œå…¶å®ƒè¯­è¨€ä¹Ÿéƒ½å„è‡ªä¸ä¸€æ ·ï¼Œè¿˜æœ‰ä»æ•°æ®åº“è¯»å†™å¯¼è‡´çš„å¸ƒå°”å€¼ç±»å‹ä¸ä¸€è‡´ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œæœ€å¥½ä¸€å¼€å§‹å°±å¯¹æ‰€æœ‰è¯·æ±‚å‚æ•°ã€ç»“æœçš„å¸ƒå°”å€¼ç±»å‹åšé™å®šï¼Œä¸ªäººè§‰å¾—&lt;strong&gt;ç»Ÿä¸€æˆæ•°å­—0å’Œ1&lt;/strong&gt;æœ€å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç»Ÿä¸€è®¾ç½®å¸¸é‡ã€å®å®šä¹‰ï¼Œå®šä¹‰å¸ƒå°”çš„ç±»å‹ï¼Œæ‰€æœ‰çš„å‚æ•°ã€ç»“æœçš„å¸ƒå°”å­—æ®µå…¨éƒ¨åšå¼ºåˆ¶çº¦æŸã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ—¶é—´ã€æ—¥æœŸå­—æ®µ&quot;&gt;&lt;a href=&quot;#æ—¶é—´ã€æ—¥æœŸå­—æ®µ&quot; class=&quot;headerlink&quot; title=&quot;æ—¶é—´ã€æ—¥æœŸå­—æ®µ&quot;&gt;&lt;/a&gt;æ—¶é—´ã€æ—¥æœŸå­—æ®µ&lt;/h3&gt;&lt;p&gt;æ—¶é—´çš„å¤„ç†ä¹Ÿæ˜¯éå¸¸å®¹æ˜“å‡ºé”™çš„ï¼Œç‰¹åˆ«æ˜¯é‡ä¸Šæ—¶åŒºè½¬æ¢çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¼ºåˆ¶GMT/UTCæ—¶é—´æˆ³&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ç§åšæ³•å°±æ˜¯å¼ºåˆ¶æ‰€æœ‰æ—¶é—´å‚æ•°åªèƒ½ä¼ Unixæ—¶é—´æˆ³ï¼Œä¹Ÿå°±æ˜¯æ ‡å‡†GMT/UTCæ—¶é—´æˆ³ï¼Œç„¶åç”±å„è‡ªçš„å®¢æˆ·ç«¯æ ¹æ®è‡ªå·±çš„æ—¶åŒºã€æ˜¾ç¤ºè¦æ±‚åšå¤„ç†åæ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä»æœåŠ¡å™¨æ¥æ”¶çš„æ—¶é—´æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;login_at:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1462068610&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ ¹æ®æ—¶åŒºã€æ˜¾ç¤ºè¦æ±‚è½¬æ¢ï¼Œå¦‚åŒ—äº¬æ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;æ˜¾ç¤ºï¼š&lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;å¹´&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;æœˆ&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;æ—¥ä¸‹åˆ&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;ç‚¹ã€&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;å¤©å‰ç­‰&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·çš„è¯ï¼Œå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å­˜å‚¨ã€è¯»å–æ—¶é—´éƒ½ç›¸å½“äºå¤„ç†çº¯æ•°å­—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ISO 8601å¸¦æ—¶åŒºçš„æ—¶é—´æ—¥æœŸå­—ç¬¦ä¸²&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Unixæ—¶é—´æˆ³æœ‰ä¸ªåå¤„ï¼Œå°±æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€æ—©åªèƒ½åˆ°&lt;code&gt;1970/1/1 0:0:0&lt;/code&gt;GMTæ—¶é—´ï¼Œä¸€æ—¦éœ€æ±‚æ—©äºè¿™ä¸ªæ—¶é—´ï¼Œæ—¶é—´æˆ³å°±æˆäº†è´Ÿæ•°=ã€‚=&lt;/li&gt;
&lt;li&gt;ä¸æ–¹ä¾¿äººé˜…è¯»ã€‚è°ƒè¯•APIçš„æ—¶å€™ï¼Œå¼€å‘äººå‘˜ä¸èƒ½ç›´è§‚çœ‹å‡ºå…·ä½“æ—¶é—´ï¼Œå¾ˆä¸æ–¹ä¾¿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯ä»¥æŒ‰ç…§&lt;a href=&quot;https://en.wikipedia.org/wiki/ISO_8601&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ISO 8601&lt;/a&gt;æ ‡å‡†ï¼Œç”¨å­—ç¬¦ä¸²ä¿å­˜ã€ä¼ è¾“æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä»¥&lt;code&gt;YYYY-MM-DDThh:mm:ssTZD&lt;/code&gt;æ ¼å¼ä¸ºå‡†, æ—¶é—´çš„å½¢å¼å°±æ˜¯&lt;code&gt;1997-07-16T19:20:30+01:00&lt;/code&gt;ï¼Œä¿å­˜äº†æ—¶åŒºä¿¡æ¯ï¼Œä¹Ÿæ–¹ä¾¿é˜…è¯»ã€‚&lt;/p&gt;
&lt;h3 id=&quot;typeç±»å‹çš„å¤„ç†&quot;&gt;&lt;a href=&quot;#typeç±»å‹çš„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;typeç±»å‹çš„å¤„ç†&quot;&gt;&lt;/a&gt;typeç±»å‹çš„å¤„ç†&lt;/h3&gt;&lt;p&gt;APIæ•°æ®ä¸­å…ä¸äº†å„ç§ç±»å‹å­—æ®µï¼Œå¦‚ç”¨æˆ·ç±»å‹&lt;code&gt;user_type&lt;/code&gt;ã€ç™»å½•ç±»å‹&lt;code&gt;login_type&lt;/code&gt;ç­‰ï¼Œç±»å‹çš„è¡¨ç¤ºä¹Ÿå¯ä»¥åˆ†ä¸ºæ•°å­—ã€å­—ç¬¦ä¸²ä¸¤ç§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°å­—è¡¨ç¤ºç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåº”è¯¥æ˜¯æœ€ç›´æ¥çš„æ–¹å¼äº†ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å…±åŒç»´æŠ¤æŸä¸ªAPIä¸‹ã€æŸä¸ªæ•°æ®ç±»å‹ä¸­çš„typeå¸¸é‡ï¼Œé æ–‡æ¡£çº¦æŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å­—ç¬¦ä¸²è¡¨ç¤ºç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•°å­—çš„ç±»å‹æ¯•ç«Ÿä¸åˆ©äºç›´è§‚é˜…è¯»ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œç”¨å­—ç¬¦ä¸²ä¹Ÿæ˜¯ä¸é”™çš„ï¼Œå½“ç„¶åå¤„å°±æ˜¯ä»£ç é‡Œé¢å°±ä¸èƒ½ç”¨&lt;code&gt;Switch&lt;/code&gt;è¯­å¥äº†ï¼ˆé™¤äº†å¼ºå¤§çš„Swift=ã€‚=ï¼‰&lt;/p&gt;
&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¦‚ç™»å½•ç±»å‹ï¼ŒQQã€å¾®ä¿¡ã€å¾®åšç­‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;login_type:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;qq&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;login_type:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;wechat&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;login_type:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;sina_weibo&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å®Œæ•´çš„URL&quot;&gt;&lt;a href=&quot;#å®Œæ•´çš„URL&quot; class=&quot;headerlink&quot; title=&quot;å®Œæ•´çš„URL&quot;&gt;&lt;/a&gt;å®Œæ•´çš„URL&lt;/h3&gt;&lt;p&gt;APIé‡Œé¢çš„æ•°æ®ä¹Ÿä¼šæœ‰URLç±»å‹çš„ï¼Œä¸€èˆ¬æ¥è¯´å¦‚ç”¨æˆ·çš„å¤´åƒã€å„ç§å›¾ç‰‡ã€éŸ³é¢‘ç­‰èµ„æºï¼Œéƒ½æ˜¯ä»¥URLé“¾æ¥çš„å½¢å¼è¿”å›çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›çš„URLä¸€å®šè¦â€œå®Œæ•´â€ï¼Œä¸»è¦æŒ‡çš„æ˜¯ä¸è¦å¿˜è®°URLé‡Œé¢çš„&lt;strong&gt;åè®®&lt;/strong&gt;éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;scheme&lt;/code&gt;éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;åƒ&lt;code&gt;tutuge.me/imgs/1.jpg&lt;/code&gt;è¿™ç§URLå€¼ï¼Œå°±æ˜¯ä¸å®Œæ•´çš„ï¼Œæ²¡æœ‰æŒ‡æ˜ç½‘ç»œåè®®ï¼Œéš¾é“é çŒœ=ã€‚=&lt;br&gt;åº”è¯¥æ˜¯&lt;code&gt;http://tutuge.me/imgs/1.jpg&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å—¯ï¼Œè§„èŒƒéå¸¸é‡è¦ã€‚:-D&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;RESTful APIçš„è®¾è®¡å·²ç»å¾ˆæˆç†Ÿäº†ï¼Œå¤§å®¶ä¹Ÿéƒ½æ¯”è¾ƒè®¤å¯ã€‚æœ¬æ–‡ä¹Ÿä¸å†è¿‡å¤šä»‹ç»RESTful APIç›¸å…³çš„çŸ¥è¯†ï¼Œè€Œæ˜¯é’ˆå¯¹JSONå‹APIçš„è¿”å›ç»“æœè®¾è®¡ï¼Œæ€»ç»“ä¸‹è‡ªå·±çš„ç»éªŒã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»“æ„&quot;&gt;&lt;a href=&quot;#ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;ç»“æ„&quot;&gt;&lt;/a&gt;ç»“æ„&lt;/h2&gt;&lt;p&gt;å…ˆæ¥çœ‹çœ‹è¿”å›ç»“æœçš„ç»“æ„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;data&lt;/span&gt; : &amp;#123; &lt;span class=&quot;comment&quot;&gt;// è¯·æ±‚æ•°æ®ï¼Œå¯¹è±¡æˆ–æ•°ç»„å‡å¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_id&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_name&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;user_avatar_url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;http://tutuge.me/avatar.jpg&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;msg&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;done&quot;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;// è¯·æ±‚çŠ¶æ€æè¿°ï¼Œè°ƒè¯•ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;code&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1001&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;// ä¸šåŠ¡è‡ªå®šä¹‰çŠ¶æ€ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;extra&lt;/span&gt; : &amp;#123; &lt;span class=&quot;comment&quot;&gt;// å…¨å±€é™„åŠ æ•°æ®ï¼Œå­—æ®µã€å†…å®¹ä¸å®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;desc&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;ç­¾åˆ°æˆåŠŸï¼&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="æœåŠ¡ç«¯" scheme="http://tutuge.me/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>ç»“åˆè®¿é—®Out Parameterså‡ºç°EXC_BAD_ACCESSçš„ä¾‹å­ï¼Œåç¼–è¯‘æ±‡ç¼–è§£è¯»__autoreleasing</title>
    <link href="http://tutuge.me/2016/04/30/autoreleasing-meet-autoreleasepool/"/>
    <id>http://tutuge.me/2016/04/30/autoreleasing-meet-autoreleasepool/</id>
    <published>2016-04-30T11:19:23.000Z</published>
    <updated>2016-08-07T06:06:35.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;p&gt;2016-05-01: è¡¥å……äº†ä¸€ç‚¹æœ¬æ–‡æ¶‰åŠçš„æ±‡ç¼–çŸ¥è¯†&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ç»“åˆä¸€æ®µè®¿é—®&lt;code&gt;Out Parameters&lt;/code&gt;å‡ºç°äº†&lt;code&gt;EXC_BAD_ACCESS&lt;/code&gt;é”™è¯¯çš„ä»£ç ï¼Œé€šè¿‡åç¼–è¯‘ç­‰æ‰‹æ®µéªŒè¯Objective-Cä¸­&lt;code&gt;__autoreleasing&lt;/code&gt;çš„ä¸€äº›ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;2016-05-01æ›´æ–°-å…³äºæœ¬æ–‡çš„åç¼–è¯‘æ±‡ç¼–ä»£ç &quot;&gt;&lt;a href=&quot;#2016-05-01æ›´æ–°-å…³äºæœ¬æ–‡çš„åç¼–è¯‘æ±‡ç¼–ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;2016-05-01æ›´æ–° - å…³äºæœ¬æ–‡çš„åç¼–è¯‘æ±‡ç¼–ä»£ç &quot;&gt;&lt;/a&gt;2016-05-01æ›´æ–° - å…³äºæœ¬æ–‡çš„åç¼–è¯‘æ±‡ç¼–ä»£ç &lt;/h2&gt;&lt;p&gt;æœ¬æ–‡çš„åç¼–è¯‘åŸºäºMachO 64bitsï¼Œå³System V X86_64ï¼Œè¯»æ‡‚æœ¬æ–‡éœ€è¦çš„æœ€ç®€å•Calling conventionå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;å‡½æ•°å‚æ•°é¡ºåºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight nix&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rdi, rsi, rdx, rcxç­‰å¯„å­˜å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å¯¹åº”åˆ°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id objc_msgSend ( id object, SEL cmd, arg1, arg2 ... );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°±æ˜¯&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;rdi&lt;/span&gt; = object &lt;span class=&quot;comment&quot;&gt;# è¢«è°ƒç”¨å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;rsi&lt;/span&gt; = cmd &lt;span class=&quot;comment&quot;&gt;# æ–¹æ³•selector&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;rdx&lt;/span&gt; = arg1 &lt;span class=&quot;comment&quot;&gt;# æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;rcx&lt;/span&gt; = arg2 &lt;span class=&quot;comment&quot;&gt;# æ–¹æ³•ç¬¬äºŒä¸ªå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‡½æ•°è¿”å›å€¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight x86asm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;æœ¬æ–‡åªæ¶‰åŠ: &lt;span class=&quot;built_in&quot;&gt;rax&lt;/span&gt;å¯„å­˜å™¨&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯¦ç»†å¯å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Xcode/Conceptual/iPhoneOSABIReference/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS ABI Function Call Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/LowLevelABI/000-Introduction/introduction.html#//apple_ref/doc/uid/TP40002437-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OS X ABI Function Call Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.osdev.org/Calling_Conventions&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OS DEV Calling Conventions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Out-Parameters-æŒ‡é’ˆçš„æŒ‡é’ˆ&quot;&gt;&lt;a href=&quot;#Out-Parameters-æŒ‡é’ˆçš„æŒ‡é’ˆ&quot; class=&quot;headerlink&quot; title=&quot;Out Parameters - æŒ‡é’ˆçš„æŒ‡é’ˆ&quot;&gt;&lt;/a&gt;Out Parameters - æŒ‡é’ˆçš„æŒ‡é’ˆ&lt;/h2&gt;&lt;p&gt;æ‰€è°“&lt;code&gt;Out Parameters&lt;/code&gt;ï¼Œå…¶å®å°±æ˜¯&lt;strong&gt;æŒ‡é’ˆçš„æŒ‡é’ˆ&lt;/strong&gt;ï¼Œç†Ÿæ‚‰C/C++çš„æœ‹å‹åº”è¯¥ä¸é™Œç”Ÿï¼Œé€šè¿‡æŒ‡é’ˆçš„æŒ‡é’ˆå¯ä»¥æ”¹å˜æŒ‡é’ˆçš„å€¼ï¼Œåœ¨Objective-Cé‡Œé¢å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº†è¿™ç§æ–¹æ³•ï¼Œæ¥åœ¨å‡½æ•°ã€æ–¹æ³•å†…éƒ¨æ”¹å˜å‚æ•°çš„åŸå§‹å€¼ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// NSFileManagerçš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;BOOL&lt;/span&gt;)removeItemAtURL:(NSURL *)URL &lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;:(NSError **)&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¬¬äºŒä¸ªå‚æ•°&lt;code&gt;(NSError **)error&lt;/code&gt;ï¼Œå°±æ˜¯&lt;code&gt;Out Parameters&lt;/code&gt;ï¼Œè°ƒç”¨æ—¶ä¼ é€’NSErrorç±»å‹æŒ‡é’ˆçš„åœ°å€å³å¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSError *&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt; = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[NSFileManager defaultManager] removeItemAtURL:url &lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;:&amp;amp;&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¤„ç†error...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å‡ºç°EXC-BAD-ACCESSçš„ä»£ç ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#å‡ºç°EXC-BAD-ACCESSçš„ä»£ç ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;å‡ºç°EXC_BAD_ACCESSçš„ä»£ç ç¤ºä¾‹&quot;&gt;&lt;/a&gt;å‡ºç°EXC_BAD_ACCESSçš„ä»£ç ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;å‡è®¾æœ‰å¦‚ä¸‹éå†æ•°ç»„æ£€æŸ¥æ•°å€¼é›¶çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)checkZeroInArray:(&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; &amp;lt;&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *&amp;gt; *)array error:(&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; **)error &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// éå†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [array enumerateObjectsUsingBlock:^(&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; * _Nonnull number, &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; index, &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; * _Nonnull stop) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (number.integerValue == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// æ£€æŸ¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (error) &amp;#123; &lt;span class=&quot;comment&quot;&gt;// æŒ‡é’ˆæ˜¯å¦æœ‰æ•ˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                *error = [&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;span class=&quot;string&quot;&gt;@&quot;me.tutuge&quot;&lt;/span&gt; code:&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; userInfo:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;]; &lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºNSErrorå®ä¾‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            *stop = &lt;span class=&quot;literal&quot;&gt;TRUE&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// åœæ­¢éå†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è°ƒç”¨çš„æ—¶å€™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSError *&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self checkZeroInArray:numbers &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;:&amp;amp;&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;]; &lt;span class=&quot;comment&quot;&gt;// å–åœ°å€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Error: %@&quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;); &lt;span class=&quot;comment&quot;&gt;// EXC_BAD_ACCESSé”™è¯¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯ä»¥å¾—å‡ºï¼Œ&lt;code&gt;NSLog(@&amp;quot;Error: %@&amp;quot;, error)&lt;/code&gt;è®¿é—®&lt;code&gt;error&lt;/code&gt;çš„æ—¶å€™ï¼Œ&lt;code&gt;error&lt;/code&gt;çš„åœ°å€æŒ‡å‘çš„å†…å­˜ç©ºé—´å·²ç»è¢«é‡Šæ”¾ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°&lt;code&gt;EXC_BAD_ACCESS&lt;/code&gt;é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ä¸ºä»€ä¹ˆä¼šè¢«é‡Šæ”¾ï¼Ÿä»€ä¹ˆæ—¶å€™è¢«é‡Šæ”¾çš„ï¼Ÿç»è¿‡ä¸€ç•ªæŸ¥è¯ï¼Œå‘ç°è·Ÿ&lt;code&gt;__autoreleasing&lt;/code&gt;å’Œ&lt;code&gt;@autoreleasepool&lt;/code&gt;æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å…ˆå¯¹&lt;code&gt;__autoreleasing&lt;/code&gt;åšç‚¹ç ”ç©¶=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;autoreleasing-å˜é‡æ‰€æœ‰æƒ-ownership-ä¿®é¥°ç¬¦&quot;&gt;&lt;a href=&quot;#autoreleasing-å˜é‡æ‰€æœ‰æƒ-ownership-ä¿®é¥°ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;__autoreleasing - å˜é‡æ‰€æœ‰æƒ(ownership)ä¿®é¥°ç¬¦&quot;&gt;&lt;/a&gt;__autoreleasing - å˜é‡æ‰€æœ‰æƒ(ownership)ä¿®é¥°ç¬¦&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹&lt;code&gt;__autoreleasing&lt;/code&gt;çš„å®šä¹‰åŠä¸€äº›ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;__autoreleasing&lt;/code&gt;æ˜¯å˜é‡æ‰€æœ‰æƒä¿®é¥°ç¬¦çš„ä¸€ç§ï¼Œé™¤äº†å®ƒï¼Œè¿˜æœ‰&lt;code&gt;__strong&lt;/code&gt;ã€&lt;code&gt;__weak&lt;/code&gt;å’Œ&lt;code&gt;__unsafe_unretained&lt;/code&gt;ï¼Œè¯¦ç»†çš„è¯´æ˜å¯ä»¥å‚è€ƒï¼š&lt;a href=&quot;http://clang.llvm.org/docs/AutomaticReferenceCounting.html#ownership-qualification&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clangæ–‡æ¡£-Objective-C Automatic Reference Counting (ARC)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è¢«&lt;code&gt;__autoreleasing&lt;/code&gt;ä¿®é¥°çš„å˜é‡ä¼šè¢«åŠ å…¥åˆ°å½“å‰çš„autoreleasepoolä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºå¦‚ä¸‹ä¸¤æ®µåˆ†åˆ«åœ¨ARCå’ŒMRCä¸­çš„ä»£ç ç­‰ä»·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ARC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id __autoreleasing obj = someObj&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// MRC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;id obj = [[someObj retain] autorelease]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å†è¿›ä¸€æ­¥ï¼Œé™¤å¼€å„ç§å½±å“å› ç´ ï¼Œå‡è®¾æœ‰å¦‚ä¸‹å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)funcWithObj:(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)someObj &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; __autoreleasing obj = someObj;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨Hopper Disassembleråç¼–è¯‘åä¸ºå¦‚ä¸‹æ±‡ç¼–ä»£ç (MachO 64bits)ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/autoreleasing-meet-autoreleasepool_1.jpg&quot; alt=&quot;funcWithObj:åæ±‡ç¼–&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;var_18&lt;/code&gt;å°±æ˜¯objå˜é‡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lea rax, qword [ss:rbp+var_18]&lt;/code&gt;å’Œ&lt;code&gt;mov rdi, rax&lt;/code&gt;å–äº†var_18çš„åœ°å€æ”¾åœ¨&lt;code&gt;rdi&lt;/code&gt;å¯„å­˜å™¨ä¸­ï¼Œ&lt;code&gt;mov rsi, rdx&lt;/code&gt;å°†&lt;code&gt;someObj&lt;/code&gt;å€¼æ”¾åˆ°äº†rsiå¯„å­˜å™¨ä¸­ï¼Œç„¶åè°ƒç”¨&lt;code&gt;id objc_storeStrong(id *object, id value)&lt;/code&gt;å‡½æ•°æœ€ç»ˆå°†&lt;code&gt;someObj&lt;/code&gt;å€¼ä¿å­˜åœ¨&lt;code&gt;var_18&lt;/code&gt;å˜é‡ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;__autoreleasing&lt;/code&gt;å¯¼è‡´äº†&lt;code&gt;id objc_retainAutorelease(id value)&lt;/code&gt;å‡½æ•°çš„è°ƒç”¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;call imp___stubs__objc_retainAutorelease&lt;/code&gt;ï¼Œå°±æ˜¯å¯¹&lt;code&gt;obj&lt;/code&gt;å˜é‡ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;var_18&lt;/code&gt;ï¼Œè°ƒç”¨äº†&lt;code&gt;objc_retainAutorelease&lt;/code&gt;å‡½æ•°ï¼Œå…ˆretainç„¶åautoreleaseäº†ä¸€æ¬¡ï¼Œå…¶å®ç°å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cs&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;id &lt;span class=&quot;title&quot;&gt;objc_retainAutorelease&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;id &lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; objc_autorelease(objc_retain(&lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;objc_storeStrong&lt;/code&gt;å’Œ&lt;code&gt;objc_retainAutorelease&lt;/code&gt;å¯å‚è€ƒï¼š&lt;a href=&quot;http://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retainautorelease&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clangæ–‡æ¡£-Objective-C Automatic Reference Counting (ARC)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯éªŒè¯ï¼Œç”¨&lt;code&gt;__autoreleasing&lt;/code&gt;ä¿®é¥°çš„å˜é‡ä¼šè¢«æ·»åŠ åˆ°å½“å‰çš„autoreleasepoolä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ–¹æ³•çš„Out-Parameterså‚æ•°ä¼šè‡ªåŠ¨æ·»åŠ -autoreleasingå±æ€§&quot;&gt;&lt;a href=&quot;#æ–¹æ³•çš„Out-Parameterså‚æ•°ä¼šè‡ªåŠ¨æ·»åŠ -autoreleasingå±æ€§&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•çš„Out Parameterså‚æ•°ä¼šè‡ªåŠ¨æ·»åŠ __autoreleasingå±æ€§&quot;&gt;&lt;/a&gt;æ–¹æ³•çš„Out Parameterså‚æ•°ä¼šè‡ªåŠ¨æ·»åŠ __autoreleasingå±æ€§&lt;/h2&gt;&lt;p&gt;å½“æ–¹æ³•å‚æ•°é‡Œé¢æœ‰Out Parameterså‚æ•°æ—¶ï¼Œå°±æ˜¯æœ‰æŒ‡é’ˆçš„æŒ‡é’ˆç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºå‚æ•°åŠ ä¸Š&lt;code&gt;__autoreleasing&lt;/code&gt;å±æ€§ï¼Œå¦‚ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)generateError1:(NSError **)&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    *&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; = [NSError &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)generateError2:(NSError * __autoreleasing *)&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    *&lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; = [NSError &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¼–è¯‘æ—¶ï¼Œ&lt;code&gt;generateError1:&lt;/code&gt;ä¼šå¯¹å‚æ•°&lt;code&gt;error&lt;/code&gt;è‡ªåŠ¨æ·»åŠ &lt;code&gt;__autoreleasing&lt;/code&gt;ï¼Œç„¶åå°±è·Ÿ&lt;code&gt;generateError2:&lt;/code&gt;çš„å®ç°å®Œå…¨ä¸€è‡´äº†ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡åæ±‡ç¼–ä¹Ÿå¯çœ‹å‡ºä¸¤è€…å®Œå…¨ä¸€è‡´ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/autoreleasing-meet-autoreleasepool_2.jpg&quot; alt=&quot;Out Parameterså‚æ•°ä¼šè‡ªåŠ¨æ·»åŠ __autoreleasingå±æ€§&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;call imp___stubs__objc_msgSend&lt;/code&gt;å®Œæˆåï¼Œ&lt;code&gt;rax&lt;/code&gt;å¯„å­˜å™¨ä¿å­˜äº†&lt;code&gt;[NSError new]&lt;/code&gt;çš„å¯¹è±¡ï¼Œç„¶å&lt;code&gt;mov rdi, rax&lt;/code&gt;ï¼Œè½¬ç§»åˆ°&lt;code&gt;rdi&lt;/code&gt;å¯„å­˜å™¨ï¼Œä½œä¸º&lt;code&gt;objc_autorelease&lt;/code&gt;å‡½æ•°çš„å‚æ•°è¢«è°ƒç”¨ï¼Œ&lt;code&gt;*error&lt;/code&gt;è¢«åŠ åˆ°äº†å½“å‰çš„autoreleasepoolä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦‚æœä¼ ç»™Out-Parameterså‚æ•°çš„å˜é‡æ²¡æœ‰ç”¨-autoreleasingä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡å¹¶ä»¥-autoreleasingä¿®é¥°å†ä¼ å…¥&quot;&gt;&lt;a href=&quot;#å¦‚æœä¼ ç»™Out-Parameterså‚æ•°çš„å˜é‡æ²¡æœ‰ç”¨-autoreleasingä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡å¹¶ä»¥-autoreleasingä¿®é¥°å†ä¼ å…¥&quot; class=&quot;headerlink&quot; title=&quot;å¦‚æœä¼ ç»™Out Parameterså‚æ•°çš„å˜é‡æ²¡æœ‰ç”¨__autoreleasingä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡å¹¶ä»¥__autoreleasingä¿®é¥°å†ä¼ å…¥&quot;&gt;&lt;/a&gt;å¦‚æœä¼ ç»™Out Parameterså‚æ•°çš„å˜é‡æ²¡æœ‰ç”¨__autoreleasingä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡å¹¶ä»¥__autoreleasingä¿®é¥°å†ä¼ å…¥&lt;/h2&gt;&lt;p&gt;æ ¹æ®è‹¹æœçš„&lt;a href=&quot;https://developer.apple.com/library/mac/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Transitioning to ARC Release Notes&lt;/a&gt;æ–‡æ¡£å¯çŸ¥ï¼Œå¦‚æœæœ‰å¦‚ä¸‹è°ƒç”¨:&lt;/p&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSError *&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// é»˜è®¤__strongç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self generateError1:&amp;amp;&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;]ï¼›&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¼–è¯‘å™¨æ£€æµ‹åˆ°&lt;code&gt;generateError1:&lt;/code&gt;æ–¹æ³•çš„Out Parametersç±»å‹å‚æ•°ï¼Œä½†æ˜¯è°ƒç”¨æ—¶çš„&lt;code&gt;error&lt;/code&gt;åˆä¸æ˜¯&lt;code&gt;__autoreleasing&lt;/code&gt;ä¿®é¥°çš„ï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª&lt;code&gt;__autoreleasing&lt;/code&gt;ä¿®é¥°çš„ä¸´æ—¶å˜é‡ï¼Œç”¨æ¥ä»£æ›¿&lt;code&gt;error&lt;/code&gt;ä¼ å…¥ï¼Œç¼–è¯‘å™¨é‡å†™åå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; * error; &lt;span class=&quot;comment&quot;&gt;// é»˜è®¤__strongç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; * __autoreleasing tmp = error;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; generateError1:&amp;amp;tmp]ï¼›&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é€šè¿‡æ±‡ç¼–æ¥éªŒè¯ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;å‡å¦‚æœ‰å¦‚ä¸‹è°ƒç”¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)runTest &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; *error = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; generateError1:&amp;amp;error]; &lt;span class=&quot;comment&quot;&gt;// å°±æ˜¯ä¸Šé¢çš„å®ç°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åæ±‡ç¼–åï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/autoreleasing-meet-autoreleasepool_3.jpg&quot; alt=&quot;è‡ªåŠ¨æ·»åŠ __autoreleasingä¸´æ—¶å˜é‡&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç æœ‰ç‚¹å¤š=ã€‚=ï¼Œä»å›¾ä¸­æ±‡ç¼–å¯çŸ¥ï¼š&lt;code&gt;var_20&lt;/code&gt;å°±æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ä¸´æ—¶å˜é‡ï¼Œ&lt;code&gt;var_18&lt;/code&gt;æ˜¯æˆ‘ä»¬å®šä¹‰çš„&lt;code&gt;error&lt;/code&gt;å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mov qword [ss:rbp+var_18], 0x0&lt;/code&gt;å¯¹&lt;code&gt;var_18&lt;/code&gt;åšåˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯èµ‹&lt;code&gt;nil&lt;/code&gt;å€¼ï¼Œç„¶å&lt;code&gt;mov rdi, qword [ss:rbp+var_18]&lt;/code&gt;å’Œ&lt;code&gt;mov qword [ss:rbp+var_20], rdi&lt;/code&gt;å°±æ˜¯ç”¨&lt;code&gt;var_18&lt;/code&gt;åˆå§‹åŒ–äº†&lt;code&gt;var_20&lt;/code&gt;ä¸´æ—¶å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lea rdx, qword [ss:rbp+var_20]&lt;/code&gt;å°†&lt;code&gt;var_20&lt;/code&gt;ä¸´æ—¶å˜é‡çš„åœ°å€å­˜åˆ°äº†&lt;code&gt;rdx&lt;/code&gt;å¯„å­˜å™¨ä¸­ï¼Œä½œä¸º&lt;code&gt;objc_msgSend&lt;/code&gt;å®ç°&lt;code&gt;generateError1:&lt;/code&gt;è°ƒç”¨æ—¶çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;(NSError **):error&lt;/code&gt;å‚æ•°ï¼Œå®Œæˆè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒç”¨å®Œæˆåï¼Œé€šè¿‡å¦‚ä¸‹è°ƒç”¨ï¼Œå°†ä¸´æ—¶å˜é‡&lt;code&gt;var_20&lt;/code&gt;çš„å€¼ä¿å­˜åˆ°&lt;code&gt;var_18&lt;/code&gt;ï¼Œå³&lt;code&gt;error&lt;/code&gt;å˜é‡ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight x86asm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;lea&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;rdx&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;qword&lt;/span&gt; [&lt;span class=&quot;built_in&quot;&gt;ss&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;rbp&lt;/span&gt;+var_18] # var_18ä¸ºobjc_storeStrongç¬¬ä¸€ä¸ªå‚æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mov&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;rsi&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;qword&lt;/span&gt; [&lt;span class=&quot;built_in&quot;&gt;ss&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;rbp&lt;/span&gt;+var_20] # var_20ä¸ºobjc_storeStrongç¬¬äºŒä¸ªå‚æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mov&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;rdi&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;rdx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;call&lt;/span&gt; imp___stubs__objc_storeStrong&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å¼€å¤´ä¾‹å­å‡ºç°EXC-BAD-ACCESSé”™è¯¯çš„åŸå› &quot;&gt;&lt;a href=&quot;#å¼€å¤´ä¾‹å­å‡ºç°EXC-BAD-ACCESSé”™è¯¯çš„åŸå› &quot; class=&quot;headerlink&quot; title=&quot;å¼€å¤´ä¾‹å­å‡ºç°EXC_BAD_ACCESSé”™è¯¯çš„åŸå› &quot;&gt;&lt;/a&gt;å¼€å¤´ä¾‹å­å‡ºç°EXC_BAD_ACCESSé”™è¯¯çš„åŸå› &lt;/h2&gt;&lt;p&gt;ç»è¿‡ä¸Šé¢ä¸€ç•ªå¯¹&lt;code&gt;__autoreleasing&lt;/code&gt;çš„æ€»ç»“ï¼Œå†æ¥çœ‹çœ‹å¼€å¤´ä¾‹å­çš„é”™è¯¯åŸå› å°±æ¯”è¾ƒå®¹æ˜“æ‡‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;enumerateObjectsUsingBlockä¼šåœ¨å¾ªç¯å†…éƒ¨è‡ªåŠ¨æ·»åŠ autoreleasepool&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåº”è¯¥æ˜ç¡®çš„å°±æ˜¯&lt;code&gt;enumerateObjectsUsingBlock:&lt;/code&gt;åœ¨ç”¨blockè¿­ä»£éå†NSArrayçš„å…ƒç´ æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ autoreleasepoolï¼Œå¯¹äºä¾‹å­æ¥è¯´ï¼Œç›¸å½“äºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æšä¸¾éå†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[array enumerateObjectsUsingBlock:^(&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; * _Nonnull number, &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; index, &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; * _Nonnull stop) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (number.integerValue == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            *error = [&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;span class=&quot;string&quot;&gt;@&quot;me.tutuge&quot;&lt;/span&gt; code:&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; userInfo:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        *stop = &lt;span class=&quot;literal&quot;&gt;TRUE&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç»“åˆ&lt;code&gt;__autoreleasing&lt;/code&gt;åï¼Œé‡å†™ä¸ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *number = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; stop = &lt;span class=&quot;literal&quot;&gt;FALSE&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; index = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; index &amp;lt; array.count &amp;amp;&amp;amp; !stop; index++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123; &lt;span class=&quot;comment&quot;&gt;// è‡ªåŠ¨æ·»åŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        number = array[index];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            *error = [[&lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; errorWithDomain:&lt;span class=&quot;string&quot;&gt;@&quot;me.tutuge&quot;&lt;/span&gt; code:&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; userInfo:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;] autorelease]; &lt;span class=&quot;comment&quot;&gt;// æ³¨æ„è¿™ä¸ªautorelease !&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        stop = &lt;span class=&quot;literal&quot;&gt;TRUE&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è€Œ&lt;code&gt;autorelease&lt;/code&gt;å¯¹åº”çš„å‡½æ•°&lt;code&gt;id objc_autorelease(id value)&lt;/code&gt;çš„å®˜æ–¹è§£é‡Šï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If value is null, this call has no effect. Otherwise, it adds the object to the innermost autorelease pool exactly as if the object had been sent the autorelease message.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…¶ä¸­çš„&lt;strong&gt;innermost autorelease pool&lt;/strong&gt;è¡¨ç¤ºçš„å°±æ˜¯â€œæœ€å†…å±‚â€çš„autoreleasepoolï¼Œå¯¹äºä¾‹å­æ¥è¯´å°±æ˜¯&lt;code&gt;*error&lt;/code&gt;è¢«æ·»åŠ åˆ°äº†å¾ªç¯å†…çš„autoreleasepoolä¸­ï¼Œå½“ç„¶ï¼Œå¯¼è‡´çš„ç»“æœå°±æ˜¯æœ¬æ¬¡å¾ªç¯ç»“æŸåï¼Œ&lt;code&gt;*error&lt;/code&gt;ä¹Ÿéšç€ä¸€èµ·è¢«é‡Šæ”¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆå¯¼è‡´äº†å¤–éƒ¨è®¿é—®äº†å·²ç»è¢«é‡Šæ”¾çš„&lt;code&gt;*error&lt;/code&gt;ï¼Œå‡ºç°äº†EXC_BAD_ACCESSé”™è¯¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¾ˆå¤šæ—¶å€™ä¸èƒ½æƒ³å½“ç„¶çš„å†™ä»£ç =ã€‚=ï¼Œè¦ä¸ç„¶å‡ºäº†é—®é¢˜æ‰¾éƒ½æ‰¾ä¸åˆ°ï¼Œæ¯ä¸ªç»†èŠ‚éƒ½å¾ˆé‡è¦ã€‚&lt;br&gt;å—¯ï¼Œç°åœ¨è¯»æ±‡ç¼–å¿«å¤šäº†ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://clang.llvm.org/docs/AutomaticReferenceCounting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clang document: Objective-C Automatic Reference Counting (ARC)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Transitioning to ARC Release Notes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.sunnyxx.com/2014/10/15/behind-autorelease/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é»‘å¹•èƒŒåçš„Autorelease&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;p&gt;2016-05-01: è¡¥å……äº†ä¸€ç‚¹æœ¬æ–‡æ¶‰åŠçš„æ±‡ç¼–çŸ¥è¯†&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ç»“åˆä¸€æ®µè®¿é—®&lt;code&gt;Out Parameters&lt;/code&gt;å‡ºç°äº†&lt;code&gt;EXC_BAD_ACCESS&lt;/code&gt;é”™è¯¯çš„ä»£ç ï¼Œé€šè¿‡åç¼–è¯‘ç­‰æ‰‹æ®µéªŒè¯Objective-Cä¸­&lt;code&gt;__autoreleasing&lt;/code&gt;çš„ä¸€äº›ç‰¹ç‚¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æ€»ç»“ä¸€äº›iOSé¡¹ç›®ä¸­ç»„ç»‡ä»£ç çš„æ–¹æ³•</title>
    <link href="http://tutuge.me/2016/04/10/summary-of-code-organization/"/>
    <id>http://tutuge.me/2016/04/10/summary-of-code-organization/</id>
    <published>2016-04-10T12:10:56.000Z</published>
    <updated>2016-08-07T06:16:22.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æ€»ç»“ä¸€äº›ç»„ç»‡ä»£ç çš„æ–¹æ³•ï¼Œå¤§åˆ°å„ä¸ªå­é¡¹ç›®æ¨¡å—ä¹‹é—´ï¼Œå°åˆ°å•ä¸ªæ–‡ä»¶å†…éƒ¨ï¼Œæ¶‰åŠåˆ°äº†CocoaPodsç§æœ‰åº“ã€Carthageæ„å»ºç§æœ‰Frameworkã€é¡¹ç›®å†…Groupå’Œæ–‡ä»¶å¤¹ã€ç±»å†…ç”¨Categoryç»„ç»‡ã€æ–‡ä»¶å†…çš„#pragam markã€// MARK -ã€‚è™½ç„¶æœ‰äº›è€ç”Ÿå¸¸è°ˆï¼Œå°±å½“æ˜¯é‡æ–°æ¢³ç†ä¸€éå§=ã€‚=ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¤šä¸ªå­é¡¹ç›®-CocoaPodsåŠ ç§æœ‰ä»“åº“&quot;&gt;&lt;a href=&quot;#å¤šä¸ªå­é¡¹ç›®-CocoaPodsåŠ ç§æœ‰ä»“åº“&quot; class=&quot;headerlink&quot; title=&quot;å¤šä¸ªå­é¡¹ç›® - CocoaPodsåŠ ç§æœ‰ä»“åº“&quot;&gt;&lt;/a&gt;å¤šä¸ªå­é¡¹ç›® - CocoaPodsåŠ ç§æœ‰ä»“åº“&lt;/h2&gt;&lt;p&gt;æ„Ÿè§‰ç›®å‰CocoaPodså·²ç»æˆäº†æiOSå¼€å‘çš„æ ‡é…äº†ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº“å’Œç»„ä»¶éƒ½å¯ä»¥é€šè¿‡CocoaPodsæ¥é›†æˆç®¡ç†ã€‚ä½†æ˜¯CocoaPodsçš„åŠŸèƒ½å…¶å®ä¸æ­¢ç®¡ç†ç¬¬ä¸‰æ–¹åº“å’Œç»„ä»¶ï¼Œå›¢é˜Ÿå†…éƒ¨çš„æ‹†åˆ†å‡ºæ¥çš„å­é¡¹ç›®å’Œå­æ¨¡å—ï¼ŒåŒæ ·å¯ä»¥ç”¨CocoaPodsæ¥é›†æˆç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹å¦‚ä¸‹Podfileçš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# æºé…ç½® #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;source &lt;span class=&quot;string&quot;&gt;&#39;git@gitlab.xxx.com:cocoapods/specs.git&#39;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# å›¢é˜Ÿå†…éƒ¨Gitlabæº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;source &lt;span class=&quot;string&quot;&gt;&#39;https://git.coding.net/xxx/specs.git&#39;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# Codingç­‰ç§æœ‰Gitæ‰˜ç®¡å¹³å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# iOSç‰ˆæœ¬æ”¯æŒ #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;platform &lt;span class=&quot;symbol&quot;&gt;:ios&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;7.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å¼€å‘ä¸­çš„å­é¡¹ç›® #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;XXXCommonUI&#39;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:path=&amp;gt;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;/Users/tutuge/projects/Xcode/XXXCommonUI&#39;&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# æœ¬åœ°è·¯å¾„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ä¾èµ–çš„å†…éƒ¨å­é¡¹ç›® #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;XXXModuleA&#39;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:git=&amp;gt;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;git@gitlab.xxx.com:cocoapods/XXXModuleA&#39;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:branch=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;develop&#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;XXXModuleB&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;1.0.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ä¾èµ–çš„å¼€æºç¬¬ä¸‰æ–¹åº“ #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;AFNetworking&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;3.0.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&#39;DTCoreText&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# é¢å¤–çš„è„šæœ¬ #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;ç§æœ‰Gitä»“åº“&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;è™½ç„¶æˆ‘ä»¬æœ‰ä¸‡èƒ½çš„Githubäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰äº›ä»£ç æ˜¯ä¸èƒ½å…¬å¼€çš„=ã€‚=ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç§æœ‰çš„Gitä»“åº“ã€‚  &lt;/p&gt;
&lt;p&gt;æœ‰è‡ªå·±æœåŠ¡å™¨çš„ï¼Œå®Œå…¨å¯ä»¥ç”¨&lt;a href=&quot;https://about.gitlab.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gitlab&lt;/a&gt;(æˆ–è€…&lt;a href=&quot;https://gogs.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gogs&lt;/a&gt;)æ­å»ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç§æœ‰Gitä»“åº“ï¼Œç®¡ç†é¡¹ç›®ä»£ç ï¼Œæ­å»ºCocoaPodsç§æœ‰æºéƒ½å¾ˆä¸é”™ã€‚  &lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæ‡’å¾—æŠ˜è…¾çš„ï¼Œä¹Ÿå¯ä»¥ç”¨ç¬¬ä¸‰æ–¹çš„ç§æœ‰GitæœåŠ¡ï¼Œå¦‚ï¼š&lt;a href=&quot;https://bitbucket.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bitbucket&lt;/a&gt;ã€&lt;a href=&quot;https://coding.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Coding&lt;/a&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç§æœ‰CocoaPodsæº&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ­å»ºä¸€ä¸ªç§æœ‰CocoaPodsæºå…¶å®å°±æ˜¯åˆ›å»ºä¸€ä¸ªç§æœ‰çš„&lt;code&gt;Spec Repo&lt;/code&gt;ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå­˜æ”¾äº†æ‰€æœ‰ç§æœ‰Podsçš„&lt;code&gt;Podspec&lt;/code&gt;æ–‡ä»¶çš„ï¼ŒæŒ‰ç…§ç‰¹å®šç»“æ„ç»„ç»‡çš„ç›®å½•ï¼Œç„¶åæŠŠè¿™ä¸ªç›®å½•æ¨åˆ°ç§æœ‰Gitä»“åº“å°±æˆäº†ä¸€ä¸ªç§æœ‰çš„CocoaPodsæºã€‚  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;Spec Repo&lt;/code&gt;çš„ç›®å½•ç»“æ„ç¤ºä¾‹å¦‚ä¸‹ï¼š  &lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;â”œâ”€â”€ &lt;span class=&quot;selector-tag&quot;&gt;Specs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    â””â”€â”€ &lt;span class=&quot;selector-attr&quot;&gt;[XXXModuleA]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        â””â”€â”€ &lt;span class=&quot;selector-attr&quot;&gt;[0.0.1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            â””â”€â”€ &lt;span class=&quot;selector-attr&quot;&gt;[XXXModuleA]&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.podspec&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        â””â”€â”€ &lt;span class=&quot;selector-attr&quot;&gt;[0.0.2]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            â””â”€â”€ &lt;span class=&quot;selector-attr&quot;&gt;[XXXModuleA]&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.podspec&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åæ·»åŠ ç§æœ‰æºå³å¯ï¼š  &lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pod repo add XXXSpecRepo &lt;span class=&quot;string&quot;&gt;https:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//git.coding.net/xxx/specs.git&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºç§æœ‰CocoaPodsé¡¹ç›®çš„å…·ä½“æ­¥éª¤&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;è‡³äºå…·ä½“çš„åˆ›å»ºæ­¥éª¤ï¼ŒCocoaPodsçš„å®˜æ–¹æ–‡æ¡£å’Œä¸€äº›ä¼˜ç§€çš„åšå®¢å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘å°±ä¸å†é‡å¤äº†ã€‚æ¨èé˜…è¯»ï¼š&lt;a href=&quot;https://guides.cocoapods.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CocoaPods Guides&lt;/a&gt;ï¼Œè¿˜æœ‰&lt;a href=&quot;http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä½¿ç”¨Cocoapodsåˆ›å»ºç§æœ‰podspec&lt;/a&gt;ï¼Œè¿™ç¯‡å¾ˆè¯¦ç»†ï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¼•ç”¨æ­£åœ¨æœ¬åœ°å¼€å‘çš„å­é¡¹ç›®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸»å·¥ç¨‹ä¾èµ–çš„å­é¡¹ç›®ä¹Ÿæ˜¯å¯ä»¥åŒæ—¶å¼€å‘çš„ï¼Œç”¨&lt;code&gt;path&lt;/code&gt;æŒ‡å®šè·¯å¾„å³å¯ï¼Œå¦‚&lt;code&gt;pod &amp;#39;XXXCommonUI&amp;#39;, :path=&amp;gt; &amp;#39;/Users/tutuge/projects/Xcode/XXXCommonUI&amp;#39;&lt;/code&gt;ï¼Œç„¶å&lt;code&gt;pod install&lt;/code&gt;ä¸€ä¸‹ï¼Œä¾èµ–çš„æœ¬åœ°å·¥ç¨‹å°±ä¼šé›†æˆåˆ°ä¸»å·¥ç¨‹çš„&lt;code&gt;Development Pods&lt;/code&gt;ç›®å½•ä¸‹ï¼Œå¼€å‘æ—¶ï¼Œå°±å¯ä»¥åŒæ—¶ä¿®æ”¹ä¸»é¡¹ç›®å’Œå­é¡¹ç›®äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ„å»ºç§æœ‰Framework-Carthage&quot;&gt;&lt;a href=&quot;#æ„å»ºç§æœ‰Framework-Carthage&quot; class=&quot;headerlink&quot; title=&quot;æ„å»ºç§æœ‰Framework - Carthage&quot;&gt;&lt;/a&gt;æ„å»ºç§æœ‰Framework - Carthage&lt;/h2&gt;&lt;p&gt;é™¤äº†æŠ½ç¦»å‡ºå­é¡¹ç›®ï¼Œç”¨Frameworkçš„æ–¹å¼æ¥ç®¡ç†å…¬å…±ä»£ç ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ï¼ŒFrameworkçš„å¥½å¤„ä¹Ÿæ˜¯å¤šå¤šçš„:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬è´¨ä¸Šæ˜¯ä¸ªbundleï¼Œä¸ä»…å¯ä»¥æ‰“åŒ…ä»£ç ï¼Œè¿˜å¯ä»¥æ‰“åŒ…èµ„æºAssetsã€è§†å›¾XIBç­‰&lt;/li&gt;
&lt;li&gt;å¯ä»¥æœ‰é€‰æ‹©çš„å¼€æ”¾å¤´æ–‡ä»¶ã€æ¥å£ï¼Œé¿å…äº†ç”¨CocoaPodsé›†æˆå­é¡¹ç›®æ—¶ï¼Œæ‰€æœ‰ä»£ç å…¨éƒ¨æš´éœ²çš„é—®é¢˜ï¼Œåªæš´éœ²éœ€è¦çš„ï¼Œä»£ç æ›´åŠ æ¸…æ™°ã€‚&lt;/li&gt;
&lt;li&gt;ä»iOS 8å¼€å§‹æ”¯æŒçš„Cocoa Touch Frameworkå¯ä»¥æ”¯æŒåŠ¨æ€Frameworkï¼Œèƒ½åœ¨ä¸»Appå’Œå„ç§Extensionä¹‹é—´å…±äº«ä¸€ä»½äºŒè¿›åˆ¶ç›®æ ‡ä»£ç ï¼ŒåŠ å¿«åº”ç”¨åŠ è½½é€Ÿåº¦ï¼Œå‡å°ä½“ç§¯ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºäºCocoa Touch FrameworkåŠ¨æ€æ¡†æ¶çš„ç§ç§ä¼˜ç‚¹ï¼Œâ€œå»ä¸­å¿ƒåŒ–â€çš„è½»é‡çº§ä¾èµ–åŒ…ç®¡ç†å·¥å…·&lt;a href=&quot;https://github.com/Carthage/Carthage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Carthage&lt;/a&gt;ä¹Ÿè¶Šæ¥è¶Šå—æ¬¢è¿ã€‚ &lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼ŒCarthageæ²¡æœ‰CocoaPodsé‚£æ ·çš„&lt;code&gt;Spec Repo&lt;/code&gt;ä¸­å¿ƒï¼Œä¸ä¼šå¯¹ç°æœ‰é¡¹ç›®å·¥ç¨‹ä¿®æ”¹ï¼Œåªæ˜¯å®Œæˆäº†æ‹‰å–ä»£ç ã€æ„å»ºFrameworkçš„å·¥ä½œï¼Œéå¸¸çš„è½»é‡çº§ï¼Œæ‰€ä»¥ç”¨æ¥æ„å»ºå›¢é˜Ÿå†…å…¬ç”¨çš„Frameworkéå¸¸ä¸é”™~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºFramework&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„FrameworkæŒ‡çš„æ˜¯Cocoa Touch FrameworkåŠ¨æ€æ¡†æ¶ï¼Œé™æ€Frameworkçš„ç¼ºç‚¹ä¸å°‘(å¦‚ä¸èƒ½å…±äº«å·²åŠ è½½åˆ°å†…å­˜çš„äºŒè¿›åˆ¶ç›®æ ‡ä»£ç ã€æ„å»ºéº»çƒ¦ç­‰)ï¼Œå¦‚æœé¡¹ç›®å¯ä»¥ä»iOS 8å¼€å§‹æ”¯æŒï¼Œä¸ºå•¥ä¸ç”¨åŠ¨æ€æ¡†æ¶å‘¢~&lt;/p&gt;
&lt;p&gt;åˆ›å»ºFrameworkçš„è¿‡ç¨‹éå¸¸ç®€å•ï¼ŒXcode 6ä»¥åå°±æœ‰äº†Frameworké¡¹ç›®æ¨¡æ¿ï¼Œç›´æ¥é€‰ä¸­â€Cocoa Touch Frameworkâ€æ¨¡æ¿ï¼ŒæŒ‰ç…§æç¤ºæ¥å³å¯ã€‚è®°å¾—åœ¨&lt;code&gt;TARGETS-&amp;gt;Build Phases-&amp;gt;Headers-&amp;gt;Public&amp;quot;&lt;/code&gt;åŠ å…¥è¦æš´éœ²çš„å¤´æ–‡ä»¶ï¼ˆSwiftçš„è¯ï¼Œå°†è¦æš´éœ²çš„ç±»ã€æ–¹æ³•æ ‡è®°publicï¼‰å°±å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”¨Carthageæ„å»ºFramework&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Carthageåªæ”¯æŒæ„å»ºæ ‡è®°ä¸ºâ€œSharedâ€çš„é¡¹ç›®Targetï¼Œæ‰€ä»¥åˆ›å»ºå¥½äº†Frameworkå·¥ç¨‹åï¼Œè¿˜è¦è®¾ç½®Schemeä¸ºâ€œSharedâ€ï¼Œå¯ä»¥åœ¨å½“å‰Schemeçš„&lt;code&gt;Edit Scheme&lt;/code&gt;é‡Œé¢è®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨Xcodeçš„èœå•&lt;code&gt;Product-&amp;gt;Scheme-&amp;gt;Manage Schemes&lt;/code&gt;é‡Œé¢è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥å°†Frameworkå·¥ç¨‹æ¨é€åˆ°Gitä»“åº“ä¸­ï¼Œå¯ä»¥æ˜¯Githubï¼Œä¹Ÿå¯ä»¥æ˜¯ç§æœ‰Gitä»“åº“ï¼Œå¦‚ä¸Šä¸€èŠ‚æåˆ°çš„Codingã€Bitbucketç­‰ï¼Œåªè¦æœ¬æœºå¯ä»¥æ­£å¸¸è®¿é—®å³å¯ã€‚è®°ä½æ‰“ä¸Šç‰ˆæœ¬å·tagã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥åœ¨ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹ä¸­åˆ›å»ºä¸€ä¸ª&lt;code&gt;Cartfile&lt;/code&gt;æ–‡ä»¶ï¼Œè¾“å…¥Frameworkçš„Gitè·¯å¾„ï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£è®¾ç½®ä¸€ä¸‹â€Run Scriptâ€ï¼Œè¿è¡Œ&lt;code&gt;carthage update&lt;/code&gt;ç”Ÿæˆå¯¹åº”çš„Frameworkï¼Œå°±å¯ä»¥é›†æˆæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ€ç»ˆçš„Cartfile&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºCarthageçš„å»ä¸­å¿ƒåŒ–ï¼Œç”¨Carthageç®¡ç†é¡¹ç›®çš„Frameworkä¾èµ–å°±éå¸¸çµæ´»ï¼Œä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight vala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# å¼€å‘ä¸­çš„æœ¬åœ°Framework&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;string&quot;&gt;&quot;file:///directory/to/project&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;develop&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# ä¾èµ–çš„ç§æœ‰Framework&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;string&quot;&gt;&quot;git@gitlab.xxx.com:cocoapods/XXXFramework.git&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;development&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# ç¬¬ä¸‰æ–¹å¼€æºåº“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;github &lt;span class=&quot;string&quot;&gt;&quot;Mantle/Mantle&quot;&lt;/span&gt; ~&amp;gt; &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒCarthageå¯ä»¥æ–¹ä¾¿çš„ç®¡ç†æ„å»ºæœ¬åœ°ã€ç§æœ‰ã€ç¬¬ä¸‰æ–¹çš„Frameworkåº“ï¼Œè€Œä¸”æ›´åŠ æ–¹ä¾¿~  &lt;/p&gt;
&lt;p&gt;è¯¦ç»†çš„åˆ›å»ºæµç¨‹Googleä¸€ä¸‹å°±æœ‰å¾ˆå¤šï¼Œå¦‚&lt;a href=&quot;https://medium.com/@PyBaig/build-your-own-cocoa-touch-frameworks-in-swift-d4ea3d1f9ca3#.z38fy8psd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Build your own Cocoa Touch Frameworks, in pure Swift&lt;/a&gt;ã€&lt;a href=&quot;https://robots.thoughtbot.com/creating-your-first-ios-framework&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Creating your first iOS Framework&lt;/a&gt;ã€&lt;a href=&quot;http://blog.mat.tc/how-to-make-a-carthage-compatible-framework/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to Make a Carthage-compatible Framework in Swift&lt;/a&gt;ã€‚ &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å’ŒCocoaPodsæ··ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Carthageæ˜¯æ²¡æœ‰ä»»ä½•ä¾µå…¥æ€§çš„ï¼Œä¸ä¼šå¯¹é¡¹ç›®å·¥ç¨‹æœ‰ä¿®æ”¹ï¼Œåªæ˜¯æ„å»ºå‡ºäº†Frameworkæ–‡ä»¶ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥æŠŠCarthageå½“åšçº¯ç²¹çš„Frameworkæ„å»ºå·¥å…·ï¼Œè·ŸCocoaPodsä¸€èµ·æ„‰å¿«çš„ä½¿ç”¨=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;é¡¹ç›®å†…æ–‡ä»¶ç»„ç»‡-Groupå’Œæ–‡ä»¶å¤¹&quot;&gt;&lt;a href=&quot;#é¡¹ç›®å†…æ–‡ä»¶ç»„ç»‡-Groupå’Œæ–‡ä»¶å¤¹&quot; class=&quot;headerlink&quot; title=&quot;é¡¹ç›®å†…æ–‡ä»¶ç»„ç»‡ - Groupå’Œæ–‡ä»¶å¤¹&quot;&gt;&lt;/a&gt;é¡¹ç›®å†…æ–‡ä»¶ç»„ç»‡ - Groupå’Œæ–‡ä»¶å¤¹&lt;/h2&gt;&lt;p&gt;é¡¹ç›®å†…çš„ä»£ç ç»„ç»‡ï¼Œå…¶å®å°±æ˜¯ä»£ç æ–‡ä»¶çš„ç»„ç»‡ï¼Œæ€»çš„æ¥è¯´ï¼Œå…¶å®æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…·æœ‰ç‰©ç†æ–‡ä»¶å¤¹ç»“æ„çš„Folder reference&lt;/li&gt;
&lt;li&gt;ä»Xcodeåˆ›å»ºçš„é€»è¾‘ä¸Šçš„Group&lt;/li&gt;
&lt;li&gt;å…·æœ‰ç‰©ç†æ–‡ä»¶å¤¹ç»“æ„çš„Group&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ’é™¤Folder reference&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Folder referenceè¯´ç™½äº†å°±æ˜¯ç¡¬ç›˜ä¸Šä¸€ä¸ªæ–‡ä»¶å¤¹çš„é€»è¾‘å¼•ç”¨ï¼Œæœ‰ç‚¹åƒLinuxæ–‡ä»¶ç³»ç»Ÿé‡Œé¢çš„è½¯è¿æ¥=ã€‚=ï¼Œå›¾æ ‡æ˜¯è“è‰²çš„ï¼Œå°†ä¸€ä¸ªæ–‡ä»¶å¤¹æ‹–åˆ°Xcodeä¸­æ—¶ï¼Œ&lt;code&gt;Create folder references&lt;/code&gt;é€‰é¡¹åˆ›å»ºçš„å°±æ˜¯ã€‚  &lt;/p&gt;
&lt;p&gt;è™½ç„¶ç¼–è¯‘æ—¶ä¹Ÿä¼šè¢«æ‰“åŒ…åˆ°ç¨‹åºä¸­ï¼Œæ›´èƒ½åŒæ­¥çœŸæ­£æ–‡ä»¶å¤¹å†…éƒ¨çš„ä¿®æ”¹ï¼Œä½†æ˜¯é—æ†¾æ˜¯çš„é‡Œé¢çš„ä»£ç æ–‡ä»¶æ˜¯ä¸èƒ½è‡ªåŠ¨çš„åŠ å…¥åˆ°Xcodeçš„ç¼–è¯‘ä¸­çš„ï¼Œè¦æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªåŠ ï¼Œè€Œä¸”å›¾ç‰‡èµ„æºä¹Ÿä¸èƒ½åœ¨IBé‡Œé¢ä½¿ç”¨ï¼Œä»£ç é‡Œé¢ä½¿ç”¨ä¹Ÿè¦åŠ ä¸Šè·¯å¾„ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯çº¯èµ„æºæ–‡ä»¶å¤¹ç”¨Folder referenceçš„æ–¹å¼å¼•ç”¨ï¼Œå¯¹äºç»„ç»‡ä»£ç æ–‡ä»¶ï¼Œå°±å¯ä»¥æ’é™¤Folder referenceçš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çº¯é€»è¾‘Groupæ–‡ä»¶å¹³é“ºï¼Œè„±ç¦»Xcodeä¸æ–¹ä¾¿æŸ¥çœ‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯ï¼ŒGroupæ˜¯Xcodeå¯¹æ–‡ä»¶çš„ä¸€ç§é€»è¾‘ä¸Šçš„å¼•ç”¨ï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘æ—¶Xcodeä¼šæŠŠæ‰€æœ‰çš„Groupå±•å¼€ï¼Œæ‰€ä»¥ä»£ç é‡Œé¢ä¹Ÿå°±ä¸ç”¨åƒFolder referenceä¸€æ ·åŠ ä¸Šè·¯å¾„ï¼Œè¿˜å¯ä»¥é’ˆå¯¹Targetä½œåŒºåˆ†ï¼Œå¾ˆæ–¹ä¾¿ã€‚  &lt;/p&gt;
&lt;p&gt;ä½†æ˜¯Xcodeä¸­åˆ›å»ºçš„Groupå¹¶æ²¡æœ‰å¯¹åº”åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤¹ï¼Œå¯¼è‡´ä¸€æ—¦è„±ç¦»Xcodeçœ‹ä»£ç ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½å¹³é“ºåœ¨äº†æ ¹ç›®å½•ä¸‹ï¼Œéå¸¸ä¸æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;éš¾é“æ²¡æœ‰åŠæ³•äº†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ‰ç‰©ç†æ–‡ä»¶å¤¹ç»“æ„çš„Groupæœ€å¥½&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§Groupæ˜¯å¯ä»¥æœ‰ç‰©ç†æ–‡ä»¶å¤¹ç»“æ„çš„ï¼Œå…¶å®å°†ä¸€ä¸ªæ–‡ä»¶å¤¹æ‹–åˆ°Xcodeä¸­ï¼Œé€‰æ‹©&lt;code&gt;Create groups for any added folders&lt;/code&gt;åˆ›å»ºçš„Groupå°±æ˜¯æ—¢æœ‰Groupçš„æœ‰ç‚¹ï¼Œåˆå¯ä»¥ä¿æŒç‰©ç†æ–‡ä»¶å¤¹ç»“æ„ã€‚è¿™æ ·æ— æ„æ˜¯æœ€å¥½çš„~&lt;/p&gt;
&lt;p&gt;æ‰‹åŠ¨åˆ›å»º:&lt;br&gt;å¯ä»¥&lt;code&gt;Add Files To XXXX&lt;/code&gt;ï¼Œç„¶åé€‰æ‹©&lt;code&gt;New Folder&lt;/code&gt;åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åæŠŠä»£ç æ–‡ä»¶æ‹–è¿›å»ï¼Œå†æ·»åŠ å›Xcodeã€‚&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨åˆ›å»ºï¼š&lt;br&gt;å¯¹äºç°æœ‰çš„å¤§é‡çš„Groupï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªåˆ›å»ºå®åœ¨ä¸æ–¹ä¾¿ï¼Œè¿˜å¥½æœ‰ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼š&lt;a href=&quot;https://github.com/venmo/synx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;synx&lt;/a&gt;ï¼Œç›´æ¥åœ¨å·¥ç¨‹æ ¹ç›®å½•è¿è¡Œ&lt;code&gt;synx XXX.xcodeproj&lt;/code&gt;å°±å¯ä»¥è‡ªåŠ¨ä¸ºGroupåˆ›å»ºç‰©ç†æ–‡ä»¶å¤¹ã€‚&lt;br&gt;å½“ç„¶ï¼ŒCocoaPodsç®¡ç†çš„åº“è¦é‡æ–°&lt;code&gt;pod install&lt;/code&gt;ä¸€æ¬¡ï¼Œæ‰‹åŠ¨æ·»åŠ çš„Frameworkä¹Ÿè¦é‡æ–°æ·»åŠ ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç±»å†…ä»£ç ç»„ç»‡-Category&quot;&gt;&lt;a href=&quot;#ç±»å†…ä»£ç ç»„ç»‡-Category&quot; class=&quot;headerlink&quot; title=&quot;ç±»å†…ä»£ç ç»„ç»‡ - Category&quot;&gt;&lt;/a&gt;ç±»å†…ä»£ç ç»„ç»‡ - Category&lt;/h2&gt;&lt;p&gt;Objective-Cä¸­çš„Categoryå®åœ¨æ˜¯å¤ªæ–¹ä¾¿äº†ï¼Œå¯ä»¥çµæ´»çš„ä¸ºç°æœ‰çš„ç±»å¢åŠ æ–¹æ³•ï¼Œç”šè‡³æ˜¯ç³»ç»Ÿçš„ç±»ã€‚  &lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å…¶å®Categoryä¹Ÿå¯ä»¥æ‹¿æ¥ç»„ç»‡ä¸€ä¸ªç±»çš„å®ç°ï¼Œå°†ç±»çš„Propertyã€æ–¹æ³•æŒ‰ç…§ä¸šåŠ¡ã€åŠŸèƒ½æ‹†åˆ†åˆ°ä¸åŒçš„Categoryé‡Œé¢ï¼Œä½¿ç±»çš„ç»“æ„æ›´åŠ æ¸…æ™°ã€‚ &lt;/p&gt;
&lt;p&gt;ç³»ç»ŸAPIæœ¬èº«å°±æœ‰å¤§é‡çš„ä¾‹å­ï¼Œå¦‚UIViewControllerçš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; UIViewController (UIContainerViewControllerCallbacks)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; UIViewController(UIViewControllerTransitioning)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®ç°çš„æ—¶å€™è¿˜å¯ä»¥æ¯ä¸ªCategoryå¯¹åº”ä¸€ä¸ªå¤´æ–‡ä»¶å’Œ.mæ–‡ä»¶ï¼Œç±»çš„ç»“æ„æ›´åŠ æ¸…æ™°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;XXXClass&lt;span class=&quot;selector-class&quot;&gt;.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;XXXClass&lt;span class=&quot;selector-class&quot;&gt;.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;XXXClass+XXXModuleA&lt;span class=&quot;selector-class&quot;&gt;.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;XXXClass+XXXModuleA&lt;span class=&quot;selector-class&quot;&gt;.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;XXXClass+XXXModuleB&lt;span class=&quot;selector-class&quot;&gt;.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;XXXClass+XXXModuleB.m&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ–‡ä»¶å†…ä»£ç ç»„ç»‡-pragam-markã€-MARK&quot;&gt;&lt;a href=&quot;#æ–‡ä»¶å†…ä»£ç ç»„ç»‡-pragam-markã€-MARK&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶å†…ä»£ç ç»„ç»‡ - #pragam markã€// MARK -&quot;&gt;&lt;/a&gt;æ–‡ä»¶å†…ä»£ç ç»„ç»‡ - #pragam markã€// MARK -&lt;/h2&gt;&lt;p&gt;æ•´ç†æ–‡ä»¶å†…çš„ä»£ç æ—¶ï¼Œæœ€å¥½çš„æ‰‹æ®µå°±æ˜¯ç”¨&lt;code&gt;#pragam mark&lt;/code&gt;å®å®šä¹‰ï¼ŒSwiftçš„è¯å°±æ˜¯&lt;code&gt;// MARK -&lt;/code&gt;ã€‚  &lt;/p&gt;
&lt;p&gt;Objective-Cå†—é•¿çš„è¯­æ³•æ³¨å®šäº†ä¸€ä¸ªä»£ç æ–‡ä»¶çš„è¡Œæ•°ä¸ä¼šå°‘=ã€‚=ï¼Œå¦‚æœæ²¡æœ‰ä¸€å®šçš„è§„èŒƒï¼Œå®åœ¨æ˜¯éš¾ä»¥è¿­ä»£ï¼Œæ‰€ä»¥æœ€å¥½å°±æ˜¯å¼€å‘å‰çº¦å®šä¸€ç§è§„åˆ™ï¼Œå¯¹ä¸»è¦çš„ç±»çš„å®ç°éƒ½çº¦å®šå‡ºä¸€å¥—è§„èŒƒï¼Œå¦‚UIViewControllerçš„å­ç±»ã€UIViewçš„å­ç±»ã€UITableViewCellçš„å­ç±»ç­‰ï¼Œç„¶åå¼€å‘äººå‘˜æŒ‰ç…§è¿™ä¸ªè§„èŒƒå†™ä»£ç ï¼Œè¿™æ ·æ‰èƒ½ä½¿ä»£ç æ›´å¥½ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ï¼ŒUIViewControllerçš„å­ç±»å®ç°æ—¶ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹é¡ºåºç»„ç»‡ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@implementation XXXViewController&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å†…å­˜ç›¸å…³&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Memory manager&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (instancetype)init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)dealloc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç±»ç”Ÿå‘½å‘¨æœŸç›¸å…³çš„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Life cycle&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)viewDidLoad&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç±»çš„Publicæ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Public methods&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ‰€æœ‰çš„Actions&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Actions&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)didTapCancelButton:(UIButton *button)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// é€šçŸ¥å›è°ƒï¼Œå…·ä½“å¯ä»¥ç»†åˆ†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Notifications - XXX&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç³»ç»Ÿçš„Delegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - UITableViewDelegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è‡ªå®šä¹‰ç±»çš„Delegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - XXXDelegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è‡ªå®šä¹‰Viewã€åˆå§‹åŒ–ç­‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Custom views&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç±»ç§æœ‰æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;pragma&lt;/span&gt; mark - Private methods&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;built_in&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½“ç„¶ï¼Œå…·ä½“çš„ç»„ç»‡æ–¹æ³•è¿˜è¦æ ¹æ®é¡¹ç›®æœ¬èº«çš„æ¶æ„ã€æ¨¡å¼å†³å®šï¼Œä¸Šé¢çš„åªæ˜¯å‚è€ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®ä¸“å±æ–‡ä»¶æ¨¡æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å®šä¸‹äº†æ–‡ä»¶å†…çš„ç»„ç»‡é¡ºåºï¼Œæ¯æ¬¡å†™ä»£ç æ‰‹å·¥è¾“å…¥ä¹Ÿè¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥æ›´è¿›ä¸€æ­¥çš„è¯å°±æ˜¯åˆ›å»ºè‡ªå®šä¹‰çš„Xcodeæ–‡ä»¶æ¨¡æ¿ï¼ŒæŠŠä¸åŒç±»çš„&lt;code&gt;#pragma mark&lt;/code&gt;é¡ºåºè§„åˆ™ç›´æ¥å†™åˆ°æ¨¡æ¿é‡Œé¢ï¼Œä»¥åå¼€å‘äººå‘˜åˆ›å»ºæ–‡ä»¶æ—¶ç›´æ¥ç”¨é¡¹ç›®ä¸“å±çš„æ¨¡æ¿å°±å¯ä»¥äº†~&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„åˆ›å»ºXcodeæ¨¡æ¿çš„æ­¥éª¤ä¸åœ¨æœ¬æ–‡èŒƒç•´=ã€‚=ï¼Œä¸è¿‡å€’æ˜¯å‘ç°äº†ä¸€ä¸ªXcodeæ’ä»¶ï¼Œä¸“é—¨ç”¨æ¥åˆ›å»ºæ¨¡æ¿çš„ï¼š&lt;a href=&quot;https://github.com/samdods/Stencil&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Stencil: A plugin for Xcode allowing you to easily create custom file templates&lt;/a&gt;ï¼Œä»¥åŠå¯¹åº”çš„æ–‡ç« ï¼š&lt;a href=&quot;http://sam.dods.co/blog/2015/05/02/stencil-xcode-plugin/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Introducing Stencil&lt;/a&gt;ï¼Œè¿˜æœ‰ä¸€äº›æ•™ç¨‹ï¼š&lt;a href=&quot;http://www.telerik.com/blogs/how-to-create-custom-project-templates-in-xcode-7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to Create Custom Project Templates in Xcode 7&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://robots.thoughtbot.com/creating-custom-xcode-templates&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Creating Custom Xcode Templates&lt;/a&gt;ï¼Œè¯»è€…å¯è‡ªè¡Œé˜…è¯»~&lt;/p&gt;
&lt;h2 id=&quot;æœ€å&quot;&gt;&lt;a href=&quot;#æœ€å&quot; class=&quot;headerlink&quot; title=&quot;æœ€å&quot;&gt;&lt;/a&gt;æœ€å&lt;/h2&gt;&lt;p&gt;ä¸€åˆ‡ä¸ºäº†æ›´åŠ å¹²å‡€æ•´æ´çš„ä»£ç ï¼Œâ€œMay the clean code be with youâ€&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cocoapods.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CocoaPods&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Carthage/Carthage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Carthage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://vocaro.com/trevor/blog/2012/10/21/xcode-groups-vs-folder-references/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Xcode Groups vs. Folder References&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.knowstack.com/framework-vs-library-cocoa-ios/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Framework vs Library (Static &amp;amp; Shared) in (Cocoa/OSX, Cocoa Touch/iOS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://onevcat.com/2016/01/create-framework/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;onevcat-å¦‚ä½•æ‰“é€ ä¸€ä¸ªè®©äººæ„‰å¿«çš„æ¡†æ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æ€»ç»“ä¸€äº›ç»„ç»‡ä»£ç çš„æ–¹æ³•ï¼Œå¤§åˆ°å„ä¸ªå­é¡¹ç›®æ¨¡å—ä¹‹é—´ï¼Œå°åˆ°å•ä¸ªæ–‡ä»¶å†…éƒ¨ï¼Œæ¶‰åŠåˆ°äº†CocoaPodsç§æœ‰åº“ã€Carthageæ„å»ºç§æœ‰Frameworkã€é¡¹ç›®å†…Groupå’Œæ–‡ä»¶å¤¹ã€ç±»å†…ç”¨Categoryç»„ç»‡ã€æ–‡ä»¶å†…çš„#pragam markã€// MARK -ã€‚è™½ç„¶æœ‰äº›è€ç”Ÿå¸¸è°ˆï¼Œå°±å½“æ˜¯é‡æ–°æ¢³ç†ä¸€éå§=ã€‚=ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹ç»„ä»¶åŒ–ä¸æ¨¡å—åŒ–çš„æ€è€ƒä¸æ€»ç»“</title>
    <link href="http://tutuge.me/2016/03/29/modular-and-component-summary/"/>
    <id>http://tutuge.me/2016/03/29/modular-and-component-summary/</id>
    <published>2016-03-29T14:19:54.000Z</published>
    <updated>2016-08-07T06:13:42.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´åå¤ç ”è¯»äº†&lt;a href=&quot;http://limboy.me/ios/2016/03/10/mgj-components.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯&lt;/a&gt;ã€&lt;a href=&quot;http://limboy.me/ios/2016/03/14/mgj-components-continued.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯Â·ç»­&lt;/a&gt;å’Œ&lt;a href=&quot;http://casatwy.com/iOS-Modulization.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOSåº”ç”¨æ¶æ„è°ˆ ç»„ä»¶åŒ–æ–¹æ¡ˆ&lt;/a&gt;ï¼Œç„¶ååˆæ‰¾åˆ°äº†å…¶å®ƒä¸€äº›ç ”ç©¶ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–æ–¹æ¡ˆçš„æ–‡ç« ï¼Œä½†æ˜¯æ€»è§‰å¾—å·®ç‚¹ä»€ä¹ˆï¼Œæ‰€ä»¥è¿˜æ˜¯å†³å®šä»å¤´å¼€å§‹æ€è€ƒã€‚æ–‡ç« çš„æ ‡é¢˜èµ·çš„å¥½å®½æ³›ï¼Œæ„Ÿè§‰ç»™è‡ªå·±æŒ–äº†ä¸ªæ·±å‘-ã€‚-ï¼Œå…¶å®åªæ˜¯è‡ªå·±å¯¹ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–çš„ä¸€äº›çœ‹æ³•ã€æ€»ç»“ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆ&lt;/h2&gt;&lt;p&gt;å…ˆæ€»ç»“ä¸‹ä¸ºä»€ä¹ˆè¦å¤§åŠ¨å¹²æˆˆçš„å¯¹ä»£ç åˆ†æ¨¡å—ã€æ‹†ç»„ä»¶ã€‚   &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç é‡è†¨èƒ€ï¼Œä¸åˆ©äºç»´æŠ¤ï¼Œæ›´ä¸åˆ©äºæ–°åŠŸèƒ½çš„å¼€å‘&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt; ç°åœ¨éšä¾¿å¼€å‘ä¸€ä¸ªAppçš„ä»£ç è¡Œæ•°éƒ½æ˜¯æ•°ä»¥ä¸‡è®¡çš„ï¼Œå¦‚æœä¸å¯¹ä»£ç åšåˆç†çš„æ‹†åˆ†ï¼Œé‚£ç®€ç›´å°±æ˜¯ç¾éš¾æ€§çš„ï¼Œä¼°è®¡åªæœ‰æœ€åˆçš„å¼€å‘äººå‘˜çŸ¥é“å¦‚ä½•ç»´æŠ¤ä¿®æ”¹ï¼Œå¦‚æœæ¢äººå¼€å‘çš„è¯ï¼Œéš¾ä»¥ä¸‹æ‰‹ï¼Œæ›´ä¸ç”¨è¯´å¼€å‘æ–°åŠŸèƒ½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸åŒä¸šåŠ¡ä»£ç è€¦åˆä¸¥é‡ï¼Œéš¾ä»¥å¤šäººåˆä½œï¼ŒèŒè´£ä¸åˆ†æ˜&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;å¤šäººä¸€èµ·å¼€å‘æ—¶ï¼Œå¦‚æœä»£ç ç»“æ„ã€æ¨¡å—åŒ–çš„ä¸å¥½ï¼Œå°±å¾ˆéš¾å¯¹ä¸åŒä¸šåŠ¡åˆ’åˆ†å‡ºåˆ†ç•Œçº¿ï¼Œéš¾ä»¥æ˜ç¡®å„è‡ªçš„èŒè´£ï¼Œç‰µä¸€å‘åŠ¨å…¨èº«ï¼Œå‡ºäº†é—®é¢˜æ›´æ˜¯å®¹æ˜“ç›¸äº’æ‰¯çš®ï¼ˆè¿™ä¸ªæ—¶å€™åªèƒ½è¯´ä¸€å¥â€œæ€ªæˆ‘å’¯o(â•¯â–¡â•°)oâ€ï¼‰ï¼Œæ›´ä¸ç”¨æåˆå¹¶ä»£ç æ—¶çš„å†²çªäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåˆç†çš„ç»„ç»‡ä»£ç ï¼Œåˆ’åˆ†æ¨¡å—ã€æ‹†åˆ†ç»„ä»¶æ˜¯é¡¹ç›®å¯ä»¥é«˜æ•ˆè¿­ä»£çš„åŸºç¡€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç–‘é—®&quot;&gt;&lt;a href=&quot;#ç–‘é—®&quot; class=&quot;headerlink&quot; title=&quot;ç–‘é—®&quot;&gt;&lt;/a&gt;ç–‘é—®&lt;/h2&gt;&lt;p&gt;é‚£åˆ°åº•ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–ï¼ŸæŸ¥èµ„æ–™çš„æ—¶å€™ä¸€ä¼šå„¿æ¨¡å—ï¼Œä¸€ä¼šå„¿ç»„ä»¶ï¼Œæœ‰ä»€ä¹ˆè”ç³»ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæœ‰äººè¯´è¿™åªæ˜¯å«æ³•ä¹ æƒ¯é—®é¢˜ï¼ŒçŸ¥é“å¤§æ¦‚æ„æ€å°±å¥½ï¼Œä¸ç”¨å’¬æ–‡åš¼å­—ï¼Œä½†æ˜¯æ€»è§‰å¾—æ²¡æœ‰ä¸ªâ€œå®šä¹‰â€æ„Ÿè§‰ä¸è¸å®ï¼Œæ‰€ä»¥è¿˜æ˜¯æ±‚åŠ©äº†ä¸‡èƒ½çš„ç»´åŸºç™¾ç§‘=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;æ¨¡å—åŒ–&quot;&gt;&lt;a href=&quot;#æ¨¡å—åŒ–&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡å—åŒ–&quot;&gt;&lt;/a&gt;æ¨¡å—åŒ–&lt;/h2&gt;&lt;p&gt;ç»´åŸºç™¾ç§‘çš„&lt;a href=&quot;https://en.wikipedia.org/wiki/Modular_programming&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Modular programming&lt;/a&gt;çš„å¼€å¤´å®šä¹‰å¦‚ä¸‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Modular programming is a software design technique that emphasizes separating the functionality of a program into independent, interchangeable modules, such that each contains everything necessary to execute only one aspect of the desired functionality.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¥ç€ï¼Œåœ¨&lt;strong&gt;Key aspects&lt;/strong&gt;éƒ¨åˆ†çš„å¼€å¤´ä¹Ÿè¯´äº†:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With modular programming, concerns are separated such that modules perform logically discrete functions, interacting through well-defined interfaces. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥æ€»ç»“ä¸ºï¼šæ¨¡å—åŒ–çš„ç›®çš„åœ¨äºå°†ä¸€ä¸ªç¨‹åºæŒ‰ç…§å…¶åŠŸèƒ½åšæ‹†åˆ†ï¼Œåˆ†æˆç›¸äº’ç‹¬ç«‹çš„æ¨¡å—ï¼Œä»¥ä¾¿äºæ¯ä¸ªæ¨¡å—åªåŒ…å«ä¸å…¶åŠŸèƒ½ç›¸å…³çš„å†…å®¹ï¼Œæ¨¡å—ä¹‹é—´é€šè¿‡æ¥å£è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæ¨¡å—åŒ–ç¼–ç¨‹çš„å…·ä½“æ¦‚å¿µæ˜¯åŒ…å«äº†å¾ˆå¤šå†…å®¹çš„ï¼Œè¯»è€…å¯ä»¥è¯¦ç»†é˜…è¯»ä¸‹ç»´åŸºç™¾ç§‘çš„å®šä¹‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»„ä»¶åŒ–&quot;&gt;&lt;a href=&quot;#ç»„ä»¶åŒ–&quot; class=&quot;headerlink&quot; title=&quot;ç»„ä»¶åŒ–&quot;&gt;&lt;/a&gt;ç»„ä»¶åŒ–&lt;/h2&gt;&lt;p&gt;å…³äºç»„ä»¶åŒ–ï¼Œèƒ½æ‰¾åˆ°çš„æ¯”è¾ƒæ¥è¿‘çš„å°±æ˜¯ç»´åŸºç™¾ç§‘çš„&lt;a href=&quot;https://en.wikipedia.org/wiki/Component-based_software_engineering&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Component-based software engineering&lt;/a&gt;ï¼Œå…¶å¼€å¤´å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Component-based software engineering (CBSE), also known as component-based development (CBD), is a branch of software engineering that emphasizes the separation of concerns in respect of the wide-ranging functionality available throughout a given software system. It is a reuse-based approach to defining, implementing and composing loosely coupled independent components into systems.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹ä¸€çœ‹ï¼Œè¿™ä¸æ˜¯è·Ÿæ¨¡å—åŒ–&lt;strong&gt;Modular programming&lt;/strong&gt;çš„å®šä¹‰å¾ˆç›¸ä¼¼å˜›=ã€‚=&lt;br&gt;çš„ç¡®ï¼Œæ–‡ä¸­ä¹Ÿæåˆ°ç»„ä»¶åŒ–è·Ÿæ¨¡å—åŒ–æ˜¯å¾ˆç±»ä¼¼çš„ï¼Œéƒ½æ˜¯ä¸»è¦ä¸ºäº†å¯¹ä¸€ä¸ªç³»ç»Ÿåšæ‹†åˆ†ï¼Œæ¯”å¦‚æ–‡ä¸­æåˆ°ï¼š  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All system processes are placed into separate components so that all of the data and functions inside each component are semantically related (just as with the contents of classes). Because of this principle, it is often said that components are modular and cohesive.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŒæ—¶ï¼Œç»„ä»¶è¿˜å…·æœ‰å…¶ä»–å±æ€§ï¼Œå¦‚å¯æ›¿ä»£æ€§(substitutable)ï¼Œé€šè¿‡æ¥å£(interface)è®¿é—®ï¼Œå¯é‡ç”¨æ€§(Reusability)ç­‰ï¼Œè¯»è€…å¯è‡ªè¡Œé˜…è¯»ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¯¹æ¯”&quot;&gt;&lt;a href=&quot;#å¯¹æ¯”&quot; class=&quot;headerlink&quot; title=&quot;å¯¹æ¯”&quot;&gt;&lt;/a&gt;å¯¹æ¯”&lt;/h2&gt;&lt;p&gt;éš¾é“æ¨¡å—åŒ–è·Ÿç»„ä»¶åŒ–çœŸçš„æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Ÿçš„ç¡®ï¼Œå¾ˆå¤šæ—¶å€™ä¸¤è€…çš„æ¦‚å¿µå®Œå…¨å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œåœ¨å®è·µä¸­æ›´æ˜¯ç»å¸¸æ··ç”¨ã€‚  &lt;/p&gt;
&lt;p&gt;åœ¨æ±‚åŠ©è°·æ­Œï¼Œç”šè‡³é˜…è¯»äº†å¤§é‡çš„å‰ç«¯æŠ€æœ¯ç­‰å…¶å®ƒæŠ€æœ¯é¢†åŸŸçš„ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–çš„æ–‡ç« åï¼Œæˆ‘è§‰å¾—å¦‚æœçœŸè¦å°†å®ƒä»¬ä¸¤è€…åšä¸ªå¯¹æ¯”ï¼Œå¤§æ¦‚æ€»ç»“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å—åŒ–å¼ºè°ƒçš„æ˜¯&lt;strong&gt;æ‹†åˆ†&lt;/strong&gt;ï¼Œæ— è®ºæ˜¯ä»ä¸šåŠ¡è§’åº¦è¿˜æ˜¯ä»æ¶æ„ã€æŠ€æœ¯è§’åº¦ï¼Œæ¨¡å—åŒ–é¦–å…ˆæ„å‘³ç€å°†ä»£ç ã€æ•°æ®ç­‰å†…å®¹æŒ‰ç…§å…¶èŒè´£ä¸åŒåˆ†ç¦»ï¼Œä½¿å…¶å˜å¾—æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€è¿­ä»£ï¼Œä½¿å¼€å‘äººå‘˜å¯ä»¥åˆ†è€Œæ²»ä¹‹ã€‚&lt;/li&gt;
&lt;li&gt;ç»„ä»¶åŒ–åˆ™ç€é‡äº&lt;strong&gt;å¯é‡ç”¨æ€§&lt;/strong&gt;ï¼Œä¸ç®¡æ˜¯ç•Œé¢ä¸Šåå¤ä½¿ç”¨çš„ç”¨æˆ·å¤´åƒæŒ‰é’®ï¼Œè¿˜æ˜¯å¤„ç†æ•°æ®çš„æµç¨‹ä¸­çš„æŸä¸ªéƒ¨ä»¶ï¼Œåªè¦å¯ä»¥è¢«åå¤ä½¿ç”¨ï¼Œå¹¶ä¸”è¿›è¡Œäº†é«˜åº¦å°è£…ï¼Œåªèƒ½é€šè¿‡æ¥å£è®¿é—®ï¼Œå°±å¯ä»¥ç§°å…¶ä¸ºâ€œç»„ä»¶â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¹¶ä¸æ˜¯è¯´æ¨¡å—å°±ä¸èƒ½è¢«å¤ç”¨ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µæ¥çœ‹ï¼Œä½¿ç³»ç»Ÿæ›´åŠ å®¹æ˜“ç»´æŠ¤ï¼Œå¼€å‘æ›´åŠ æ–¹ä¾¿ï¼Œæ‰æ˜¯æœ€ç»ˆç›®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦‚ä½•æ‹†åˆ†&quot;&gt;&lt;a href=&quot;#å¦‚ä½•æ‹†åˆ†&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•æ‹†åˆ†&quot;&gt;&lt;/a&gt;å¦‚ä½•æ‹†åˆ†&lt;/h2&gt;&lt;p&gt;æ— è®ºæ˜¯æ¨¡å—åŒ–è¿˜æ˜¯ç»„ä»¶åŒ–ï¼Œé¦–å…ˆè‚¯å®šæ˜¯åšæ‹†åˆ†ï¼Œä½†æ˜¯å¦‚ä½•æ‹†åˆ†ï¼Ÿæ€ä¹ˆä¸‹æ‰‹ï¼Ÿä¾ç…§ä»€ä¹ˆæ ‡å‡†ï¼Ÿ&lt;br&gt;ä¸‹é¢ç®€å•æ€»ç»“ä¸€äº›æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ¨ªå‘æ‹†åˆ†ä¸šåŠ¡ã€åŠŸèƒ½æ¨¡å—&quot;&gt;&lt;a href=&quot;#æ¨ªå‘æ‹†åˆ†ä¸šåŠ¡ã€åŠŸèƒ½æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;æ¨ªå‘æ‹†åˆ†ä¸šåŠ¡ã€åŠŸèƒ½æ¨¡å—&quot;&gt;&lt;/a&gt;æ¨ªå‘æ‹†åˆ†ä¸šåŠ¡ã€åŠŸèƒ½æ¨¡å—&lt;/h4&gt;&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶ç¨‹åºæ˜¯åŒæ—¶ä¸ºå¤šç§ä¸šåŠ¡æœåŠ¡çš„ï¼Œæ‰€æœ‰å¯ä»¥ä¼˜å…ˆæŒ‰ç…§ä¸šåŠ¡çš„ä¸åŒï¼Œå°†æ•´ä¸ªç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ã€‚  &lt;/p&gt;
&lt;p&gt;å¦‚ä¸€ä¸ªç”µå•†ç±»å‹çš„Appï¼Œå°±å¯ä»¥åˆ†å‡ºå•†å“æµè§ˆæ¨¡å—ã€è®¢å•æ¨¡å—ã€è´­ç‰©è½¦æ¨¡å—ã€æ¶ˆæ¯æ¨¡å—ã€æ”¯ä»˜æ¨¡å—ç­‰ã€‚åˆå¦‚å¾®ä¿¡è¿™ç§ç¤¾äº¤å‹åº”ç”¨ï¼Œå¯ä»¥æ‹†åˆ†å‡ºè”ç³»äººæ¨¡å—ã€æœ‹å‹åœˆæ¨¡å—ã€èŠå¤©æ¨¡å—ã€æ¶ˆæ¯æ¨¡å—ç­‰ã€‚  &lt;/p&gt;
&lt;p&gt;å…¶å®å°±æ˜¯ä»ç”¨æˆ·ä½¿ç”¨çš„è§’åº¦ï¼ŒæŒ‰ç…§åŠŸèƒ½çš„ä¸åŒåˆ’åˆ†æ¨¡å—ï¼Œå½“ç„¶ï¼Œè¿™ç§ä¸šåŠ¡æ¨¡å—æ˜¯è¦ç”±å„ç§æŠ€æœ¯æ¨¡å—ä½œæ”¯æ’‘çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/modular_and_component_summary_1.jpg&quot; alt=&quot;æ¨ªå‘æ‹†åˆ†ä¸šåŠ¡æ¨¡å—ç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;çºµå‘æ‹†åˆ†æŠ€æœ¯ã€æ¶æ„æ¨¡å—&quot;&gt;&lt;a href=&quot;#çºµå‘æ‹†åˆ†æŠ€æœ¯ã€æ¶æ„æ¨¡å—&quot; class=&quot;headerlink&quot; title=&quot;çºµå‘æ‹†åˆ†æŠ€æœ¯ã€æ¶æ„æ¨¡å—&quot;&gt;&lt;/a&gt;çºµå‘æ‹†åˆ†æŠ€æœ¯ã€æ¶æ„æ¨¡å—&lt;/h4&gt;&lt;p&gt;å¦‚æœè„±ç¦»ä¸šåŠ¡ï¼Œåªä»æŠ€æœ¯è§’åº¦æ¥çœ‹ï¼Œåˆ™å¯ä»¥å°è¯•çºµå‘å¯¹ç³»ç»Ÿæ‹†åˆ†æ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™é‡Œçš„çºµå‘æ‹†åˆ†è·Ÿå¯¹ç³»ç»Ÿçš„æ¶æ„åšåˆ†å±‚æœ‰ç‚¹åƒ=ã€‚=ï¼Œç°å¦‚ä»Šåªè¦éœ€è¦è”ç½‘è¯·æ±‚APIçš„Appéƒ½å…ä¸äº†æœ‰ç½‘ç»œè¯·æ±‚ã€æ•°æ®ç¼“å­˜ã€æ•°æ®åŠ å·¥å¤„ç†ã€æ•°æ®å±•ç¤ºã€åé¦ˆç”¨æˆ·æ“ä½œç­‰è¡Œä¸ºï¼Œæ‰€æœ‰è¿™äº›ç¯èŠ‚å±‚å±‚é€’è¿›æ‰èƒ½å®Œæˆä¸€ä¸ªåŠŸèƒ½ã€‚  &lt;/p&gt;
&lt;p&gt;å½“å¼€å§‹ç€æ‰‹è§„åˆ’ä¸€ä¸ªå®Œæ•´è½¯ä»¶ç³»ç»Ÿï¼Œæˆ–è€…è¯´Appæ—¶ï¼Œå°±å¯ä»¥æŒ‰ç…§è¿™äº›ç¯èŠ‚åˆ’åˆ†æ¨¡å—ï¼Œçºµå‘åˆ†å±‚æ¬¡çš„ç»„åˆï¼Œæ­å»ºå‡ºä¸€ä¸ªä»¥æŠ€æœ¯æ¨¡å—ç»„æˆçš„ç®€æ˜“ç³»ç»Ÿæ¶æ„å›¾ï¼Œæ–¹ä¾¿åç»­çš„å¼€å‘ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/modular_and_component_summary_2.jpg&quot; alt=&quot;çºµå‘æ‹†åˆ†æŠ€æœ¯æ¨¡å—ç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¤§ä½“ä¸Šçš„æŠ€æœ¯æ¨¡å—åˆ’åˆ†å¥½ä»¥åï¼Œå°±å¯ä»¥æŒ‰ç…§å…·ä½“çš„éœ€æ±‚ï¼Œå®ç°æ¯ä¸ªæŠ€æœ¯æ¨¡å—ï¼Œä¹ƒè‡³ç»†åˆ†å‡ºæ›´å¤šçš„å­æ¨¡å—ï¼Œå¦‚ç¼“å­˜æ¨¡å—å¯èƒ½ç”±é”®å€¼å¯¹ç¼“å­˜ï¼ˆNSUserDefaultsï¼‰ã€æ•°æ®åº“ç¼“å­˜ï¼ˆSQLiteã€Realmï¼‰ã€å›¾ç‰‡ç¼“å­˜ç­‰å­æ¨¡å—ç»„æˆï¼Œæ ¹æ®å…·ä½“æƒ…å†µè€Œå®šã€‚&lt;/p&gt;
&lt;h4 id=&quot;ä»ç•Œé¢å…¥æ‰‹ï¼Œæ‹†åˆ†å¯è§†åŒ–ç»„ä»¶&quot;&gt;&lt;a href=&quot;#ä»ç•Œé¢å…¥æ‰‹ï¼Œæ‹†åˆ†å¯è§†åŒ–ç»„ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä»ç•Œé¢å…¥æ‰‹ï¼Œæ‹†åˆ†å¯è§†åŒ–ç»„ä»¶&quot;&gt;&lt;/a&gt;ä»ç•Œé¢å…¥æ‰‹ï¼Œæ‹†åˆ†å¯è§†åŒ–ç»„ä»¶&lt;/h4&gt;&lt;p&gt;ç°åœ¨å†æ¥çœ‹çœ‹å¦‚ä½•ä»ç•Œé¢å…¥æ‰‹æ‹†åˆ†å¯å¤ç”¨çš„ç»„ä»¶ã€‚å‡å¦‚æœ‰å¦‚ä¸‹å¸ƒå±€çš„ç•Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/modular_and_component_summary_3.jpg&quot; alt=&quot;ä»ç•Œé¢å…¥æ‰‹æ‹†åˆ†å¯è§†åŒ–ç»„ä»¶&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œåƒç•Œé¢é‡Œé¢çš„â€œæœç´¢æ¡†â€ã€â€œå¤´åƒæŒ‰é’®â€ã€â€œå†…å®¹æ¡†â€å’Œæ˜¾ç¤ºæç¤ºç”¨çš„â€œåŠ è½½ä¸­â€HUDï¼Œç”šè‡³æ•´ä¸ªå†…å®¹çš„Cellï¼Œéƒ½æ˜¯å¯èƒ½åœ¨å¾ˆå¤šåœ°æ–¹å‡ºç°çš„ï¼Œè€Œä¸”æœ¬èº«çš„æ ·å¼ã€åŠŸèƒ½æ¯”è¾ƒé›†ä¸­ã€‚&lt;br&gt;å¦‚å¤´åƒå¯èƒ½è¦æ”¯æŒç‚¹å‡»è·³è½¬ï¼Œå¤´åƒå›¾ç‰‡åœ†è§’ï¼Œå†…å®¹æ¡†æœ‰ç‰¹å®šçš„Paddingå’Œå­—ä½“å¤§å°ç­‰ï¼Œæ‰€ä»¥å¯ä»¥å°†è¿™äº›ç•Œé¢ä¸Šçš„å…ƒç´ â€œæâ€å‡ºæ¥ï¼Œå•ç‹¬å°è£…æˆä¸€ä¸ªç»„ä»¶ï¼Œä¾›æ•´ä¸ªAppå¤ç”¨ã€‚æˆ–è€…ç›´æ¥ç”¨ç¬¬ä¸‰æ–¹çš„ç»„ä»¶ï¼Œå¦‚å›¾ä¸­çš„â€œåŠ è½½ä¸­â€HUDï¼Œå°±å¯ä»¥ç”¨SVProgressHUDã€MBProgressHUDç­‰å¼€æºåº“ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™é‡Œçš„ç»„ä»¶æœ‰ç§sunnyxxå¤§å¤§æåˆ°è¿‡çš„â€œSelf-Managerâ€çš„å‘³é“=ã€‚=ï¼Œç»„ä»¶æœ¬èº«è´Ÿè´£è‡ªå·±çš„æ‰€æœ‰åŠŸèƒ½ã€æ ·å¼ï¼Œå‚è€ƒï¼š&lt;a href=&quot;http://blog.sunnyxx.com/2015/12/19/self-manager-pattern-in-ios/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS å¼€å‘ä¸­çš„ Self-Manager æ¨¡å¼&lt;/a&gt;ã€‚å½“ç„¶è·Ÿå‰ç«¯çš„ç»„ä»¶åŒ–ä¹ŸæŒºåƒçš„ï¼Œå¦‚Reacté‡Œé¢çš„componentï¼Œæ ·å¼ã€åŠŸèƒ½éƒ½å°è£…åˆ°componenté‡Œé¢ï¼Œä»¥ä¾¿æ›´å¥½åœ°è§£è€¦å¤ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ä»æ•°æ®å…¥æ‰‹ï¼Œæ‹†åˆ†æ•°æ®åŠ å·¥ç»„ä»¶&quot;&gt;&lt;a href=&quot;#ä»æ•°æ®å…¥æ‰‹ï¼Œæ‹†åˆ†æ•°æ®åŠ å·¥ç»„ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä»æ•°æ®å…¥æ‰‹ï¼Œæ‹†åˆ†æ•°æ®åŠ å·¥ç»„ä»¶&quot;&gt;&lt;/a&gt;ä»æ•°æ®å…¥æ‰‹ï¼Œæ‹†åˆ†æ•°æ®åŠ å·¥ç»„ä»¶&lt;/h4&gt;&lt;p&gt;å†æ¥çœ‹çœ‹ä»æ•°æ®å…¥æ‰‹ï¼Œæ‹†åˆ†å¯å¤ç”¨çš„ç»„ä»¶ã€‚å‡å¦‚æœ‰å¦‚ä¸‹æ•°æ®å¤„ç†æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/modular_and_component_summary_4.jpg&quot; alt=&quot;ä¸€æ•°æ®å¤„ç†æµç¨‹ç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®å¤§éƒ¨åˆ†æ—¶å€™ï¼Œæ‹†åˆ†æ¨¡å—ã€ç»„ä»¶éƒ½æ˜¯ä»¥æ¸…æ™°çš„æµç¨‹ã€é€»è¾‘ä¸ºåŸºç¡€çš„ï¼Œå°±å¦‚ä¸Šå›¾çš„è¿‡ç¨‹ï¼Œå½“æµç¨‹æ¸…æ™°åï¼Œå¯ä»¥æ‹†åˆ†å¤ç”¨çš„ç»„ä»¶ä¹Ÿå°±â€œå‡ºæ¥äº†â€ã€‚ &lt;/p&gt;
&lt;p&gt;å¦‚ä»JSONæ•°æ®å®ä¾‹åŒ–å‡ºå¯¹åº”çš„Entityå¯¹è±¡ï¼Œè¿™ä¸ªåŠŸèƒ½å°±æ˜¯ä¸€ä¸ªå®Œæ•´ç‹¬ç«‹çš„ç»„ä»¶ï¼Œå½“ç„¶å®é™…å¼€å‘ä¸­ä¼šç”¨Mantleã€JSONModelç­‰åº“å®ç°ã€‚  &lt;/p&gt;
&lt;p&gt;ä»¥æ­¤ç±»æ¨ï¼Œæ ¡éªŒã€æ ¼å¼åŒ–æ—¥æœŸï¼ˆå¦‚â€œå‡ ç§’é’Ÿå‰ã€å‡ å¤©å‰â€ï¼‰ã€å¤šè¯­è¨€ç­‰ç¯èŠ‚ï¼Œéƒ½å¯ä»¥ç‹¬ç«‹æˆä¸€ä¸ªä¸ªçš„ç»„ä»¶ã€‚  &lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™é‡Œçš„ç»„ä»¶ä¸€èˆ¬æ˜¯æŒ‡èƒ½åœ¨å¤šä¸ªæ¨¡å—ä½¿ç”¨çš„åŠŸèƒ½ç»„ä»¶ï¼Œå¦‚æœåªæ˜¯åœ¨æŸä¸ªç•Œé¢ä¸Šæ‰ç”¨çš„ï¼Œå€’ä¸å¦‚æ”¾åˆ°ViewModelã€Presenterç­‰è¿™äº›ç›´æ¥è·Ÿç•Œé¢æœ‰å…³çš„ç±»é‡Œé¢ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å°èŠ‚&quot;&gt;&lt;a href=&quot;#å°èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h4&gt;&lt;p&gt;ä¸Šé¢çš„å‡ ç§æ–¹æ³•æ¯”è¾ƒé€‚åˆä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹æ—¶ä½¿ç”¨=ã€‚=ï¼ŒçœŸæ­£çš„å¼€å‘ä¸­ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µè€ƒè™‘ï¼Œæƒ…å†µä¹Ÿä¼šå¤æ‚äº›ã€‚ä¸è¿‡å€’æ˜¯å¯ä»¥æ€»ç»“å‡ ç‚¹åŸåˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å•ä¸€èŒè´£&lt;/strong&gt;ï¼Œæ„å‘³ç€ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼Œç»ä¸å¤šåšã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ­£äº¤æ€§&lt;/strong&gt;ï¼Œæ„æ€æ˜¯ä¸é‡å¤ï¼Œä¸€ä¸ªæ¨¡å—è·Ÿå¦ä¸€ä¸ªæ¨¡å—çš„èŒè´£æ˜¯æ­£äº¤çš„ï¼Œæ²¡æœ‰é‡å ï¼Œç»„ä»¶ä¹Ÿæ˜¯ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•å‘ä¾èµ–&lt;/strong&gt;ï¼Œæ¨¡å—ä¹‹é—´æœ€å¤šæ˜¯å•å‘çš„ä¾èµ–ï¼Œå¦‚æœå‡ºç°Aä¾èµ–Bï¼ŒBä¹Ÿä¾èµ–Aï¼Œé‚£ä¹ˆè¦ä¹ˆæ˜¯Aã€Båº”è¯¥å±äºä¸€ä¸ªæ¨¡å—ï¼Œè¦ä¹ˆå°±æ˜¯æ•´ä½“çš„æ‹†åˆ†æœ‰é—®é¢˜ã€‚ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶ç³»ç»Ÿçš„æ¨¡å—ä¾èµ–åº”è¯¥æ˜¯ä¸€å¼ æœ‰å‘æ— ç¯å›¾ã€‚ï¼ˆå½“ç„¶è¿™æ˜¯æœ€ç»ˆç†æƒ³=ã€‚=ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç´§å‡‘æ€§&lt;/strong&gt;ï¼Œæ¨¡å—ã€ç»„ä»¶å¯¹å¤–æš´éœ²çš„æ¥å£ã€å±æ€§åº”è¯¥å°½å¯èƒ½çš„å°‘ï¼Œæ¥å£çš„å‚æ•°ä¸ªæ•°ä¹Ÿè¦å°‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢å‘æ¥å£&lt;/strong&gt;ï¼Œæ¨¡å—ã€ç»„ä»¶å¯¹å¤–æä¾›æœåŠ¡æ—¶æœ€å¥½æ˜¯é¢å‘æ¥å£çš„ï¼Œä»¥ä¾¿åæœŸå¯ä»¥çµæ´»çš„å˜æ›´å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æœ€å&quot;&gt;&lt;a href=&quot;#æœ€å&quot; class=&quot;headerlink&quot; title=&quot;æœ€å&quot;&gt;&lt;/a&gt;æœ€å&lt;/h2&gt;&lt;p&gt;ä¸€åˆ‡ä¸ºäº†æ›´åŠ å¹²å‡€æ•´æ´çš„ä»£ç ï¼Œâ€œMay the clean code be with youâ€&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Component-based_software_engineering&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Component-based software engineering&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Modular_programming&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Modular programming&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´åå¤ç ”è¯»äº†&lt;a href=&quot;http://limboy.me/ios/2016/03/10/mgj-components.html&quot;&gt;è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯&lt;/a&gt;ã€&lt;a href=&quot;http://limboy.me/ios/2016/03/14/mgj-components-continued.html&quot;&gt;è˜‘è‡è¡— App çš„ç»„ä»¶åŒ–ä¹‹è·¯Â·ç»­&lt;/a&gt;å’Œ&lt;a href=&quot;http://casatwy.com/iOS-Modulization.html&quot;&gt;iOSåº”ç”¨æ¶æ„è°ˆ ç»„ä»¶åŒ–æ–¹æ¡ˆ&lt;/a&gt;ï¼Œç„¶ååˆæ‰¾åˆ°äº†å…¶å®ƒä¸€äº›ç ”ç©¶ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–æ–¹æ¡ˆçš„æ–‡ç« ï¼Œä½†æ˜¯æ€»è§‰å¾—å·®ç‚¹ä»€ä¹ˆï¼Œæ‰€ä»¥è¿˜æ˜¯å†³å®šä»å¤´å¼€å§‹æ€è€ƒã€‚æ–‡ç« çš„æ ‡é¢˜èµ·çš„å¥½å®½æ³›ï¼Œæ„Ÿè§‰ç»™è‡ªå·±æŒ–äº†ä¸ªæ·±å‘-ã€‚-ï¼Œå…¶å®åªæ˜¯è‡ªå·±å¯¹ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–çš„ä¸€äº›çœ‹æ³•ã€æ€»ç»“ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>å¼€æºé¡¹ç›®-TTGTagCollectionView</title>
    <link href="http://tutuge.me/2015/12/31/TTGTagCollectionView/"/>
    <id>http://tutuge.me/2015/12/31/TTGTagCollectionView/</id>
    <published>2015-12-31T13:56:04.000Z</published>
    <updated>2016-10-28T18:40:42.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-10-29: å¢åŠ Tagçš„é˜´å½±å’ŒContentInsetçš„è®¾ç½®ï¼Œæ›´æ–°äº†Demo&lt;/li&gt;
&lt;li&gt;2016-10-17: å¢åŠ äº†æ°´å¹³æ»‘åŠ¨ï¼›Autolayouté€‚é…ï¼›UITableViewCellä¾‹å­ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;2016-02-18: ä¿®å¤äº†è¶…é•¿æ ‡ç­¾å¯¼è‡´æ’ç‰ˆé”™è¯¯çš„Bugã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™æ®µæ—¶é—´åšé¡¹ç›®çš„æ—¶å€™ï¼Œæ€»æ˜¯éœ€è¦æ˜¾ç¤ºä¸€äº›â€œæ ‡ç­¾â€æ ·å¼çš„å†…å®¹ï¼Œä½†æ˜¯åˆæ‰¾ä¸åˆ°ç”¨çš„é¡ºæ‰‹çš„åº“ï¼Œæ‰€ä»¥ç¢ç£¨äº†å‡ å¤©ï¼Œè‡ªå·±å®ç°äº†å‡ºæ¥ï¼Œå°±æœ‰äº†è¿™ä¸ªåº“ï¼šTTGTagCollectionViewã€‚å¦‚æœåªéœ€è¦æ˜¾ç¤ºæ–‡å­—æ ‡ç­¾çš„è¯ï¼Œç›´æ¥ä½¿ç”¨&lt;code&gt;TTGTextTagCollectionView&lt;/code&gt;ï¼Œéœ€è¦è‡ªå·±å®šä¹‰æ ‡ç­¾çš„è¯ï¼Œå°±ç”¨&lt;code&gt;TTGTagCollectionView&lt;/code&gt;ï¼Œæ•ˆæœå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGTagCollectionView_screenshot.png&quot; alt=&quot;ScreenShot&quot;&gt;&lt;/p&gt;
&lt;p&gt;CocoaPods: &lt;code&gt;pod &amp;quot;TTGTagCollectionView&amp;quot;&lt;/code&gt;&lt;br&gt;Carthage: &lt;code&gt;github &amp;quot;zekunyan/TTGTagCollectionView&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Githubåœ°å€: &lt;a href=&quot;https://github.com/zekunyan/TTGTagCollectionView&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/TTGTagCollectionView&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;åªæ˜¾ç¤ºæ–‡å­—æ ‡ç­¾-TTGTextTagCollectionView&quot;&gt;&lt;a href=&quot;#åªæ˜¾ç¤ºæ–‡å­—æ ‡ç­¾-TTGTextTagCollectionView&quot; class=&quot;headerlink&quot; title=&quot;åªæ˜¾ç¤ºæ–‡å­—æ ‡ç­¾ - TTGTextTagCollectionView&quot;&gt;&lt;/a&gt;åªæ˜¾ç¤ºæ–‡å­—æ ‡ç­¾ - TTGTextTagCollectionView&lt;/h2&gt;&lt;h3 id=&quot;åŸºæœ¬ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#åŸºæœ¬ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬ä½¿ç”¨&quot;&gt;&lt;/a&gt;åŸºæœ¬ä½¿ç”¨&lt;/h3&gt;&lt;p&gt;åªæ˜¾ç¤ºæ–‡å­—æ ‡ç­¾çš„è¯ï¼Œç›´æ¥ç”¨&lt;code&gt;TTGTextTagCollectionView&lt;/code&gt;ç±»å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight prolog&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;TTGTextTagCollectionView&lt;/span&gt; *tagCollectionView = [[&lt;span class=&quot;symbol&quot;&gt;TTGTextTagCollectionView&lt;/span&gt; alloc] initWithFrame:&lt;span class=&quot;symbol&quot;&gt;CGRectMake&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view addSubview:tagCollectionView];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[tagCollectionView addTags:@[@&lt;span class=&quot;string&quot;&gt;&quot;TTG&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;Tag&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;collection&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;view&quot;&lt;/span&gt;]];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ¥æ”¶ç‚¹å‡»äº‹ä»¶-å®ç°Delegate&quot;&gt;&lt;a href=&quot;#æ¥æ”¶ç‚¹å‡»äº‹ä»¶-å®ç°Delegate&quot; class=&quot;headerlink&quot; title=&quot;æ¥æ”¶ç‚¹å‡»äº‹ä»¶ - å®ç°Delegate&quot;&gt;&lt;/a&gt;æ¥æ”¶ç‚¹å‡»äº‹ä»¶ - å®ç°Delegate&lt;/h3&gt;&lt;p&gt;å¦‚æœæƒ³åœ¨æ ‡ç­¾è¢«ç‚¹å‡»æ—¶å¾—åˆ°é€šçŸ¥ï¼Œå®ç°å¯¹åº”çš„Protocolå³å¯ï¼Œå®šä¹‰å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@protocol&lt;/span&gt; TTGTextTagCollectionViewDelegate &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@optional&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)&lt;span class=&quot;attribute&quot;&gt;textTagCollectionView&lt;/span&gt;:(TTGTextTagCollectionView *)textTagCollectionView &lt;span class=&quot;attribute&quot;&gt;didTapTag&lt;/span&gt;:(NSString *)tagText &lt;span class=&quot;attribute&quot;&gt;atIndex&lt;/span&gt;:(NSUInteger)index &lt;span class=&quot;attribute&quot;&gt;selected&lt;/span&gt;:(BOOL)selected;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;è‡ªå®šä¹‰æ–‡å­—æ ‡ç­¾æ ·å¼&quot;&gt;&lt;a href=&quot;#è‡ªå®šä¹‰æ–‡å­—æ ‡ç­¾æ ·å¼&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå®šä¹‰æ–‡å­—æ ‡ç­¾æ ·å¼&quot;&gt;&lt;/a&gt;è‡ªå®šä¹‰æ–‡å­—æ ‡ç­¾æ ·å¼&lt;/h3&gt;&lt;p&gt;å¦‚æœæƒ³å¯¹æ ‡ç­¾çš„æ ·å¼åšå®šåˆ¶ï¼Œå¯ä»¥è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ ‡ç­¾æ˜¯å¦å¯ä»¥è¢«é€‰ä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; enableTagSelection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å­—ä½“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIFont&lt;/span&gt; *tagTextFont;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æœªé€‰ä¸­å’Œé€‰ä¸­æ—¶çš„æ–‡å­—é¢œè‰²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; *tagTextColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; *tagSelectedTextColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æœªé€‰ä¸­å’Œé€‰ä¸­æ—¶çš„æ ‡ç­¾èƒŒæ™¯é¢œè‰²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; *tagBackgroundColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; *tagSelectedBackgroundColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// åœ†è§’å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; tagCornerRadius;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¾¹æ¡†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; tagBorderWidth;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; *tagBorderColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ ‡ç­¾å®½é«˜çš„æ‰©å±•å€¼ï¼Œå¯ä»¥ç†è§£ä¸ºpadding&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGSize&lt;/span&gt; extraSpace;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ°´å¹³é—´éš”&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; horizontalSpacing;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¡Œè·&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; verticalSpacing;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ‰€æœ‰æ ‡ç­¾å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGSize&lt;/span&gt; contentSize;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ»šåŠ¨æ–¹å‘ï¼Œé»˜è®¤å‚ç›´æ–¹å‘&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;) TTGTagCollectionScrollDirection scrollDirection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ°´å¹³æ»‘åŠ¨æ—¶ï¼Œè¡Œæ•°ï¼Œé»˜è®¤ä¸€è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; numberOfLinesForHorizontalScrollDirection;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å¢åŠ ã€åˆ é™¤æ ‡ç­¾&quot;&gt;&lt;a href=&quot;#å¢åŠ ã€åˆ é™¤æ ‡ç­¾&quot; class=&quot;headerlink&quot; title=&quot;å¢åŠ ã€åˆ é™¤æ ‡ç­¾&quot;&gt;&lt;/a&gt;å¢åŠ ã€åˆ é™¤æ ‡ç­¾&lt;/h3&gt;&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¢åŠ ä¸€ä¸ªæ ‡ç­¾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)addTag:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)tag;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)addTags:(&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; &amp;lt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *&amp;gt; *)tags;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/// åˆ é™¤æ ‡ç­¾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)removeTag:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)tag;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)removeTagAtIndex:(&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;)index;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)removeAllTags;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;åœ¨ä»£ç é‡Œæ§åˆ¶æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€&quot;&gt;&lt;a href=&quot;#åœ¨ä»£ç é‡Œæ§åˆ¶æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€&quot; class=&quot;headerlink&quot; title=&quot;åœ¨ä»£ç é‡Œæ§åˆ¶æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€&quot;&gt;&lt;/a&gt;åœ¨ä»£ç é‡Œæ§åˆ¶æ ‡ç­¾çš„é€‰ä¸­çŠ¶æ€&lt;/h3&gt;&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- &lt;span class=&quot;params&quot;&gt;(void)&lt;/span&gt;setTagAtIndex:&lt;span class=&quot;params&quot;&gt;(NSUInteger)&lt;/span&gt;index selected:&lt;span class=&quot;params&quot;&gt;(BOOL)&lt;/span&gt;selected;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;è·å–æ‰€æœ‰ã€é€‰ä¸­ã€æœªé€‰ä¸­æ ‡ç­¾&quot;&gt;&lt;a href=&quot;#è·å–æ‰€æœ‰ã€é€‰ä¸­ã€æœªé€‰ä¸­æ ‡ç­¾&quot; class=&quot;headerlink&quot; title=&quot;è·å–æ‰€æœ‰ã€é€‰ä¸­ã€æœªé€‰ä¸­æ ‡ç­¾&quot;&gt;&lt;/a&gt;è·å–æ‰€æœ‰ã€é€‰ä¸­ã€æœªé€‰ä¸­æ ‡ç­¾&lt;/h3&gt;&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;name&quot;&gt;NSArray&lt;/span&gt; &amp;lt;NSString *&amp;gt; *)allTags&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;name&quot;&gt;NSArray&lt;/span&gt; &amp;lt;NSString *&amp;gt; *)allSelectedTags&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;name&quot;&gt;NSArray&lt;/span&gt; &amp;lt;NSString *&amp;gt; *)allNotSelectedTags&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;é‡æ–°åŠ è½½-Reload&quot;&gt;&lt;a href=&quot;#é‡æ–°åŠ è½½-Reload&quot; class=&quot;headerlink&quot; title=&quot;é‡æ–°åŠ è½½ - Reload&quot;&gt;&lt;/a&gt;é‡æ–°åŠ è½½ - Reload&lt;/h3&gt;&lt;p&gt;ç”¨&lt;code&gt;- (void)reload&lt;/code&gt;æ–¹æ³•é‡æ–°åŠ è½½æ‰€æœ‰æ ‡ç­¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ˜¾ç¤ºè‡ªå®šä¹‰çš„æ ‡ç­¾æ§ä»¶View-TTGTagCollectionView&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºè‡ªå®šä¹‰çš„æ ‡ç­¾æ§ä»¶View-TTGTagCollectionView&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºè‡ªå®šä¹‰çš„æ ‡ç­¾æ§ä»¶View - TTGTagCollectionView&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºè‡ªå®šä¹‰çš„æ ‡ç­¾æ§ä»¶View - TTGTagCollectionView&lt;/h2&gt;&lt;p&gt;å¦‚æœæƒ³è‡ªå·±å®šä¹‰æ ‡ç­¾Viewï¼Œå¦‚åŒæ—¶æ˜¾ç¤ºå›¾åƒã€æ–‡å­—ã€æŒ‰é’®ï¼Œå¯ä»¥ç”¨&lt;code&gt;TTGTagCollectionView&lt;/code&gt;ç±»å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŸºæœ¬è¦æ±‚-å®ç°DataSourceå’ŒDelegate&quot;&gt;&lt;a href=&quot;#åŸºæœ¬è¦æ±‚-å®ç°DataSourceå’ŒDelegate&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬è¦æ±‚ - å®ç°DataSourceå’ŒDelegate&quot;&gt;&lt;/a&gt;åŸºæœ¬è¦æ±‚ - å®ç°DataSourceå’ŒDelegate&lt;/h3&gt;&lt;p&gt;DataSourceçš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@protocol&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TTGTagCollectionViewDataSource&lt;/span&gt; &amp;lt;&lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@required&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¿”å›æ ‡ç­¾æ•°é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;)numberOfTagsInTagCollectionView:(TTGTagCollectionView *)tagCollectionView;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¿”å›å¯¹åº”æ ‡ç­¾View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;UIView&lt;/span&gt; *)tagCollectionView:(TTGTagCollectionView *)tagCollectionView tagViewForIndex:(&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;)index;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Delegateçš„å®šä¹‰å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@protocol&lt;/span&gt; TTGTagCollectionViewDelegate &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@required&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¿…é¡»å®ç°ï¼šè¿”å›å¯¹åº”çš„æ ‡ç­¾Size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (CGSize)&lt;span class=&quot;string&quot;&gt;tagCollectionView:&lt;/span&gt;(TTGTagCollectionView *)tagCollectionView &lt;span class=&quot;string&quot;&gt;sizeForTagAtIndex:&lt;/span&gt;(NSUInteger)index;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@optional&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç‚¹å‡»æ ‡ç­¾æ—¶å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;tagCollectionView:&lt;/span&gt;(TTGTagCollectionView *)tagCollectionView &lt;span class=&quot;string&quot;&gt;didSelectTag:&lt;/span&gt;(UIView *)tagView &lt;span class=&quot;string&quot;&gt;atIndex:&lt;/span&gt;(NSUInteger)index;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ‰€æœ‰æ ‡ç­¾æ€»ä½“Sizeæ›´æ–°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;tagCollectionView:&lt;/span&gt;(TTGTagCollectionView *)tagCollectionView &lt;span class=&quot;string&quot;&gt;updateContentSize:&lt;/span&gt;(CGSize)contentSize;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è·ŸUITableViewçš„æ€è·¯ä¸€è‡´~&lt;/p&gt;
&lt;h3 id=&quot;è®¾ç½®æ ‡ç­¾çš„è¡Œè·ã€é—´éš”&quot;&gt;&lt;a href=&quot;#è®¾ç½®æ ‡ç­¾çš„è¡Œè·ã€é—´éš”&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®æ ‡ç­¾çš„è¡Œè·ã€é—´éš”&quot;&gt;&lt;/a&gt;è®¾ç½®æ ‡ç­¾çš„è¡Œè·ã€é—´éš”&lt;/h3&gt;&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ»šåŠ¨æ–¹å‘&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;) TTGTagCollectionScrollDirection scrollDirection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ°´å¹³æ»šåŠ¨æ—¶ï¼Œè¡Œæ•°ï¼Œé»˜è®¤æ˜¯1è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; numberOfLinesForHorizontalScrollDirection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ°´å¹³é—´éš”&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; horizontalSpacing;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¡Œè·&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; verticalSpacing;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ‰€æœ‰æ ‡ç­¾æ€»ä½“Size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGSize&lt;/span&gt; contentSize;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;é‡æ–°åŠ è½½-Reload-1&quot;&gt;&lt;a href=&quot;#é‡æ–°åŠ è½½-Reload-1&quot; class=&quot;headerlink&quot; title=&quot;é‡æ–°åŠ è½½ - Reload&quot;&gt;&lt;/a&gt;é‡æ–°åŠ è½½ - Reload&lt;/h3&gt;&lt;p&gt;ç”¨&lt;code&gt;- (void)reload&lt;/code&gt;æ–¹æ³•é‡æ–°åŠ è½½æ‰€æœ‰æ ‡ç­¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h2&gt;&lt;p&gt;2015æœ€åä¸€å¤©~&lt;br&gt;æ–°å¹´å¿«ä¹~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-10-29: å¢åŠ Tagçš„é˜´å½±å’ŒContentInsetçš„è®¾ç½®ï¼Œæ›´æ–°äº†Demo&lt;/li&gt;
&lt;li&gt;2016-10-17: å¢åŠ äº†æ°´å¹³æ»‘åŠ¨ï¼›Autolayouté€‚é…ï¼›UITableViewCellä¾‹å­ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;2016-02-18: ä¿®å¤äº†è¶…é•¿æ ‡ç­¾å¯¼è‡´æ’ç‰ˆé”™è¯¯çš„Bugã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™æ®µæ—¶é—´åšé¡¹ç›®çš„æ—¶å€™ï¼Œæ€»æ˜¯éœ€è¦æ˜¾ç¤ºä¸€äº›â€œæ ‡ç­¾â€æ ·å¼çš„å†…å®¹ï¼Œä½†æ˜¯åˆæ‰¾ä¸åˆ°ç”¨çš„é¡ºæ‰‹çš„åº“ï¼Œæ‰€ä»¥ç¢ç£¨äº†å‡ å¤©ï¼Œè‡ªå·±å®ç°äº†å‡ºæ¥ï¼Œå°±æœ‰äº†è¿™ä¸ªåº“ï¼šTTGTagCollectionViewã€‚å¦‚æœåªéœ€è¦æ˜¾ç¤ºæ–‡å­—æ ‡ç­¾çš„è¯ï¼Œç›´æ¥ä½¿ç”¨&lt;code&gt;TTGTextTagCollectionView&lt;/code&gt;ï¼Œéœ€è¦è‡ªå·±å®šä¹‰æ ‡ç­¾çš„è¯ï¼Œå°±ç”¨&lt;code&gt;TTGTagCollectionView&lt;/code&gt;ï¼Œæ•ˆæœå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGTagCollectionView_screenshot.png&quot; alt=&quot;ScreenShot&quot;&gt;&lt;/p&gt;
&lt;p&gt;CocoaPods: &lt;code&gt;pod &amp;quot;TTGTagCollectionView&amp;quot;&lt;/code&gt;&lt;br&gt;Carthage: &lt;code&gt;github &amp;quot;zekunyan/TTGTagCollectionView&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Githubåœ°å€: &lt;a href=&quot;https://github.com/zekunyan/TTGTagCollectionView&quot;&gt;https://github.com/zekunyan/TTGTagCollectionView&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="å¼€æº" scheme="http://tutuge.me/tags/%E5%BC%80%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°</title>
    <link href="http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/"/>
    <id>http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/</id>
    <published>2015-12-14T13:36:08.000Z</published>
    <updated>2016-08-09T16:49:51.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-06-02: æ„Ÿè°¢&lt;a href=&quot;http://weibo.com/u/2953626141&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æˆ‘ä¸æ˜¯èœ¡ç¬”å°æ–°ä½†æ˜¯æˆ‘æœ‰å°ç™½&lt;/a&gt;ï¼Œå‘ç°äº†Case 2çš„æœ€åä¸¤ä¸ªcellå±•å¼€åŠ¨ç”»é—®é¢˜ï¼ŒåŸæ¥æ˜¯tableViewçš„&lt;code&gt;estimatedRowHeight&lt;/code&gt;ä¼šè·Ÿå±•å¼€åŠ¨ç”»å†²çªçš„ç¼˜æ•…ã€‚  &lt;/li&gt;
&lt;li&gt;2015-12-23: æ„Ÿè°¢&lt;a href=&quot;https://github.com/XVXVXXX&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XVXVXXX&lt;/a&gt;çš„PR,Case 1ä¸å†éœ€è¦Fake Header Viewï¼Œç›´æ¥ç”¨contentInsetå°±å¥½~  &lt;/li&gt;
&lt;li&gt;2015-12-17ï¼šCase3çš„ç­‰é—´è·ï¼Œç”¨UIStackViewå®ç°æœ€ä¼˜é›…ï¼Œä½†æ˜¯æ— å¥ˆåªæœ‰iOS9ä»¥ä¸Šæ”¯æŒã€‚å…¼å®¹æ–¹æ¡ˆå¦‚OAStackViewä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åœ¨UITableViewCellé‡Œé¢ç”¨ï¼Œæˆ–è€…éœ€è¦é¢‘ç¹çš„å¢å‡å†…éƒ¨Viewçš„æ•°é‡æ—¶ï¼Œæ€§èƒ½æŸè€—æœ‰ç‚¹å‰å®³ï¼Œä¼šå¡ã€‚æ‰€ä»¥ï¼Œè¿˜æ˜¯è¦çœ‹éœ€æ±‚=ã€‚=&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸‰ç¯‡æ¥äº†ã€‚&lt;br&gt;ä¾ç„¶æ˜¯3ä¸ªå°ä¾‹å­ï¼Œä¸»è¦éƒ¨åˆ†ç”¨Masonryæ‰‹å†™ä»£ç å®ç°ï¼Œå…¶å®ƒçš„çº¦æŸåœ¨storyboardé‡Œé¢ç›´æ¥æ‹–æ‹½æ­å»ºã€‚&lt;br&gt;è‡³äºä¸ºå•¥ä¸ç”¨VFLï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒçš„â€œæè¿°æ€§â€çš„å†™æ³•å¾ˆå®¹æ˜“å‡ºé”™ï¼Œæ²¡æœ‰è¡¥å…¨ã€ä¸å¥½è°ƒè¯•ï¼Œå†™èµ·æ¥æ²¡æœ‰â€œä»£ç â€çš„æ„Ÿè§‰=ã€‚=ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä»è€…è§ä»æ™ºè€…è§æ™º~&lt;br&gt;ä¸‰ä¸ªä¾‹å­åˆ†åˆ«æ˜¯ï¼š&lt;strong&gt;Parallax Header&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&lt;/strong&gt;ï¼Œä»¥åŠ&lt;strong&gt;ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&lt;/strong&gt;ã€‚åŸç†å…¶å®éƒ½å¾ˆç®€å•ï¼Œä¾‹å­ä¹Ÿéƒ½æ˜¯å¹³æ—¶ç§¯ç´¯èµ·æ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;å‰ä¸¤ç¯‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬å››ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Case-1-Parallax-Header&quot;&gt;&lt;a href=&quot;#Case-1-Parallax-Header&quot; class=&quot;headerlink&quot; title=&quot;Case 1: Parallax Header&quot;&gt;&lt;/a&gt;Case 1: Parallax Header&lt;/h2&gt;&lt;p&gt;Parallaxç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œè§†å·®â€ï¼Œæˆ‘ä¸ªäººè§‰å¾—å°±æ˜¯ä¸€ç§â€œè”åŠ¨â€çš„æ•ˆæœï¼Œåœ¨è®¸å¤šåº”ç”¨é‡Œé¢éƒ½èƒ½è§åˆ°ã€‚å½“å‰è¿™ä¸ªä¾‹å­ï¼Œå°±æ˜¯æœ€ç®€å•çš„ä¸€ç§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŸç†&quot;&gt;&lt;a href=&quot;#åŸç†&quot; class=&quot;headerlink&quot; title=&quot;åŸç†&quot;&gt;&lt;/a&gt;åŸç†&lt;/h3&gt;&lt;p&gt;åŸç†å…¶å®å°±æ˜¯æ ¹æ®UITableViewå½“å‰ä¸‹æ‹‰çš„ä½ç§»å€¼ï¼ŒåŒæ­¥æ”¹å˜Parallax Headerçš„é«˜åº¦ï¼Œå³&lt;code&gt;NSLayoutConstraint&lt;/code&gt;çš„&lt;code&gt;constant&lt;/code&gt;å±æ€§ï¼Œå¯¹åº”åˆ°Masonryé‡Œé¢å°±æ˜¯é‡æ–°è®©çº¦æŸ&lt;code&gt;equalTo()&lt;/code&gt;ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸»è¦æ­¥éª¤&quot;&gt;&lt;a href=&quot;#ä¸»è¦æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;ä¸»è¦æ­¥éª¤&quot;&gt;&lt;/a&gt;ä¸»è¦æ­¥éª¤&lt;/h3&gt;&lt;p&gt;ä¸»è¦çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾ç½®UITableViewèƒŒæ™¯é€æ˜ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨UITableViewæ­£ä¸‹æ–¹æ”¾ç½®ä¸€ä¸ªUIImageViewï¼Œä½œä¸ºæˆ‘ä»¬çš„Parallax Headerï¼Œè®¾ç½®&lt;code&gt;contentMode&lt;/code&gt;ä¸º&lt;code&gt;UIViewContentModeScaleAspectFill&lt;/code&gt;ï¼Œå¹¶åŠ ä¸Š&lt;strong&gt;ä¸Šå·¦å³&lt;/strong&gt;çš„å›ºå®šçº¦æŸï¼Œä½¿å…¶ä¸UITableViewå¯¹å…¶ï¼Œç„¶ååŠ ä¸Šä¸€ä¸ªå›ºå®šé«˜åº¦çš„çº¦æŸï¼Œå¹¶åœ¨ä»£ç é‡Œé¢ä¿å­˜ã€‚&lt;/li&gt;
&lt;li&gt;è®¾ç½®UITableViewçš„&lt;code&gt;contentInset&lt;/code&gt;è·ŸParallax Headerç­‰é«˜ï¼Œä½¿UITableViewçš„å¤´éƒ¨â€œæ’‘å¼€â€ï¼Œè®©åé¢çš„Parallax Headeréœ²å‡ºæ¥ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ä»£ç é‡Œé¢ç›‘å¬UITableViewçš„&lt;code&gt;contentOffset&lt;/code&gt;å±æ€§ï¼Œå½“yå°äº0æ—¶ï¼Œå¢åŠ Parallax Headeré«˜åº¦ï¼Œä½¿å…¶äº§ç”Ÿè”åŠ¨æ•ˆæœã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;çº¦æŸç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;br&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_6.png&quot; alt=&quot;Parallax Header&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä»£ç &quot;&gt;&lt;a href=&quot;#ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ä»£ç &quot;&gt;&lt;/a&gt;ä»£ç &lt;/h3&gt;&lt;p&gt;åˆ›å»ºParallax Headerçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_parallaxHeaderView = [UIImageView new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æŠŠParallax Headeræ”¾åœ¨UITableViewçš„ä¸‹é¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view insertSubview:_parallaxHeaderView belowSubview:_tableView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¾ç½®contentMode&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_parallaxHeaderView.contentMode = UIViewContentModeScaleAspectFill&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_parallaxHeaderView.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;parallax_header_back&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ·»åŠ çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_parallaxHeaderView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.right.equalTo(self.view)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(self.mas_topLayoutGuideBottom)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¿å­˜é«˜åº¦çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _parallaxHeaderHeightConstraint = make.height.equalTo(@(ParallaxHeaderHeight))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è®¾ç½®UITableViewçš„&lt;code&gt;contentInset&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_tableView.contentInset = UIEdgeInsetsMake(ParallaxHeaderHeight, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ç›‘å¬contentOffsetå±æ€§çš„ä¸¤ç§æ–¹æ³•&quot;&gt;&lt;a href=&quot;#ç›‘å¬contentOffsetå±æ€§çš„ä¸¤ç§æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;ç›‘å¬contentOffsetå±æ€§çš„ä¸¤ç§æ–¹æ³•&quot;&gt;&lt;/a&gt;ç›‘å¬&lt;code&gt;contentOffset&lt;/code&gt;å±æ€§çš„ä¸¤ç§æ–¹æ³•&lt;/h3&gt;&lt;h4 id=&quot;æ–¹æ³•1ï¼šç›´æ¥å®ç°scrollViewDidScroll&quot;&gt;&lt;a href=&quot;#æ–¹æ³•1ï¼šç›´æ¥å®ç°scrollViewDidScroll&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•1ï¼šç›´æ¥å®ç°scrollViewDidScroll:&quot;&gt;&lt;/a&gt;æ–¹æ³•1ï¼šç›´æ¥å®ç°&lt;code&gt;scrollViewDidScroll:&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;è¿™ç§æ–¹æ³•åº”è¯¥æ˜¯æœ€ç›´æ¥çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;attribute&quot;&gt;scrollViewDidScroll&lt;/span&gt;:(UIScrollView *)&lt;span class=&quot;decorator&quot;&gt;scrollView&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (scrollView.contentOffset.y &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å¢åŠ Parallax Headerå¯¹åº”çš„é«˜åº¦ï¼Œyæ˜¯è´Ÿæ•°ï¼Œæ‰€ä»¥å‡å»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _parallaxHeaderHeightConstraint.equalTo(@(ParallaxHeaderHeight - scrollView.contentOffset.y));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;decorator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _parallaxHeaderHeightConstraint.equalTo(@(ParallaxHeaderHeight));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;æ–¹æ³•2ï¼šKVOç›‘å¬contentOffsetå˜åŒ–&quot;&gt;&lt;a href=&quot;#æ–¹æ³•2ï¼šKVOç›‘å¬contentOffsetå˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•2ï¼šKVOç›‘å¬contentOffsetå˜åŒ–&quot;&gt;&lt;/a&gt;æ–¹æ³•2ï¼šKVOç›‘å¬&lt;code&gt;contentOffset&lt;/code&gt;å˜åŒ–&lt;/h4&gt;&lt;p&gt;ç”¨KVOçš„å¥½å¤„å°±æ˜¯ä¸ç”¨è¦æ±‚å½“å‰ç±»å®ç°UITableViewçš„delegateï¼Œå¯¹äºä»£ç çš„æ‹†åˆ†æœ‰å¥½å¤„ã€‚&lt;/p&gt;
&lt;p&gt;å¢åŠ KVOï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[_tableView &lt;span class=&quot;string&quot;&gt;addObserver:&lt;/span&gt;self &lt;span class=&quot;string&quot;&gt;forKeyPath:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;contentOffset&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;options:&lt;/span&gt;NSKeyValueObservingOptionNew &lt;span class=&quot;string&quot;&gt;context:&lt;/span&gt;nil];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®ç°ç›‘å¬:&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)observeValueForKeyPath:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)keyPath ofObject:(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)object change:(&lt;span class=&quot;built_in&quot;&gt;NSDictionary&lt;/span&gt;&amp;lt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *,&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;&amp;gt; *)change context:(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)context &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([keyPath isEqualToString:&lt;span class=&quot;string&quot;&gt;@&quot;contentOffset&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å–å‡ºcontentOffsetå€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;CGPoint&lt;/span&gt; contentOffset = ((&lt;span class=&quot;built_in&quot;&gt;NSValue&lt;/span&gt; *)change[&lt;span class=&quot;built_in&quot;&gt;NSKeyValueChangeNewKey&lt;/span&gt;]).CGPointValue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// æ”¹å˜é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (contentOffset.y &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            _parallaxHeaderHeightConstraint.equalTo(@(ParallaxHeaderHeight - contentOffset.y));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            _parallaxHeaderHeightConstraint.equalTo(@(ParallaxHeaderHeight));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ€ååˆ«å¿˜äº†å–æ¶ˆKVO:&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;decorator&quot;&gt;dealloc&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_tableView &lt;span class=&quot;attribute&quot;&gt;removeObserver&lt;/span&gt;:&lt;span class=&quot;attribute&quot;&gt;self forKeyPath&lt;/span&gt;:@&lt;span class=&quot;string&quot;&gt;&quot;contentOffset&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å°èŠ‚&quot;&gt;&lt;a href=&quot;#å°èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;&lt;code&gt;NSLayoutConstraint&lt;/code&gt;çš„&lt;code&gt;constant&lt;/code&gt;å±æ€§éå¸¸æœ‰ç”¨ï¼Œæ—¢å¯ä»¥åšåŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥æ–¹ä¾¿çš„è°ƒæ•´ç°æœ‰å¸ƒå±€ï¼Œå¤§å®¶å¤šå¤šæŒ–æ˜å“ˆ~&lt;/p&gt;
&lt;h2 id=&quot;Case-2-åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&quot;&gt;&lt;a href=&quot;#Case-2-åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&quot; class=&quot;headerlink&quot; title=&quot;Case 2: åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&quot;&gt;&lt;/a&gt;Case 2: åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&lt;/h2&gt;&lt;p&gt;å—¯ï¼Œåˆæ˜¯UITableViewCell=ã€‚=&lt;br&gt;åªä¸è¿‡è¿™æ¬¡çš„æ˜¯â€œåŠ¨æ€æ”¹å˜é«˜åº¦â€ï¼Œå°±æ˜¯ç±»ä¼¼äºå¾®ä¿¡æœ‹å‹åœˆé‡Œé¢çš„â€œå…¨æ–‡â€é‚£ç§æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;å•çº¯çš„ä¸å®šé«˜UITableViewCellä¸æ˜¯æœ¬ä¾‹å­çš„é‡ç‚¹ï¼Œè¯¦ç»†è¯·çœ‹&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;é‡Œé¢çš„Case1ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆè¯´ä¸€ç‚¹æˆ‘è§‰å¾—åœ¨ä»£ç è®¾è®¡ä¸Šæ¯”è¾ƒé‡è¦çš„åœ°æ–¹ï¼š&lt;strong&gt;Cellåªè´Ÿè´£æ˜¾ç¤ºå†…å®¹ï¼Œä¸åº”è¯¥ä¿å­˜å…·ä½“çš„çŠ¶æ€ä¿¡æ¯&lt;/strong&gt;ã€‚  &lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒUITableViewCellæ˜¯ä¼šè¢«é‡ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½ä¿è¯UITableViewé‡Œé¢çš„å“ªä¸€è¡Œä¸€å®šç”±å“ªä¸€ä¸ªUITableViewCellå®ä¾‹å±•ç¤ºã€‚&lt;br&gt;åŠ¨æ€å±•å¼€ã€æ”¶å›Cellçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªBOOLå˜é‡ï¼Œç”¨äºä¿å­˜å½“å‰Cellçš„å±•å¼€ã€æ”¶å›çš„çŠ¶æ€ã€‚è¿™ä¸ªBOOLå˜é‡å°±æ˜¯æ‰€è°“çš„â€œ&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;â€ï¼Œè¿™ä¸ªçŠ¶æ€åº”è¯¥ä¿å­˜åœ¨å½“å‰Cellçš„æ•°æ®é‡Œé¢ï¼Œå¦‚Entityã€ViewModelé‡Œé¢ã€‚å¯¹Cellå¡«å……æ•°æ®çš„æ—¶å€™ï¼Œå†æ ¹æ®è¿™ä¸ªâ€œçŠ¶æ€â€ï¼Œä¿®æ”¹å¯¹åº”çš„çº¦æŸã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸»è¦æ­¥éª¤-1&quot;&gt;&lt;a href=&quot;#ä¸»è¦æ­¥éª¤-1&quot; class=&quot;headerlink&quot; title=&quot;ä¸»è¦æ­¥éª¤&quot;&gt;&lt;/a&gt;ä¸»è¦æ­¥éª¤&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹å¤§è‡´çš„æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ç‚¹å‡»çš„Cellæ‰¾åˆ°å¯¹åº”çš„æ•°æ®Entityã€‚&lt;/li&gt;
&lt;li&gt;æ”¹å˜è¿™ä¸€è¡Œæ•°æ®Entityç”¨äºä¿å­˜çŠ¶æ€çš„BOOLå˜é‡çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;è®©UITableViewåˆ·æ–°è¿™ä¸€è¡Œã€‚&lt;/li&gt;
&lt;li&gt;åˆ·æ–°çš„æ—¶å€™ï¼ŒCellæ ¹æ®è¿™ä¸ªBOOLå˜é‡é‡æ–°è°ƒæ•´çº¦æŸã€å¡«å……æ•°æ®ï¼Œå¾—åˆ°æ–°çš„é«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åå°±æ˜¯Cellçš„é«˜åº¦å˜åŒ–ã€‚ï¼ˆæ­¤æ—¶çš„è¿™ä¸€è¡Œçš„Cellå®ä¾‹å¹¶ä¸ä¸€å®šæ˜¯ä¹‹å‰çš„é‚£ä¸ªå®ä¾‹ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;å¸ƒå±€&quot;&gt;&lt;a href=&quot;#å¸ƒå±€&quot; class=&quot;headerlink&quot; title=&quot;å¸ƒå±€&quot;&gt;&lt;/a&gt;å¸ƒå±€&lt;/h3&gt;&lt;p&gt;ä¸ºäº†å°½é‡ç®€å•ï¼Œä¾‹å­é‡Œé¢çš„Cellåªæœ‰ä¸‰ä¸ªå­æ§ä»¶ï¼Œç¬¬ä¸€ä¸ªUILabelæ˜¯æ ‡é¢˜ç­‰è°ƒè¯•ä¿¡æ¯ï¼Œç¬¬äºŒä¸ªUILabelç”¨æ¥æ˜¾ç¤ºå¤šè¡Œæ–‡æœ¬ï¼Œæœ€åä¸€ä¸ªUIButtonç”¨æ¥åˆ‡æ¢å±•å¼€ã€æ”¶å›çš„çŠ¶æ€ã€‚å¤§è‡´çš„å¸ƒå±€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_3.png&quot; alt=&quot;Case2 UITableViewCellå¸ƒå±€ç¤ºæ„&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¸ƒå±€çš„ä»£ç &quot;&gt;&lt;a href=&quot;#å¸ƒå±€çš„ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;å¸ƒå±€çš„ä»£ç &quot;&gt;&lt;/a&gt;å¸ƒå±€çš„ä»£ç &lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æ ‡é¢˜UIlabel&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_titleLabel = [UILabel new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView addSubview:_titleLabel]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_titleLabel mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.height.equalTo(@&lt;span class=&quot;number&quot;&gt;21&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.right.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.top.equalTo(self.contentView).with.insets(UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;åº•éƒ¨â€œMoreâ€æŒ‰é’®&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_moreButton = [UIButton &lt;span class=&quot;string&quot;&gt;buttonWithType:&lt;/span&gt;UIButtonTypeSystem];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_moreButton &lt;span class=&quot;string&quot;&gt;setTitle:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;More&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;forState:&lt;/span&gt;UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_moreButton &lt;span class=&quot;string&quot;&gt;addTarget:&lt;/span&gt;self &lt;span class=&quot;string&quot;&gt;action:&lt;/span&gt;&lt;span class=&quot;meta&quot;&gt;@selector&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;switchExpandedState:&lt;/span&gt;) &lt;span class=&quot;string&quot;&gt;forControlEvents:&lt;/span&gt;UIControlEventTouchUpInside];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView &lt;span class=&quot;string&quot;&gt;addSubview:&lt;/span&gt;_moreButton];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_moreButton &lt;span class=&quot;string&quot;&gt;mas_makeConstraints:&lt;/span&gt;^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.height.equalTo(@&lt;span class=&quot;number&quot;&gt;32&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.and.right.and.bottom.equalTo(self.contentView);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;æ­£æ–‡UIlabel&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;CGFloat preferredMaxWidth = [UIScreen mainScreen].bounds.size.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt; - &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Content - å¤šè¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel = [UILabel new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.numberOfLines = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.lineBreakMode = NSLineBreakByCharWrapping&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.clipsToBounds = YES&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.preferredMaxLayoutWidth = preferredMaxWidth&lt;span class=&quot;comment&quot;&gt;; // å¤šè¡Œæ—¶å¿…é¡»è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView addSubview:_contentLabel]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_contentLabel mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.right.equalTo(self.contentView).with.insets(UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(_titleLabel.mas_bottom).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.equalTo(_moreButton.mas_top).with.offset(&lt;span class=&quot;number&quot;&gt;-4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å…ˆåŠ ä¸Šé«˜åº¦çš„é™åˆ¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _contentHeightConstraint = make.height.equalTo(@&lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;).with.priorityHigh()&lt;span class=&quot;comment&quot;&gt;; // ä¼˜å…ˆçº§åªè®¾ç½®æˆHigh,æ¯”æ­£å¸¸çš„é«˜åº¦çº¦æŸä½ä¸€äº›,é˜²æ­¢å†²çª&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;ä¸ºä»€ä¹ˆè¦åŠ æ­£æ–‡UIlabelé«˜åº¦çº¦æŸ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆè¦åŠ æ­£æ–‡UIlabelé«˜åº¦çº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆè¦åŠ æ­£æ–‡UIlabelé«˜åº¦çº¦æŸ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆè¦åŠ æ­£æ–‡UIlabelé«˜åº¦çº¦æŸ&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;é‡Œé¢çš„Case1ä¹Ÿè®²è¿‡ï¼Œè·å–Cellçš„é«˜åº¦çš„æ–¹æ³•æ˜¯&lt;code&gt;systemLayoutSizeFittingSize:&lt;/code&gt;ï¼Œå¦‚æœä¸å¯¹æ­£æ–‡UILabelåŠ ä¸Šé«˜åº¦çº¦æŸï¼Œè·å–çš„é«˜åº¦å°±æ˜¯æ ¹æ®æ­£æ–‡çš„å†…å®¹è®¡ç®—å‡ºæ¥çš„ï¼Œè¿™ä¸ä¹‹å‰çš„ä¾‹å­é‡Œé¢ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä½¿é«˜åº¦å›ºå®šï¼Œå°±éœ€è¦åŠ ä¸Šä¸€ä¸ªé«˜åº¦çº¦æŸï¼Œä½¿å¾—&lt;code&gt;systemLayoutSizeFittingSize:&lt;/code&gt;è®¡ç®—æ—¶æŒ‰ç…§è¿™ä¸ªçº¦æŸå»è®¡ç®—ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ä¸ºä»€ä¹ˆæ­£æ–‡UILabelçš„é«˜åº¦çº¦æŸçš„ä¼˜å…ˆçº§è¦è°ƒæ•´ä¸ºHigh&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆæ­£æ–‡UILabelçš„é«˜åº¦çº¦æŸçš„ä¼˜å…ˆçº§è¦è°ƒæ•´ä¸ºHigh&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆæ­£æ–‡UILabelçš„é«˜åº¦çº¦æŸçš„ä¼˜å…ˆçº§è¦è°ƒæ•´ä¸ºHigh&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆæ­£æ–‡UILabelçš„é«˜åº¦çº¦æŸçš„ä¼˜å…ˆçº§è¦è°ƒæ•´ä¸º&lt;code&gt;High&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;åœ¨UITableViewåˆ·æ–°æ—¶ï¼Œä¼šå…ˆè®¡ç®—é«˜åº¦ï¼Œå³å…ˆè°ƒç”¨&lt;code&gt;tableView: heightForRowAtIndexPath:&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœé«˜åº¦çº¦æŸä¸ºé»˜è®¤çš„1000æœ€é«˜çš„è¯ï¼Œä¼šäº§ç”Ÿå†²çªã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºåœ¨è®¡ç®—çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„é«˜åº¦æ˜¯ç”±ä¸€ä¸ªâ€œtemplate cellâ€å¡«å……å†…å®¹åè®¡ç®—å¾—æ¥ï¼Œè¿™ä¸ªæ—¶å€™çš„é«˜åº¦å·²ç»æ˜¯å±•å¼€ä»¥åçš„é«˜åº¦ï¼Œå½“å‰çš„Cellè¿˜æ¥ä¸åŠè°ƒæ•´çº¦æŸï¼ˆç”šè‡³ä¸ä¼šè°ƒæ•´ï¼Œå¦‚æœåªç”¨&lt;code&gt;beginUpdateså’ŒendUpdates&lt;/code&gt;æ›´æ–°çš„è¯ï¼ŒCellä¸ä¼šreloadï¼‰ï¼Œæ‰€ä»¥é™ä½è¿™ä¸ªé«˜åº¦çº¦æŸçš„ä¼˜å…ˆçº§ï¼Œå»æ‰å†²çªã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨installå’Œuninstallæ§åˆ¶çº¦æŸ&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨installå’Œuninstallæ§åˆ¶çº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨installå’Œuninstallæ§åˆ¶çº¦æŸ&quot;&gt;&lt;/a&gt;ä½¿ç”¨installå’Œuninstallæ§åˆ¶çº¦æŸ&lt;/h3&gt;&lt;p&gt;ä¸ºäº†èƒ½å¾—æ­£ç¡®é«˜åº¦ï¼ŒCelléœ€è¦æ ¹æ®å…·ä½“çš„æ•°æ®ã€çŠ¶æ€æ›´æ–°çº¦æŸã€‚&lt;br&gt;è¿™é‡Œå¯ä»¥ä½¿ç”¨&lt;code&gt;install&lt;/code&gt;å’Œ&lt;code&gt;uninstall&lt;/code&gt;æ¥æ§åˆ¶æ­£æ–‡UILabelé«˜åº¦çº¦æŸæ˜¯å¦ç”Ÿæ•ˆã€‚åœ¨å¡«å……Cellçš„æ•°æ®æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®çŠ¶æ€BOOLå€¼æ¥é€‰æ‹©è°ƒç”¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;-&lt;/span&gt; (void)&lt;span class=&quot;selector-tag&quot;&gt;setEntity&lt;/span&gt;:(Case8DataEntity *)&lt;span class=&quot;selector-tag&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;indexPath&lt;/span&gt;:(NSIndexPath *)&lt;span class=&quot;selector-tag&quot;&gt;indexPath&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è®¾ç½®æ•°æ®...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ”¹å˜çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-tag&quot;&gt;if&lt;/span&gt; (_entity.expanded) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-attr&quot;&gt;[_contentHeightConstraint uninstall]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;selector-tag&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-attr&quot;&gt;[_contentHeightConstraint install]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;åˆ›å»ºDelegateï¼Œä½¿å¾—Cellçš„äº‹ä»¶å¾—ä»¥å›ä¼ åˆ°ViewController&quot;&gt;&lt;a href=&quot;#åˆ›å»ºDelegateï¼Œä½¿å¾—Cellçš„äº‹ä»¶å¾—ä»¥å›ä¼ åˆ°ViewController&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºDelegateï¼Œä½¿å¾—Cellçš„äº‹ä»¶å¾—ä»¥å›ä¼ åˆ°ViewController&quot;&gt;&lt;/a&gt;åˆ›å»ºDelegateï¼Œä½¿å¾—Cellçš„äº‹ä»¶å¾—ä»¥å›ä¼ åˆ°ViewController&lt;/h3&gt;&lt;p&gt;åœ¨ç‚¹å‡»Cellçš„â€œMoreâ€æŒ‰é’®æ—¶ï¼Œéœ€è¦æ”¹å˜å½“å‰çš„å±•å¼€æ”¶å›çŠ¶æ€BOOLå€¼ï¼Œè¿˜éœ€è¦è®©UITableViewåˆ·æ–°ã€‚&lt;br&gt;ç›´æ¥åœ¨Cellé‡Œé¢ä¿®æ”¹Entityæ•°æ®ï¼Œæˆ–è€…æŒæœ‰UITableViewå®ä¾‹éƒ½æ˜¯ä¸æ°å½“çš„ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨Delegateæ¨¡å¼å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;Delegateå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@protocol&lt;/span&gt; Case8CellDelegate &lt;span class=&quot;variable&quot;&gt;&amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)case8Cell:(Case8Cell &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;)cell switchExpandedStateWithIndexPath:(NSIndexPath &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;)index;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åViewControllerå®ç°è¿™ä¸ªProtocol&lt;/p&gt;
&lt;figure class=&quot;highlight ceylon&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;Cell:(Case&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;Cell *)cell switchExpandedStateWithIndexPath:(NSIndexPath *)index &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å–å‡ºå¯¹åº”æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Case&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;DataEntity *&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;DataEntity = &lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;data[(NSUInteger) index.row];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¿®æ”¹çŠ¶æ€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;DataEntity.expanded = !&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;DataEntity.expanded; &lt;span class=&quot;comment&quot;&gt;// åˆ‡æ¢å±•å¼€è¿˜æ˜¯æ”¶å›&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;DataEntity.cellHeight = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// é‡ç½®é«˜åº¦ç¼“å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ·æ–°UITableView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Cellä¿å­˜ViewControllerè¿™ä¸ªdelegateï¼Œç„¶ååœ¨æŒ‰é’®ç‚¹å‡»æ—¶å›è°ƒ&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Cellbä¿å­˜delegateï¼Œæ³¨æ„weak&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (weak, nonatomic) id &amp;lt;Case8CellDelegate&amp;gt; delegate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Cellçš„â€œMoreâ€æŒ‰é’®ç‚¹å‡»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;-&lt;/span&gt; (void)&lt;span class=&quot;selector-tag&quot;&gt;switchExpandedState&lt;/span&gt;:(UIButton *)&lt;span class=&quot;selector-tag&quot;&gt;button&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-attr&quot;&gt;[_delegate case8Cell:self switchExpandedStateWithIndexPath:_indexPath]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;åˆ·æ–°çš„æ–¹å¼&quot;&gt;&lt;a href=&quot;#åˆ·æ–°çš„æ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;åˆ·æ–°çš„æ–¹å¼&quot;&gt;&lt;/a&gt;åˆ·æ–°çš„æ–¹å¼&lt;/h3&gt;&lt;p&gt;UITableViewçš„åˆ·æ–°å¯ä»¥ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h4 id=&quot;1-reloadData&quot;&gt;&lt;a href=&quot;#1-reloadData&quot; class=&quot;headerlink&quot; title=&quot;1. reloadData&quot;&gt;&lt;/a&gt;1. reloadData&lt;/h4&gt;&lt;p&gt;ç”¨&lt;code&gt;reloadData&lt;/code&gt;åˆ·æ–°ï¼Œå…¶å®å°±æ˜¯æŠŠæ‰€æœ‰Celléƒ½åˆ·æ–°äº†ä¸€æ¬¡ï¼Œä»£ä»·æœ‰ç‚¹å¤§ï¼Œä¸æ¨èã€‚&lt;/p&gt;
&lt;h4 id=&quot;2-reloadRowsAtIndexPaths-withRowAnimation&quot;&gt;&lt;a href=&quot;#2-reloadRowsAtIndexPaths-withRowAnimation&quot; class=&quot;headerlink&quot; title=&quot;2. reloadRowsAtIndexPaths:withRowAnimation:&quot;&gt;&lt;/a&gt;2. reloadRowsAtIndexPaths:withRowAnimation:&lt;/h4&gt;&lt;p&gt;è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„å°±æ˜¯å¯ä»¥æŒ‡å®šè¦åˆ·æ–°çš„å“ªå‡ è¡Œï¼Œè€Œä¸”å¯ä»¥æŒ‡å®šåˆ·æ–°æ—¶çš„åŠ¨ç”»å½¢å¼ï¼Œä¸€èˆ¬æ¥è¯´ç”¨&lt;code&gt;UITableViewRowAnimationFade&lt;/code&gt;å°±ä¸é”™ã€‚&lt;br&gt;åˆ·æ–°çš„æ—¶å€™ï¼Œ&lt;code&gt;tableView:cellForRowAtIndexPath:&lt;/code&gt;ä¼šè¢«è°ƒç”¨ï¼ŒåŸæ¥çš„Cellå®ä¾‹ä¼šè¢«æ›¿æ¢ã€‚&lt;/p&gt;
&lt;h4 id=&quot;3-beginUpdateså’ŒendUpdates&quot;&gt;&lt;a href=&quot;#3-beginUpdateså’ŒendUpdates&quot; class=&quot;headerlink&quot; title=&quot;3. beginUpdateså’ŒendUpdates&quot;&gt;&lt;/a&gt;3. beginUpdateså’ŒendUpdates&lt;/h4&gt;&lt;p&gt;è¿™ä¸¤ä¸ªæ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯æˆå¯¹ä½¿ç”¨çš„ï¼Œåœ¨ä¸­é—´å¯ä»¥æ‰§è¡Œæ’å…¥ã€åˆ é™¤ç­‰è°ƒæ•´Cellçš„æ“ä½œï¼Œæ”¹å˜Cellçš„é«˜åº¦ä¹Ÿå¯ä»¥ç”¨å®ƒã€‚&lt;br&gt;ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¹¶ä¸ä¼šé‡æ–°åŠ è½½Cellï¼Œåªæ˜¯å•çº¯çš„æ”¹å˜äº†é«˜åº¦ï¼Œæ‰€ä»¥å¦‚æœCellåŸæ¥çš„çº¦æŸé‡Œé¢æœ‰é«˜åº¦çº¦æŸè¿™ç§ï¼Œè€Œåˆä¿æŒé»˜è®¤çš„ä¼˜å…ˆçº§ï¼Œå°±ä¼šäº§ç”Ÿçº¦æŸå†²çªã€‚&lt;/p&gt;
&lt;p&gt;ä»æ•ˆæœä¸Šæ¥è®²ï¼Œæˆ‘ä¸ªäººè§‰å¾—ç”¨&lt;code&gt;reloadRowsAtIndexPaths:withRowAnimation:&lt;/code&gt;ä¼šæ›´å¥½ä¸€äº›~&lt;/p&gt;
&lt;h3 id=&quot;å°èŠ‚-1&quot;&gt;&lt;a href=&quot;#å°èŠ‚-1&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;æƒ³ç”¨å¥½Autolayoutä¸å®¹æ˜“å•Šï¼Œè¦ä»”ç»†ç ”ç©¶UITableViewçš„æœºåˆ¶=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;Case-3-ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&quot;&gt;&lt;a href=&quot;#Case-3-ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&quot; class=&quot;headerlink&quot; title=&quot;Case 3: ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&quot;&gt;&lt;/a&gt;Case 3: ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&lt;/h2&gt;&lt;p&gt;ç­‰é—´è·ï¼Œä¹Ÿå°±æ˜¯Viewä¹‹é—´çš„Xæˆ–Yè½´ä¸Šçš„åæ ‡ç­‰å·®ï¼Œåœ¨è¿™é‡Œæˆ‘åªä¸¾å‡ºæ°´å¹³æ–¹å‘ä¸Šçš„ç­‰é—´è·ï¼Œå‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªé“ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ–¹æ³•1ï¼šåˆ©ç”¨é€æ˜ç­‰å®½çš„å ä½Viewå¡«å……ç©ºç™½å¤„ï¼Œå®ç°ç­‰é—´è·&quot;&gt;&lt;a href=&quot;#æ–¹æ³•1ï¼šåˆ©ç”¨é€æ˜ç­‰å®½çš„å ä½Viewå¡«å……ç©ºç™½å¤„ï¼Œå®ç°ç­‰é—´è·&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•1ï¼šåˆ©ç”¨é€æ˜ç­‰å®½çš„å ä½Viewå¡«å……ç©ºç™½å¤„ï¼Œå®ç°ç­‰é—´è·&quot;&gt;&lt;/a&gt;æ–¹æ³•1ï¼šåˆ©ç”¨é€æ˜ç­‰å®½çš„å ä½Viewå¡«å……ç©ºç™½å¤„ï¼Œå®ç°ç­‰é—´è·&lt;/h3&gt;&lt;p&gt;æ­¥éª¤å¾ˆç®€å•ï¼Œå°±æ˜¯å¾ªç¯åˆ›å»ºçœŸæ­£è¦å±•ç¤ºçš„Viewå’Œå ä½Viewï¼Œå¸ƒå±€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_4.png?refresh&quot; alt=&quot;åˆ©ç”¨å ä½Viewå®ç°ç­‰é—´è·&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å ä½Viewçš„å®½åº¦ä¸èƒ½å®šæ­»ï¼Œè¿™æ ·å¤–éƒ¨çš„çˆ¶çº§Viewå®½åº¦å˜åŒ–æ—¶ï¼Œå†…éƒ¨çš„Viewä»ç„¶å¯ä»¥ä¿æŒç­‰é—´è·ã€‚&lt;/li&gt;
&lt;li&gt;æ—¢ç„¶å ä½Viewå®½åº¦ä¸å®šï¼Œæ€»å¾—æœ‰ä¸ªå®½åº¦çš„å‚ç…§ï¼Œè¿™ä¸ªå‚ç…§å°±æ˜¯å…¶å®ƒçš„å ä½Viewï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ç»™å ä½ViewåŠ ä¸Šä¸¤ä¸¤å®½åº¦ç›¸ç­‰çš„çº¦æŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å…ˆåˆ›å»ºç¬¬ä¸€ä¸ªå ä½View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIView *lastSpaceView = [UIView new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lastSpaceView.backgroundColor = [UIColor greenColor]&lt;span class=&quot;comment&quot;&gt;; // ç”¨ç»¿è‰²æ ‡å‡º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_containerView1 addSubview:lastSpaceView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ·»åŠ ä¸Šå·¦ä¸‹ä¸‰ä¸ªçº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[lastSpaceView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.top.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.bottom.equalTo(_containerView1)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¾ªç¯åˆ›å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (NSUInteger i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;; i &amp;lt; ITEM_COUNT; i++) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºItemViewï¼Œå³çœŸæ­£æ˜¾ç¤ºå†…å®¹çš„View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIView *itemView = [self getItemViewWithIndex:i]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_containerView1 addSubview:itemView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å›ºå®šå®½é«˜ï¼Œå·¦è¾¹ã€å‚ç›´æ–¹å‘ä¸­å¿ƒä¸ä¸Šä¸€ä¸ªå ä½Viewå¯¹é½ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [itemView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.height.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.equalTo(@(ITEM_SIZE))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.left.equalTo(lastSpaceView.mas_right)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.centerY.equalTo(_containerView1.mas_centerY)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºä¸‹ä¸€ä¸ªå ä½View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIView *spaceView = [UIView new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    spaceView.backgroundColor = [UIColor greenColor]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_containerView1 addSubview:spaceView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å·¦è¾¹ä¸å½“å‰ItemViewå¯¹é½ï¼Œä¸Šä¸‹ä¸è¾¹ç•Œå¯¹é½ï¼Œå®½åº¦ä¸ä¸Šä¸€ä¸ªå ä½Viewç›¸ç­‰ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä½†æ˜¯å³è¾¹çš„çº¦æŸä¸èƒ½åŠ ï¼Œå› ä¸ºè¦ç•™ç»™ä¸‹ä¸€æ¬¡å¾ªç¯ä¸ä¸‹ä¸€ä¸ªItemViewçš„å·¦è¾¹ç•Œæ·»åŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [spaceView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.left.equalTo(itemView.mas_right).with.priorityHigh()&lt;span class=&quot;comment&quot;&gt;; // é™ä½ä¼˜å…ˆçº§ï¼Œé˜²æ­¢å®½åº¦ä¸å¤Ÿå‡ºç°çº¦æŸå†²çª&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.top.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.bottom.equalTo(_containerView1)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.equalTo(lastSpaceView.mas_width)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ›´æ–°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    lastSpaceView = spaceView&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¸ºæœ€åä¸€ä¸ªå ä½Viewæ·»åŠ å³è¾¹çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[lastSpaceView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.right.equalTo(_containerView1.mas_right)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åƒè¿™ç§é‡å¤æ·»åŠ Viewå’Œçº¦æŸï¼Œåˆç†ä½¿ç”¨å˜é‡ä¿å­˜â€œä¸Šä¸€æ¬¡å¾ªç¯â€åˆ›å»ºçš„å ä½Viewï¼Œå°±å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ï¼Œè€Œä¸”å¯ä»¥ä»»æ„è°ƒæ•´æ•°é‡~&lt;/p&gt;
&lt;h3 id=&quot;æ–¹æ³•2ï¼šç›´æ¥æŒ‰æ¯”ä¾‹è®¾ç½®multiplier&quot;&gt;&lt;a href=&quot;#æ–¹æ³•2ï¼šç›´æ¥æŒ‰æ¯”ä¾‹è®¾ç½®multiplier&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•2ï¼šç›´æ¥æŒ‰æ¯”ä¾‹è®¾ç½®multiplier&quot;&gt;&lt;/a&gt;æ–¹æ³•2ï¼šç›´æ¥æŒ‰æ¯”ä¾‹è®¾ç½®multiplier&lt;/h3&gt;&lt;p&gt;ç­‰é—´è·ï¼Œå…¶å®å°±æ˜¯æŒ‰æ¯”ä¾‹ï¼Œå†è¿›ä¸€æ­¥å°±æ˜¯xåæ ‡æ˜¯æŒ‰æ¯”ä¾‹çš„ã€‚&lt;br&gt;å»¶ä¼¸åˆ°Viewä¸Šï¼Œå¯ä»¥ç†è§£ä¸ºcenterXçš„å€¼ä¸çˆ¶çº§Viewçš„å®½åº¦æŒ‰æ¯”ä¾‹å¢å‡ã€‚  &lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œè¯»è€…å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œç›´æ¥è®¾ç½®ä¸€ä¸ªViewçš„è¾¹ç•Œã€ä½ç½®å±æ€§ï¼Œå¦‚centerXï¼Œç­‰äºå…¶çˆ¶çº§Viewçš„å®½åº¦æ˜¯ä¼šæŠ¥é”™çš„ã€‚&lt;/p&gt;
&lt;p&gt;éš¾é“å°±æ²¡æœ‰åŠæ³•äº†ï¼Ÿå½“ç„¶ä¸æ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å§‹ç»ˆåœ¨åæ ‡ç³»ä¸Šè€ƒè™‘çº¦æŸ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šä¸€ç¯‡&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;çš„å¼€å¤´æˆ‘ä¹Ÿæåˆ°è¿‡ï¼ŒAutolayoutæœ€ç»ˆéƒ½æ˜¯ä½“ç°åœ¨åæ ‡ç³»ä¸Šï¼Œä¸€åˆ‡éƒ½ä¼šæŒ‰ç…§&lt;code&gt;viewA-attribute = viewB-attribute * multiplier + constant&lt;/code&gt;è¿™ç§å…¬å¼å»è®¡ç®—ï¼Œæ—¢ç„¶centerXä¸èƒ½è·Ÿçˆ¶çº§çš„Widthå®½åº¦ä¸€èµ·åŠ çº¦æŸï¼Œé‚£å°±æ¢ä¸€ä¸ªï¼Œå¦‚çˆ¶çº§çš„&lt;strong&gt;å³è¾¹ç•Œ&lt;/strong&gt;ï¼Œçˆ¶çº§Viewçš„&lt;strong&gt;å³è¾¹ç•Œ&lt;/strong&gt;åœ¨çˆ¶çº§æœ¬èº«çš„å‚ç…§ç³»ä¸‹çš„Yåæ ‡å€¼ä¸å°±ç­‰äºå…¶å®½åº¦å—~&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼åŠ çº¦æŸï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_5.png&quot; alt=&quot;æŒ‰æ¯”ä¾‹è®¾ç½®multiplierå®ç°ç­‰é—´è·&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹åº”çš„ä»£ç ä¹Ÿä¼šå¼‚å¸¸ç®€å•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¾ªç¯åˆ›å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (NSUInteger i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;; i &amp;lt; ITEM_COUNT; i++) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIView *itemView = [self getItemViewWithIndex:i]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_containerView2 addSubview:itemView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [itemView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å®½é«˜ä¸€å®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.height.equalTo(@(ITEM_SIZE))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ç¡®å®šYåæ ‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.centerY.equalTo(_containerView2.mas_centerY)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ç¡®å®šXåæ ‡ï¼Œæ³¨æ„åˆ†å­åˆ†æ¯éƒ½è¦åŠ 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.centerX.equalTo(_containerView2.mas_right).multipliedBy(((CGFloat)i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) / ((CGFloat)ITEM_COUNT + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å°èŠ‚-2&quot;&gt;&lt;a href=&quot;#å°èŠ‚-2&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œçµæ´»çš„ä½¿ç”¨multiplierèƒ½å¤§å¤§ç®€åŒ–å¼€å‘~&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸‰ä¸ªä¾‹å­è¯´å®Œäº†ï¼Œä½ æœ‰å•¥æ”¶è·å‘¢~ï¼Ÿ:-D&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-06-02: æ„Ÿè°¢&lt;a href=&quot;http://weibo.com/u/2953626141&quot;&gt;æˆ‘ä¸æ˜¯èœ¡ç¬”å°æ–°ä½†æ˜¯æˆ‘æœ‰å°ç™½&lt;/a&gt;ï¼Œå‘ç°äº†Case 2çš„æœ€åä¸¤ä¸ªcellå±•å¼€åŠ¨ç”»é—®é¢˜ï¼ŒåŸæ¥æ˜¯tableViewçš„&lt;code&gt;estimatedRowHeight&lt;/code&gt;ä¼šè·Ÿå±•å¼€åŠ¨ç”»å†²çªçš„ç¼˜æ•…ã€‚  &lt;/li&gt;
&lt;li&gt;2015-12-23: æ„Ÿè°¢&lt;a href=&quot;https://github.com/XVXVXXX&quot;&gt;XVXVXXX&lt;/a&gt;çš„PR,Case 1ä¸å†éœ€è¦Fake Header Viewï¼Œç›´æ¥ç”¨contentInsetå°±å¥½~  &lt;/li&gt;
&lt;li&gt;2015-12-17ï¼šCase3çš„ç­‰é—´è·ï¼Œç”¨UIStackViewå®ç°æœ€ä¼˜é›…ï¼Œä½†æ˜¯æ— å¥ˆåªæœ‰iOS9ä»¥ä¸Šæ”¯æŒã€‚å…¼å®¹æ–¹æ¡ˆå¦‚OAStackViewä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åœ¨UITableViewCellé‡Œé¢ç”¨ï¼Œæˆ–è€…éœ€è¦é¢‘ç¹çš„å¢å‡å†…éƒ¨Viewçš„æ•°é‡æ—¶ï¼Œæ€§èƒ½æŸè€—æœ‰ç‚¹å‰å®³ï¼Œä¼šå¡ã€‚æ‰€ä»¥ï¼Œè¿˜æ˜¯è¦çœ‹éœ€æ±‚=ã€‚=&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸‰ç¯‡æ¥äº†ã€‚&lt;br&gt;ä¾ç„¶æ˜¯3ä¸ªå°ä¾‹å­ï¼Œä¸»è¦éƒ¨åˆ†ç”¨Masonryæ‰‹å†™ä»£ç å®ç°ï¼Œå…¶å®ƒçš„çº¦æŸåœ¨storyboardé‡Œé¢ç›´æ¥æ‹–æ‹½æ­å»ºã€‚&lt;br&gt;è‡³äºä¸ºå•¥ä¸ç”¨VFLï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒçš„â€œæè¿°æ€§â€çš„å†™æ³•å¾ˆå®¹æ˜“å‡ºé”™ï¼Œæ²¡æœ‰è¡¥å…¨ã€ä¸å¥½è°ƒè¯•ï¼Œå†™èµ·æ¥æ²¡æœ‰â€œä»£ç â€çš„æ„Ÿè§‰=ã€‚=ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä»è€…è§ä»æ™ºè€…è§æ™º~&lt;br&gt;ä¸‰ä¸ªä¾‹å­åˆ†åˆ«æ˜¯ï¼š&lt;strong&gt;Parallax Header&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŠ¨æ€å˜é«˜åº¦çš„UITableViewCell&lt;/strong&gt;ï¼Œä»¥åŠ&lt;strong&gt;ä¸¤ç§æ–¹å¼å®ç°ç­‰é—´è·&lt;/strong&gt;ã€‚åŸç†å…¶å®éƒ½å¾ˆç®€å•ï¼Œä¾‹å­ä¹Ÿéƒ½æ˜¯å¹³æ—¶ç§¯ç´¯èµ·æ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;å‰ä¸¤ç¯‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬å››ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry3_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Autolayout" scheme="http://tutuge.me/tags/Autolayout/"/>
    
      <category term="Masonry" scheme="http://tutuge.me/tags/Masonry/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå¼€æºé¡¹ç›®: TTGEmojiRateçš„å®ç°</title>
    <link href="http://tutuge.me/2015/10/25/ttgemojirate-lib/"/>
    <id>http://tutuge.me/2015/10/25/ttgemojirate-lib/</id>
    <published>2015-10-25T11:32:42.000Z</published>
    <updated>2016-08-07T06:18:41.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´åœ¨Dribbbleä¸Šå‘ç°äº†ä¸€ä¸ª&lt;a href=&quot;https://dribbble.com/shots/2211556-Rating-Version-A&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ratingæ§ä»¶&lt;/a&gt;çš„æ¼”ç¤ºåŠ¨ç”»ï¼Œæ§ä»¶ä»¥Emojiè¡¨æƒ…ä¸ºåŸºç¡€ï¼Œç»“åˆäº†ä¸Šä¸‹æ»‘åŠ¨æ‰‹åŠ¿ï¼Œæ­£å¥½æœ€è¿‘æ­£åœ¨æ·±å…¥å­¦ä¹ iOSåŠ¨ç”»ã€ç»˜å›¾ç›¸å…³çš„çŸ¥è¯†ï¼Œå°±å°è¯•ç€ç”¨&lt;code&gt;UIBezierPath&lt;/code&gt;å®ç°äº†å‡ºæ¥ã€‚æœ¬æ–‡å°±æ˜¯TTGEmojiRateçš„å®ç°è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGEmojiRate&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/TTGEmojiRate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGEmojiRate_screenshot2.gif&quot; alt=&quot;TTGEmojiRate Example&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;åˆ†æ&quot;&gt;&lt;a href=&quot;#åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ&quot;&gt;&lt;/a&gt;åˆ†æ&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹åŸæœ¬çš„æ•ˆæœï¼š&lt;a href=&quot;https://dribbble.com/shots/2211556-Rating-Version-A&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Rating Version A - Hoang Nguyen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGEmojiRate_Dribbble.gif&quot; alt=&quot;Rating Version A - Hoang Nguyen&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸»è¦çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ä¸Šä¸‹æ‹–åŠ¨ï¼Œæ”¹å˜Emojiè¡¨æƒ…å˜´çš„å¼§åº¦ã€‚&lt;/li&gt;
&lt;li&gt;æ‹–åŠ¨çš„æ—¶å€™Rateçš„å€¼ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œä»0åˆ°5ï¼Œå¹¶ä¸”è·Ÿè¡¨æƒ…çš„â€œå–œæ€’â€ç›¸å¯¹åº”ã€‚&lt;/li&gt;
&lt;li&gt;é¢œè‰²ä¹Ÿä¼šå˜åŒ–ï¼Œä»ç»¿è‰²åˆ°è“è‰²å†åˆ°çº¢è‰²ï¼Œä¹Ÿå¯¹åº”è¡¨æƒ…çš„â€œå–œæ€’â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®é™…å®ç°çš„æ—¶å€™ï¼Œå¢åŠ äº†çœ¼ç›å…ƒç´ ï¼Œå¹¶ä¸”å¢å¼ºäº†è‡ªå®šä¹‰ï¼Œå¦‚é¢œè‰²çš„å˜åŒ–èŒƒå›´ã€çº¿æ¡çš„ç²—ç»†ç­‰éƒ½å¯ä»¥è®¾å®šï¼ŒåŸºæœ¬çš„æ€è·¯è¿˜æ˜¯ä¸å˜çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°&quot;&gt;&lt;a href=&quot;#å®ç°&quot; class=&quot;headerlink&quot; title=&quot;å®ç°&quot;&gt;&lt;/a&gt;å®ç°&lt;/h2&gt;&lt;h3 id=&quot;æ€è·¯&quot;&gt;&lt;a href=&quot;#æ€è·¯&quot; class=&quot;headerlink&quot; title=&quot;æ€è·¯&quot;&gt;&lt;/a&gt;æ€è·¯&lt;/h3&gt;&lt;p&gt;å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œå…ˆç†ç†æ€è·¯ã€‚&lt;/p&gt;
&lt;p&gt;æ‹–åŠ¨çš„æ—¶å€™ï¼Œç›´æ¥å½±å“çš„åº”è¯¥æ˜¯Rateå€¼ï¼Œç„¶ååœ¨Rateå€¼æ”¹å˜çš„æ—¶å€™åˆ·æ–°æ•´ä¸ªæ§ä»¶ï¼Œåˆ·æ–°çš„æ—¶å€™é‡ç»˜ã€‚é‡ç»˜çš„æ—¶å€™ï¼Œå˜´ã€çœ¼ç›çš„å¼§åº¦ï¼Œé¢œè‰²çš„å€¼éƒ½è¦æ ¹æ®Rateå€¼é‡æ–°è®¡ç®—ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_ttgemojirate_1.png&quot; alt=&quot;Image&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ‹–åŠ¨æ”¹å˜Rateå€¼&quot;&gt;&lt;a href=&quot;#æ‹–åŠ¨æ”¹å˜Rateå€¼&quot; class=&quot;headerlink&quot; title=&quot;æ‹–åŠ¨æ”¹å˜Rateå€¼&quot;&gt;&lt;/a&gt;æ‹–åŠ¨æ”¹å˜Rateå€¼&lt;/h3&gt;&lt;p&gt;è¿™ä¸ªè¿˜æ˜¯å¾ˆå®¹æ˜“å®ç°çš„ï¼Œç›´æ¥é‡å†™&lt;code&gt;UIView&lt;/code&gt;çš„touchç›¸å…³çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œåœ¨é‡Œé¢è®°å½•æ‹–åŠ¨åœ¨Yè½´ä¸Šçš„å˜åŒ–å€¼ï¼Œç„¶åæ˜ å°„åˆ°Rateå€¼ä¸Šå°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆå£°æ˜ä¸€ä¸ªCGPointå±æ€§ï¼Œç”¨æ¥ä¿å­˜æ‰‹æŒ‡æŒ‰ä¸‹æ—¶çš„ç‚¹ä½ç½®ï¼š&lt;br&gt;&lt;figure class=&quot;highlight delphi&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; touchPoint: CGPoint? = &lt;span class=&quot;keyword&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ‰‹æŒ‡ç§»åŠ¨çš„æ—¶å€™ï¼Œåœ¨&lt;code&gt;touchesMoved&lt;/code&gt;æ–¹æ³•é‡Œé¢è®¡ç®—å½“å‰ç‚¹è·Ÿä¸Šä¸€æ¬¡è§¦æ‘¸ç‚¹çš„Yè½´ä¸Šçš„&lt;strong&gt;å·®å€¼&lt;/strong&gt;ï¼Œç„¶åæ˜ å°„åˆ°Rateå€¼ä¸Šã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;touchesMoved&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(touches: Set&amp;lt;UITouch&amp;gt;, withEvent event: UIEvent?)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è·å–å½“å‰è§¦æ‘¸ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; currentPoint = touches.first?.locationInView(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ”¹å˜Rateå€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rateValue = rateValue + &lt;span class=&quot;type&quot;&gt;Float&lt;/span&gt;((currentPoint!.y - touchPoint!.y) / &lt;span class=&quot;type&quot;&gt;CGRectGetHeight&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.bounds) * rateDragSensitivity)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¿å­˜å½“å‰è§¦æ‘¸ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    touchPoint = currentPoint&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—Yè½´å·®å€¼çš„æ—¶å€™ï¼Œé™¤ä»¥äº†å½“å‰æ§ä»¶çš„é«˜åº¦ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯Rateå€¼æŒ‰æ¯”ä¾‹å¢å‡ã€‚&lt;/li&gt;
&lt;li&gt;å¢åŠ äº†ä¸€ä¸ª&lt;code&gt;rateDragSensitivity&lt;/code&gt;å±æ€§ï¼Œç”¨æ¥è°ƒèŠ‚æ”¹å˜Rateå€¼çš„â€œçµæ•åº¦â€&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;UIBezierPath-è´å¡å°”æ›²çº¿&quot;&gt;&lt;a href=&quot;#UIBezierPath-è´å¡å°”æ›²çº¿&quot; class=&quot;headerlink&quot; title=&quot;UIBezierPath - è´å¡å°”æ›²çº¿&quot;&gt;&lt;/a&gt;UIBezierPath - è´å¡å°”æ›²çº¿&lt;/h3&gt;&lt;p&gt;æ§ä»¶çš„ä¸»è¦å†…å®¹éƒ½æ˜¯ç”¨&lt;code&gt;UIBezierPath&lt;/code&gt;ç»˜åˆ¶å‡ºæ¥çš„ã€‚ç½‘ä¸Šå…³äº&lt;code&gt;UIBezierPath&lt;/code&gt;çš„è®²è§£å¾ˆå¤šï¼Œåœ¨è¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œ&lt;code&gt;UIBezierPath&lt;/code&gt;ç”¨æ¥ç»˜åˆ¶çŸ¢é‡è·¯å¾„ï¼Œæ˜¯ä¸€ç§å‚æ•°æ›²çº¿ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å…ˆè®¾å®šå¥½é”šç‚¹ã€æ§åˆ¶ç‚¹ï¼Œç³»ç»Ÿå°±å¯ä»¥æ ¹æ®è´å¡å°”æ›²çº¿çš„ç®—æ³•ï¼Œç»˜åˆ¶å‡ºå¯¹åº”çš„çº¿ï¼Œå¹¶ä¸”ä¿è¯é”šç‚¹å’Œå¯¹åº”çš„æ§åˆ¶ç‚¹çš„è¿çº¿ä¸æ›²çº¿ç›¸åˆ‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸€ä¸ªæ¼”ç¤ºç»˜åˆ¶è´å¡å°”æ›²çº¿è¿‡ç¨‹çš„ç½‘ç«™ï¼š&lt;a href=&quot;http://myst729.github.io/bezier-curve/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;BÃ©zier curve&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;è„¸&quot;&gt;&lt;a href=&quot;#è„¸&quot; class=&quot;headerlink&quot; title=&quot;è„¸&quot;&gt;&lt;/a&gt;è„¸&lt;/h3&gt;&lt;p&gt;è„¸æ˜¯æœ€ç®€å•çš„ï¼Œå°±æ˜¯ä¸€ä¸ªåœ†ï¼Œç›´æ¥ç”¨ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;drawFaceWithRect&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(rect: CGRect)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; facePath = &lt;span class=&quot;type&quot;&gt;UIBezierPath&lt;/span&gt;(ovalInRect: rect)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rateColor.setStroke()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    facePath.lineWidth = rateLineWidth &lt;span class=&quot;comment&quot;&gt;// çº¿ç²—ç»†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    facePath.stroke()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®é™…å®ç°çš„æ—¶å€™å¯ä»¥åŠ ä¸ŠMarginï¼Œé˜²æ­¢çº¿ç”»åˆ°Viewçš„è¾¹ç•Œä¹‹å¤–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å˜´ã€çœ¼ç›&quot;&gt;&lt;a href=&quot;#å˜´ã€çœ¼ç›&quot; class=&quot;headerlink&quot; title=&quot;å˜´ã€çœ¼ç›&quot;&gt;&lt;/a&gt;å˜´ã€çœ¼ç›&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹&lt;code&gt;UIBezierPath&lt;/code&gt;æä¾›çš„å¯ä»¥ç”¨æ¥ç»˜åˆ¶æ›²çº¿çš„æ–¹æ³•ï¼š&lt;br&gt;&lt;code&gt;addCurveToPoint(_:controlPoint1:controlPoint2:)&lt;/code&gt;å’Œ&lt;code&gt;addQuadCurveToPoint(_:controlPoint:)&lt;/code&gt;ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_ttgemojirate_2.png&quot; alt=&quot;UIBezierPath&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç›´è§‚ä¸Šæ¥è®²ï¼Œå˜´ã€çœ¼ç›çš„ç»˜åˆ¶è·Ÿ&lt;code&gt;addQuadCurveToPoint&lt;/code&gt;æ–¹æ³•ç»˜åˆ¶çš„æ•ˆæœåŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯è¿™æ ·çš„æ•ˆæœæ²¡æ³•è°ƒæ•´ï¼Œå› ä¸ºåªèƒ½æ§åˆ¶å”¯ä¸€çš„ä¸€ä¸ªæ§åˆ¶ç‚¹ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦ç”¨&lt;code&gt;addCurveToPoint&lt;/code&gt;æ–¹æ³•ï¼Œå¯¹ç§°çš„ç»˜åˆ¶ä¸¤æ¡æ›²çº¿ï¼Œæ‹¼æ¥èµ·æ¥ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_ttgemojirate_3.png&quot; alt=&quot;Curveæ‹¼æ¥&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥é€šè¿‡è°ƒæ•´ä¸¤ä¸ªæ§åˆ¶ç‚¹ï¼Œæ¥æ§åˆ¶å˜´ã€çœ¼ç›çš„å¼¯æ›²å®½åº¦ã€å½¢çŠ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ç»˜åˆ¶å˜´ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private func drawMouthWithRect(&lt;span class=&quot;attribute&quot;&gt;rect&lt;/span&gt;: CGRect) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; width = CGRectGetWidth(&lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; height = CGRectGetWidth(&lt;span class=&quot;built_in&quot;&gt;rect&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å·¦ç«¯ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; leftPoint = CGPointMake(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        width * (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - rateMouthWidth) / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        height * (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - rateMouthVerticalPosition))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å³ç«¯ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; rightPoint = CGPointMake(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        width - leftPoint.x,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        leftPoint.y)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¸­é—´ç‚¹ - Yå€¼æ ¹æ®å½“å‰çš„Rateå€¼è®¡ç®—ï¼Œ0.3ä¸ºç³»æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; centerPoint = CGPointMake(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        width / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        leftPoint.y + height * &lt;span class=&quot;number&quot;&gt;0.3&lt;/span&gt; * (CGFloat(rateValue) - &lt;span class=&quot;number&quot;&gt;2.5&lt;/span&gt;) / &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ§åˆ¶ç‚¹è·Ÿä¸­é—´ç‚¹åœ¨Xè½´ä¸Šçš„è·ç¦»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; halfLipWidth = width * rateMouthWidth * rateLipWidth / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºè´å¡å°”æ›²çº¿&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; mouthPath = UIBezierPath()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ç§»åŠ¨åˆ°èµ·å§‹ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.moveToPoint(leftPoint)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ·»åŠ å·¦åŠè¾¹æ›²çº¿è·¯å¾„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.addCurveToPoint(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        centerPoint,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;controlPoint1&lt;/span&gt;: leftPoint,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;controlPoint2&lt;/span&gt;: CGPointMake(centerPoint.x - halfLipWidth, centerPoint.y))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ·»åŠ å³åŠè¾¹æ›²çº¿è·¯å¾„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.addCurveToPoint(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        rightPoint,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;controlPoint1&lt;/span&gt;: CGPointMake(centerPoint.x + halfLipWidth, centerPoint.y),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;controlPoint2&lt;/span&gt;: rightPoint)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è®¾å®šæ ·å¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.lineCapStyle = CGLineCap.Round;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rateColor.setStroke()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.lineWidth = rateLineWidth&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mouthPath.stroke()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰çš„è·ç¦»ã€åæ ‡éƒ½æ˜¯æ ¹æ®å½“å‰æ§ä»¶çš„å¤§å°è®¡ç®—å‡ºæ¥çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rateMouthWidth&lt;/code&gt;ä¸ºå˜´çš„å®½åº¦ä¸æ•´ä¸ªæ§ä»¶å®½åº¦çš„æ¯”å€¼ï¼Œå³ç›¸å¯¹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rateMouthVerticalPosition&lt;/code&gt;ä¸ºå˜´çš„å·¦å³ä¸¤ä¸ªç«¯ç‚¹çš„Yè½´åæ ‡å€¼ï¼Œä¹Ÿä¸ºç›¸å¯¹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rateLipWidth&lt;/code&gt;ä¸ºä¸­å¿ƒç‚¹çš„ä¸¤ä¸ªæ§åˆ¶ç‚¹çš„è·ç¦»ä¸å˜´å®½åº¦çš„æ¯”å€¼ï¼Œä¹Ÿæ˜¯ç›¸å¯¹å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çœ¼ç›çš„ç»˜åˆ¶è·Ÿå˜´åŸç†ä¸€è‡´ï¼Œå°±ä¸å†è¯´æ˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é¢œè‰²çš„æ¸å˜&quot;&gt;&lt;a href=&quot;#é¢œè‰²çš„æ¸å˜&quot; class=&quot;headerlink&quot; title=&quot;é¢œè‰²çš„æ¸å˜&quot;&gt;&lt;/a&gt;é¢œè‰²çš„æ¸å˜&lt;/h3&gt;&lt;p&gt;Dribbbleçš„æ¼”ç¤ºä¸­ï¼Œæ§ä»¶çš„çº¿æ¡é¢œè‰²ä¹Ÿæ˜¯ä¼šå˜åŒ–çš„ï¼Œä»çº¢è‰²åˆ°è“è‰²å†åˆ°ç»¿è‰²ï¼Œæ˜¯è¿ç»­å˜åŒ–çš„ã€‚è¿™ä¸ªæ—¶å€™ç”¨å¸¸è§çš„&lt;strong&gt;RGBè‰²å½©æ¨¡å¼&lt;/strong&gt;æ˜¯ä¸å¥½æ§åˆ¶çš„ï¼Œæ•ˆæœä¹Ÿä¸å¥½ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¿™ä¸ªæ—¶å€™è¦ç”¨&lt;strong&gt;HSBè‰²å½©æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HSB è‰²å½©æ¨¡å¼æ˜¯åŸºäºäººçœ¼çš„ä¸€ç§é¢œè‰²æ¨¡å¼ã€‚æ˜¯æ™®åŠå‹è®¾è®¡è½¯ä»¶ä¸­å¸¸è§çš„è‰²å½©æ¨¡å¼ï¼Œå…¶ä¸­Hä»£è¡¨è‰²ç›¸ï¼›Sä»£è¡¨é¥±å’Œåº¦ï¼›Bä»£è¡¨äº®åº¦ã€‚- &lt;a href=&quot;http://baike.baidu.com/view/1006662.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç™¾åº¦ç™¾ç§‘&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_ttgemojirate_4.jpg?imageView2/1/w/240/h/192&quot; alt=&quot;HSBè‰²å½©æ¨¡å¼&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹åº”åˆ°&lt;code&gt;UIColor&lt;/code&gt;ç±»ï¼Œå°±æ˜¯ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight processing&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºUIColor&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;init(&lt;span class=&quot;built_in&quot;&gt;hue&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;hue&lt;/span&gt;: CGFloat, &lt;span class=&quot;built_in&quot;&gt;saturation&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;saturation&lt;/span&gt;: CGFloat, &lt;span class=&quot;built_in&quot;&gt;brightness&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;brightness&lt;/span&gt;: CGFloat, &lt;span class=&quot;built_in&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;alpha&lt;/span&gt;: CGFloat)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è·å–HSBå€¼ï¼Œæ³¨æ„å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;func getHue(_ &lt;span class=&quot;built_in&quot;&gt;hue&lt;/span&gt;: UnsafeMutablePointer&amp;lt;CGFloat&amp;gt;, &lt;span class=&quot;built_in&quot;&gt;saturation&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;saturation&lt;/span&gt;: UnsafeMutablePointer&amp;lt;CGFloat&amp;gt;, &lt;span class=&quot;built_in&quot;&gt;brightness&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;brightness&lt;/span&gt;: UnsafeMutablePointer&amp;lt;CGFloat&amp;gt;, &lt;span class=&quot;built_in&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;alpha&lt;/span&gt;: UnsafeMutablePointer&amp;lt;CGFloat&amp;gt;) -&amp;gt; Bool&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å®ç°çš„æ—¶å€™ï¼Œä¸ºäº†å¢åŠ å¯å®šåˆ¶æ€§ï¼Œæ§ä»¶é¢œè‰²çš„å˜åŒ–èŒƒå›´æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œç”¨ä»¥ä¸‹å±æ€§ä¿å­˜ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; var &lt;span class=&quot;string&quot;&gt;rateColorRange:&lt;/span&gt; (&lt;span class=&quot;string&quot;&gt;from:&lt;/span&gt; UIColor, &lt;span class=&quot;string&quot;&gt;to:&lt;/span&gt; UIColor)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆ·æ–°æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®å½“å‰çš„Rateå€¼ï¼Œé‡æ–°è®¡ç®—é¢œè‰²çš„HSBå’Œalphaå€¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;rate&lt;/span&gt;: CGFloat = CGFloat(rateValue / &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// Rateå€¼å½’ä¸€åŒ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.rateColor = UIColor.init(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;hue&lt;/span&gt;: hueFrom + hueDelta * rate, &lt;span class=&quot;comment&quot;&gt;// è‰²ç›¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;saturation&lt;/span&gt;: saturationFrom + saturationDelta * rate, &lt;span class=&quot;comment&quot;&gt;// é¥±å’Œåº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;brightness&lt;/span&gt;: brightnessFrom + brightnessDelta * rate, &lt;span class=&quot;comment&quot;&gt;// äº®åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;alpha&lt;/span&gt;: alphaFrom + alphaDelta * rate &lt;span class=&quot;comment&quot;&gt;// é€æ˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰çš„é¢œè‰²å‚æ•°éƒ½æ˜¯æ ¹æ®Rateå€¼åšçº¿æ€§å¢å‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xxxFrom&lt;/code&gt;ã€&lt;code&gt;xxxDelta&lt;/code&gt;åˆ†åˆ«æŒ‡HSBå’Œalphaçš„èµ·å§‹å€¼ä¸å˜åŒ–èŒƒå›´ï¼Œåœ¨è®¾ç½®&lt;code&gt;rateColorRange&lt;/code&gt;æ—¶è®¡ç®—ä¿å­˜ä¸‹æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·ï¼Œé¢œè‰²å°±èƒ½åšåˆ°è·ŸRateå€¼åšè¿ç»­çš„çº¿æ€§å˜åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å–„äºä½¿ç”¨didSet&quot;&gt;&lt;a href=&quot;#å–„äºä½¿ç”¨didSet&quot; class=&quot;headerlink&quot; title=&quot;å–„äºä½¿ç”¨didSet&quot;&gt;&lt;/a&gt;å–„äºä½¿ç”¨didSet&lt;/h3&gt;&lt;p&gt;å®ç°æ§ä»¶çš„æ—¶å€™ï¼Œå¯¹å¤–æš´éœ²äº†å¾ˆå¤šå±æ€§ï¼Œå¦‚çº¿çš„å®½åº¦&lt;code&gt;rateLineWidth&lt;/code&gt;ã€å˜´çš„å®½åº¦&lt;code&gt;rateMouthWidth&lt;/code&gt;ç­‰ã€‚ä¸ºäº†å¯¹è¿™äº›å±æ€§åšæ ¡éªŒï¼Œå¹¶ä¸”åœ¨è®¾ç½®ååˆ·æ–°æ§ä»¶ï¼Œå°±è¦ç”¨åˆ°&lt;code&gt;didSet&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;didSet&lt;/code&gt;åœ¨Swifté‡Œé¢ï¼Œè·Ÿç±»çš„å±æ€§æ˜¯ä¸€ä¸€ç»‘å®šçš„ï¼Œåœ¨å¯¹å±æ€§èµ‹å€¼åä¼šè¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ§ä»¶çš„å¤§éƒ¨åˆ†å±æ€§éƒ½åšäº†æ ¡éªŒã€åˆ·æ–°ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/// Mouth width. From 0.2 to 0.7.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@IBInspectable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rateMouthWidth: &lt;span class=&quot;type&quot;&gt;CGFloat&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0.6&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;didSet&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// åˆ¤æ–­ä¸Šé™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; rateMouthWidth &amp;gt; &lt;span class=&quot;number&quot;&gt;0.7&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rateMouthWidth = &lt;span class=&quot;number&quot;&gt;0.7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// åˆ¤æ–­ä¸‹é™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; rateMouthWidth &amp;lt; &lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rateMouthWidth = &lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// åˆ·æ–°ã€é‡ç»˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.setNeedsDisplay()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;IBDesignableã€-IBInspectable&quot;&gt;&lt;a href=&quot;#IBDesignableã€-IBInspectable&quot; class=&quot;headerlink&quot; title=&quot;@IBDesignableã€@IBInspectable&quot;&gt;&lt;/a&gt;@IBDesignableã€@IBInspectable&lt;/h3&gt;&lt;p&gt;ä¸ºäº†èƒ½åœ¨XIBã€StoryBoardé‡Œé¢ä½¿ç”¨ã€ç¼–è¾‘æ§ä»¶ï¼Œå°±è¦ç”¨åˆ°&lt;code&gt;@IBDesignable&lt;/code&gt;å’Œ&lt;code&gt;@IBInspectable&lt;/code&gt;è¿™ä¸¤ä¸ªå…³é”®å­—ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç±»çš„å‰é¢åŠ ä¸Š&lt;code&gt;@IBDesignable&lt;/code&gt;å…³é”®å­—ï¼Œä½¿IBå¯ä»¥é¢„è§ˆæ§ä»¶ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight kotlin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@IBDesignable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;EmojiRateView&lt;/span&gt;: &lt;span class=&quot;type&quot;&gt;UIView &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨å±æ€§å‰é¢åŠ ä¸Š&lt;code&gt;@IBInspectable&lt;/code&gt;ï¼Œå°±å¯ä»¥åœ¨IBé‡Œé¢ç¼–è¾‘å±æ€§ï¼Œå®æ—¶é¢„è§ˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@IBInspectable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; var &lt;span class=&quot;string&quot;&gt;rateLineWidth:&lt;/span&gt; CGFloat = &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯¦ç»†çš„ä½¿ç”¨å¯ä»¥å‚è€ƒNSHipsterä¸Šçš„æ–‡ç« ï¼š&lt;a href=&quot;http://nshipster.cn/ibinspectable-ibdesignable/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;IBInspectable / IBDesignable&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œåœ¨IBé‡Œé¢å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;br&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGEmojiRate_IBExample.png?imageView2/0/w/640&quot; alt=&quot;IB example&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;By the way =ã€‚=&lt;/strong&gt;&lt;br&gt;å±æ€§åå­—å¤ªé•¿ï¼Œåœ¨IBé‡Œé¢æ˜¾ç¤ºä¸å®Œæ•´ï¼Œå’‹åŠã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å›è°ƒ&quot;&gt;&lt;a href=&quot;#å›è°ƒ&quot; class=&quot;headerlink&quot; title=&quot;å›è°ƒ&quot;&gt;&lt;/a&gt;å›è°ƒ&lt;/h3&gt;&lt;p&gt;æ‹–åŠ¨æ”¹å˜Rateå€¼çš„æ—¶å€™ï¼Œè‚¯å®šè¦æœ‰å›è°ƒï¼Œå¦‚ä¸‹å®šä¹‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight kotlin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rateValueChangeCallback&lt;/span&gt;: ((newRateValue: &lt;span class=&quot;keyword&quot;&gt;Float&lt;/span&gt;) -&amp;gt; &lt;span class=&quot;keyword&quot;&gt;Void&lt;/span&gt;)? = nil&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨&lt;code&gt;rateValue&lt;/code&gt;çš„&lt;code&gt;didSet&lt;/code&gt;é‡Œé¢å›è°ƒï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@IBInspectable&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rateValue: &lt;span class=&quot;type&quot;&gt;Float&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;2.5&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;didSet&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.rateValueChangeCallback?(newRateValue: rateValue)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;çœ‹ä¼¼ç®€å•çš„ä¸€ä¸ªRatingæ§ä»¶ï¼Œä»æ„æ€åˆ°å®ç°ï¼Œå†åˆ°å®Œå–„ï¼Œä¸€ç‚¹ä¸€ç‚¹æœç€å®Œç¾å»åšï¼Œæ”¶è·ä¸å°‘~&lt;/p&gt;
&lt;p&gt;æœ€åï¼ŒDribbbleæ˜¯ä¸ªå¥½åœ°æ–¹ï¼Œè´å¡å°”æ›²çº¿å¥½å¼ºå¤§ï¼ŒXCode 7.1å†™Swiftè¿˜æ˜¯æœ‰ç‚¹å¡=ã€‚=&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E8%B2%9D%E8%8C%B2%E6%9B%B2%E7%B7%9A&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç»´åŸºç™¾ç§‘ - è´å¡å°”æ›²çº¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/2DDrawing/Conceptual/DrawingPrintingiOS/BezierPaths/BezierPaths.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Drawing Shapes Using BÃ©zier Paths&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://baike.baidu.com/view/1006662.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HSBè‰²å½©æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nshipster.cn/ibinspectable-ibdesignable/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;IBInspectable / IBDesignable&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´åœ¨Dribbbleä¸Šå‘ç°äº†ä¸€ä¸ª&lt;a href=&quot;https://dribbble.com/shots/2211556-Rating-Version-A&quot;&gt;Ratingæ§ä»¶&lt;/a&gt;çš„æ¼”ç¤ºåŠ¨ç”»ï¼Œæ§ä»¶ä»¥Emojiè¡¨æƒ…ä¸ºåŸºç¡€ï¼Œç»“åˆäº†ä¸Šä¸‹æ»‘åŠ¨æ‰‹åŠ¿ï¼Œæ­£å¥½æœ€è¿‘æ­£åœ¨æ·±å…¥å­¦ä¹ iOSåŠ¨ç”»ã€ç»˜å›¾ç›¸å…³çš„çŸ¥è¯†ï¼Œå°±å°è¯•ç€ç”¨&lt;code&gt;UIBezierPath&lt;/code&gt;å®ç°äº†å‡ºæ¥ã€‚æœ¬æ–‡å°±æ˜¯TTGEmojiRateçš„å®ç°è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGEmojiRate&quot;&gt;https://github.com/zekunyan/TTGEmojiRate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGEmojiRate_screenshot2.gif&quot; alt=&quot;TTGEmojiRate Example&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="å¼€æº" scheme="http://tutuge.me/tags/%E5%BC%80%E6%BA%90/"/>
    
      <category term="Swift" scheme="http://tutuge.me/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå†™çš„åº“-TTGSnackbar</title>
    <link href="http://tutuge.me/2015/10/09/ttgsnackbar-lib/"/>
    <id>http://tutuge.me/2015/10/09/ttgsnackbar-lib/</id>
    <published>2015-10-09T11:49:09.000Z</published>
    <updated>2016-10-30T16:30:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-10-20: å¢åŠ ContentInsetï¼Œä¹Ÿå°±æ˜¯Paddingçš„å±æ€§ï¼›å¢åŠ è‡ªå®šä¹‰å†…å®¹View&lt;/li&gt;
&lt;li&gt;2016-10-17: æ”¯æŒSwift3ï¼›å¢åŠ çš„é¡¶éƒ¨Topä½ç½®åŠ¨ç”»ï¼›å¢åŠ åŒæ—¶ä¸¤ä¸ªActionæŒ‰é’®ï¼›å¢åŠ å¸¦å›¾ç‰‡iconæ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;2016-03-25: ç‰ˆæœ¬æ›´æ–°åˆ°äº†0.5.1ï¼Œè¡¥å……äº›è¯´æ˜ã€ç¤ºä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;TTGSnackbar&quot;&gt;&lt;a href=&quot;#TTGSnackbar&quot; class=&quot;headerlink&quot; title=&quot;TTGSnackbar&quot;&gt;&lt;/a&gt;TTGSnackbar&lt;/h2&gt;&lt;p&gt;ç”¨Swiftå†™äº†ä¸ªç®€å•çš„æ§ä»¶åº“ï¼šTTGSnackbarï¼Œæ¨¡ä»¿Androidçš„Snackbarã€‚ç›®å‰æ›´æ–°åˆ°äº†ç‰ˆæœ¬0.5.1ã€‚æ”¯æŒå¤šç§åŠ¨ç”»ï¼Œå¢å¼ºäº†è‡ªå®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGSnackbar&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/TTGSnackbar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_screen_shot.png&quot; alt=&quot;Screenshot&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gif&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_example.gif?imageView2/2/w/400/q/100&quot; alt=&quot;Screenshot&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h2&gt;&lt;p&gt;éœ€è¦Swift3, Xcode8, iOS 8+  &lt;/p&gt;
&lt;h3 id=&quot;CocoaPods&quot;&gt;&lt;a href=&quot;#CocoaPods&quot; class=&quot;headerlink&quot; title=&quot;CocoaPods&quot;&gt;&lt;/a&gt;CocoaPods&lt;/h3&gt;&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;platform &lt;span class=&quot;symbol&quot;&gt;:ios&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;8.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;use_frameworks!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod &lt;span class=&quot;string&quot;&gt;&quot;TTGSnackbar&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Carthage&quot;&gt;&lt;a href=&quot;#Carthage&quot; class=&quot;headerlink&quot; title=&quot;Carthage&quot;&gt;&lt;/a&gt;Carthage&lt;/h3&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;github&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;zekunyan/TTGSnackbar&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹&quot;&gt;&lt;a href=&quot;#ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹&quot;&gt;&lt;/a&gt;ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹&lt;/h2&gt;&lt;h3 id=&quot;åªæ˜¾ç¤ºæ–‡å­—&quot;&gt;&lt;a href=&quot;#åªæ˜¾ç¤ºæ–‡å­—&quot; class=&quot;headerlink&quot; title=&quot;åªæ˜¾ç¤ºæ–‡å­—&quot;&gt;&lt;/a&gt;åªæ˜¾ç¤ºæ–‡å­—&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_2.png&quot; alt=&quot;Example&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; snackbar = TTGSnackbar.init(&lt;span class=&quot;attribute&quot;&gt;message&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Message&quot;&lt;/span&gt;, &lt;span class=&quot;attribute&quot;&gt;duration&lt;/span&gt;: .Short)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªåŠ¨ä½œæŒ‰é’®&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªåŠ¨ä½œæŒ‰é’®&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªåŠ¨ä½œæŒ‰é’®&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªåŠ¨ä½œæŒ‰é’®&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_3.png&quot; alt=&quot;Example&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight livescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; snackbar = TTGSnackbar.init(message: &lt;span class=&quot;string&quot;&gt;&quot;Message&quot;&lt;/span&gt;, duration: .Middle, actionText: &lt;span class=&quot;string&quot;&gt;&quot;Action&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;(snackbar)&lt;/span&gt; -&amp;gt;&lt;/span&gt; Void &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(&lt;span class=&quot;string&quot;&gt;&quot;Click action!&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªè€—æ—¶æ“ä½œæŒ‰é’®&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªè€—æ—¶æ“ä½œæŒ‰é’®&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªè€—æ—¶æ“ä½œæŒ‰é’®&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºæ–‡å­—å’Œä¸€ä¸ªè€—æ—¶æ“ä½œæŒ‰é’®&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_5.png&quot; alt=&quot;Example&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; snackbar = TTGSnackbar.init(message: &lt;span class=&quot;string&quot;&gt;&quot;Message&quot;&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;duration&lt;/span&gt;: .Forever, actionText: &lt;span class=&quot;string&quot;&gt;&quot;Action&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; (snackbar) -&amp;gt; &lt;span class=&quot;literal&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(&lt;span class=&quot;string&quot;&gt;&quot;Click action!&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Dismiss manually after 3 seconds&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, Int64(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; * Double(NSEC_PER_SEC))), dispatch_get_main_queue()) &amp;#123; () -&amp;gt; &lt;span class=&quot;literal&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        snackbar.dismiss()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸¤ä¸ªåŠ¨ä½œæŒ‰é’®&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºæ–‡å­—å’Œä¸¤ä¸ªåŠ¨ä½œæŒ‰é’®&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºæ–‡å­—å’Œä¸¤ä¸ªåŠ¨ä½œæŒ‰é’®&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºæ–‡å­—å’Œä¸¤ä¸ªåŠ¨ä½œæŒ‰é’®&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_9.png&quot; alt=&quot;Example&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;let snackbar: TTGSnackbar = TTGSnackbar.init(message: &lt;span class=&quot;string&quot;&gt;&quot;Two actions !&quot;&lt;/span&gt;, duration: .Long)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Action 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.actionText&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;Yes&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.actionTextColor&lt;/span&gt; = UIColor.greenColor()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.actionBlock&lt;/span&gt; = &amp;#123; (snackbar) &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; NSLog(&lt;span class=&quot;string&quot;&gt;&quot;Click Yes !&quot;&lt;/span&gt;) &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Action 2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.secondActionText&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;No&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.secondActionTextColor&lt;/span&gt; = UIColor.yellowColor()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar&lt;span class=&quot;selector-class&quot;&gt;.secondActionBlock&lt;/span&gt; = &amp;#123; (snackbar) &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; NSLog(&lt;span class=&quot;string&quot;&gt;&quot;Click No !&quot;&lt;/span&gt;) &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ˜¾ç¤ºæ–‡å­—å’Œå›¾ç‰‡ICON&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºæ–‡å­—å’Œå›¾ç‰‡ICON&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºæ–‡å­—å’Œå›¾ç‰‡ICON&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºæ–‡å­—å’Œå›¾ç‰‡ICON&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://github.com/zekunyan/TTGSnackbar/raw/master/Resources/snackbar_5.jpg&quot; alt=&quot;Example&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;snackbar&lt;/span&gt;: TTGSnackbar = TTGSnackbar.init(&lt;span class=&quot;attribute&quot;&gt;message&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Two actions !&quot;&lt;/span&gt;, &lt;span class=&quot;attribute&quot;&gt;duration&lt;/span&gt;: .Long)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Add icon image&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.icon = UIImage.init(&lt;span class=&quot;attribute&quot;&gt;named&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;emoji_cool_small&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;snackbar.show()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;è‡ªå®šä¹‰&quot;&gt;&lt;a href=&quot;#è‡ªå®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå®šä¹‰&quot;&gt;&lt;/a&gt;è‡ªå®šä¹‰&lt;/h2&gt;&lt;p&gt;å¯ä»¥è‡ªå®šä¹‰æ–‡å­—çš„å­—ä½“ã€é¢œè‰²ï¼ŒåŠ¨ä½œæŒ‰é’®çš„å­—ä½“ã€é¢œè‰²ï¼Œå›è°ƒç­‰ç­‰ï¼Œè¯¦ç»†çš„è¯·çœ‹Githubçš„READMEè¯´æ˜ã€‚ğŸ˜Š&lt;/p&gt;
&lt;h2 id=&quot;æ€»ä¹‹&quot;&gt;&lt;a href=&quot;#æ€»ä¹‹&quot; class=&quot;headerlink&quot; title=&quot;æ€»ä¹‹&quot;&gt;&lt;/a&gt;æ€»ä¹‹&lt;/h2&gt;&lt;p&gt;ä¸€æ—¶å…´èµ·å†™äº†ä¸ªç®€å•çš„åº“ï¼Œåæ¥å‘ç°å±…ç„¶æœ‰äººæäº¤PRã€issueï¼Œä¸æ•¢æ€ æ…¢å•Šï¼Œä¹Ÿå°±åšæŒäº†ä¸‹æ¥ï¼Œæ–­æ–­ç»­ç»­æ›´æ–°äº†10ä¸ªå°ç‰ˆæœ¬äº†=ã€‚=ï¼ˆ2016å¹´3æœˆ25å·ï¼Œ25å‘¨å²å‰ä¸€å¤©-_-|||ï¼‰&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-10-20: å¢åŠ ContentInsetï¼Œä¹Ÿå°±æ˜¯Paddingçš„å±æ€§ï¼›å¢åŠ è‡ªå®šä¹‰å†…å®¹View&lt;/li&gt;
&lt;li&gt;2016-10-17: æ”¯æŒSwift3ï¼›å¢åŠ çš„é¡¶éƒ¨Topä½ç½®åŠ¨ç”»ï¼›å¢åŠ åŒæ—¶ä¸¤ä¸ªActionæŒ‰é’®ï¼›å¢åŠ å¸¦å›¾ç‰‡iconæ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;2016-03-25: ç‰ˆæœ¬æ›´æ–°åˆ°äº†0.5.1ï¼Œè¡¥å……äº›è¯´æ˜ã€ç¤ºä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;TTGSnackbar&quot;&gt;&lt;a href=&quot;#TTGSnackbar&quot; class=&quot;headerlink&quot; title=&quot;TTGSnackbar&quot;&gt;&lt;/a&gt;TTGSnackbar&lt;/h2&gt;&lt;p&gt;ç”¨Swiftå†™äº†ä¸ªç®€å•çš„æ§ä»¶åº“ï¼šTTGSnackbarï¼Œæ¨¡ä»¿Androidçš„Snackbarã€‚ç›®å‰æ›´æ–°åˆ°äº†ç‰ˆæœ¬0.5.1ã€‚æ”¯æŒå¤šç§åŠ¨ç”»ï¼Œå¢å¼ºäº†è‡ªå®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;Github: &lt;a href=&quot;https://github.com/zekunyan/TTGSnackbar&quot;&gt;https://github.com/zekunyan/TTGSnackbar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_screen_shot.png&quot; alt=&quot;Screenshot&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gif&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/TTGSnackbar_example.gif?imageView2/2/w/400/q/100&quot; alt=&quot;Screenshot&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="å¼€æº" scheme="http://tutuge.me/tags/%E5%BC%80%E6%BA%90/"/>
    
      <category term="Swift" scheme="http://tutuge.me/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°</title>
    <link href="http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/"/>
    <id>http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/</id>
    <published>2015-08-07T16:55:52.000Z</published>
    <updated>2016-08-09T16:49:36.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Masonryå†™çš„Autolayoutç¤ºä¾‹åˆæ¥äº†ï¼Œä»ç„¶æ˜¯ä¸‰ä¸ªå°ä¾‹å­ï¼Œåˆ†åˆ«æ˜¯&lt;strong&gt;å˜é«˜åº¦çš„UITableViewCellã€topLayoutGuideä¸bottomLayoutGuideï¼Œè¿˜æœ‰è‡ªå®šä¹‰çš„baseline&lt;/strong&gt;ï¼Œå¤–åŠ ä¸¤ä¸ªåŸºæœ¬çš„çŸ¥è¯†ç‚¹è®²è§£ï¼Œè¯´ä¸ä¸Šâ€œæœ‰è¶£â€=ã€‚=ï¼Œæ¯”è¾ƒåŸºç¡€ï¼Œå†™äº†å¾ˆå¤šï¼Œå„ä½éšæ„çœ‹çœ‹å§~&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡: &lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ç¯‡: &lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬å››ç¯‡: &lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;çŸ¥è¯†ç‚¹&quot;&gt;&lt;a href=&quot;#çŸ¥è¯†ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;çŸ¥è¯†ç‚¹&quot;&gt;&lt;/a&gt;çŸ¥è¯†ç‚¹&lt;/h2&gt;&lt;p&gt;å…ˆè®²è®²ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼Œå¾ˆåŸºç¡€ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“è¢«å¿½ç•¥ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åæ ‡ç³»ã€topã€rightã€offset&quot;&gt;&lt;a href=&quot;#åæ ‡ç³»ã€topã€rightã€offset&quot; class=&quot;headerlink&quot; title=&quot;åæ ‡ç³»ã€topã€rightã€offset&quot;&gt;&lt;/a&gt;åæ ‡ç³»ã€topã€rightã€offset&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹Masonryçš„Githubä¸»é¡µçš„ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UIEdgeInsets padding = UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[view1 mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(superview.mas_top).&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt;(padding.top);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.equalTo(superview.mas_left).&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt;(padding.left);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.equalTo(superview.mas_bottom).&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt;(-padding.bottom);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.right.equalTo(superview.mas_right).&lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;offset&lt;/span&gt;(-padding.right);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»£ç çš„æ„æ€å¾ˆç®€å•ï¼Œå°±æ˜¯view1çš„ä¸Šä¸‹å·¦å³è¾¹è·ä¸ºpaddingå¯¹åº”çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆbottomã€rightçš„offsetæ˜¯&lt;strong&gt;è´Ÿæ•°&lt;/strong&gt;å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®æ— è®ºæ˜¯Autolayoutè¿˜æ˜¯ç›´æ¥å†™frameï¼Œæœ€ç»ˆçš„ç»“æœéƒ½æ˜¯è¦æŠŠæˆ‘ä»¬çš„æ§ä»¶æŒ‰ç…§æ­£ç¡®çš„ä½ç½®ç»˜åˆ¶åœ¨å±å¹•ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªç»Ÿä¸€çš„åæ ‡ç³»ä¸‹ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_2.png&quot; alt=&quot;åæ ‡ç³»&quot;&gt;&lt;/p&gt;
&lt;p&gt;è€Œåœ¨Masonryé‡Œé¢ï¼Œoffsetåªæ˜¯åšäº†â€œåŠ æ³•â€è¿ç®—ï¼Œä¸¾ä¸ªä¾‹ï¼Œä¸Šé¢çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.top&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.equalTo&lt;/span&gt;(&lt;span class=&quot;selector-tag&quot;&gt;superview&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.mas_top&lt;/span&gt;)&lt;span class=&quot;selector-class&quot;&gt;.with&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.offset&lt;/span&gt;(&lt;span class=&quot;selector-tag&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.top&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶å®ç­‰äºä¸‹é¢çš„å¼å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;view1.top = superview.top + padding.top&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è½¬æ¢åˆ°åæ ‡ç³»é‡Œé¢ï¼Œå³æ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;view1é¡¶éƒ¨çš„yåæ ‡ = superviewé¡¶éƒ¨çš„yåæ ‡ + padding.top&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³view1çš„bottomè·åº•éƒ¨é—´è·ä¸º10ï¼ŒæŒ‰ç…§offsetçš„â€œåŠ æ³•è¿ç®—â€ï¼Œåº”è¯¥æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;view1åº•éƒ¨çš„yåæ ‡ = superviewåº•éƒ¨çš„yåæ ‡ + (-&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä»£ç é‡Œé¢çš„bottomçš„offsetæ˜¯è´Ÿæ•°ã€‚rightä¹Ÿæ˜¯ä¸€ä¸ªé“ç†ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯å¸ƒå±€çš„æ—¶å€™ï¼Œå§‹ç»ˆè¦åœ¨åæ ‡ç³»ä¸‹è€ƒè™‘ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çº¦æŸçš„â€œç­‰ä»·â€æ€§&quot;&gt;&lt;a href=&quot;#çº¦æŸçš„â€œç­‰ä»·â€æ€§&quot; class=&quot;headerlink&quot; title=&quot;çº¦æŸçš„â€œç­‰ä»·â€æ€§&quot;&gt;&lt;/a&gt;çº¦æŸçš„â€œç­‰ä»·â€æ€§&lt;/h3&gt;&lt;p&gt;è¯­æ–‡ä¸å¥½ï¼Œè¿˜æ˜¯ç”¨å…¬å¼è¯´æ˜å§=ã€‚=&lt;br&gt;å…ˆçœ‹çœ‹Autolayoutçš„åŸºæœ¬å…¬å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;viewA-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; = viewB-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; * multiplier + &lt;span class=&quot;keyword&quot;&gt;constant&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªå…¬å¼ï¼Œè·Ÿä¸‹é¢çš„æ˜¯ç­‰ä»·çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;viewB-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; = (viewA-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; - &lt;span class=&quot;keyword&quot;&gt;constant&lt;/span&gt;) / multiplier&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªè½¬æ¢æ˜¯å¦‚æ­¤çš„ç®€å•ï¼Œå°å­¦ç”Ÿéƒ½ä¼š=ã€‚=ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®çº¦æŸçš„æ—¶å€™ï¼Œæ—¢å¯ä»¥ä»ViewAçš„è§’åº¦è€ƒè™‘ï¼Œä¹Ÿå¯ä»¥ä»ViewBçš„è§’åº¦ï¼Œä¸¤è€…å®Œå…¨&lt;strong&gt;ç­‰ä»·&lt;/strong&gt;ï¼ã€‚&lt;/p&gt;
&lt;p&gt;è¯´ç™½äº†å°±æ˜¯ï¼šâ€œViewAè·ŸViewBç›¸è·10â€å’Œâ€œViewBè·ŸViewAç›¸è·10â€æ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸‹ä¸¤æ®µä»£ç ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ˆæ³¨æ„æ­£è´Ÿæ•°ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// View2çš„é¡¶éƒ¨è·ç¦»View1çš„åº•éƒ¨10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[view2 mas_makeConstraints:^(MASConstraintMaker *&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.top.equalTo(view1.mas_bottom).with.offset(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// View1çš„åº•éƒ¨è·ç¦»View2çš„é¡¶éƒ¨10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[view1 mas_makeConstraints:^(MASConstraintMaker *&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.bottom.equalTo(view2.mas_top).with.offset(&lt;span class=&quot;number&quot;&gt;-10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ›´è¿›ä¸€æ­¥è¯´ï¼Œå°±æ˜¯çº¦æŸåªæ˜¯ä¸¤ä¸ªViewä¹‹é—´çš„å…³ç³»ï¼Œå¯¹äºç³»ç»Ÿæ¥è¯´ï¼ŒViewAå’ŒViewBçš„åœ°ä½æ˜¯&lt;strong&gt;å¹³ç­‰&lt;/strong&gt;çš„ï¼Œæˆ‘ä»¬è®¾ç½®çº¦æŸçš„æ—¶å€™ï¼Œæ²¡æœ‰&lt;strong&gt;ä¸»æ¬¡&lt;/strong&gt;ä¹‹åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®çº¦æŸçš„æ—¶å€™ï¼Œè¦ä»â€œ&lt;strong&gt;æ•´ä½“&lt;/strong&gt;â€ã€â€œ&lt;strong&gt;å®è§‚&lt;/strong&gt;â€ä¸Šè€ƒè™‘ï¼Œæ›´å¥½åœ°æŠŠæ¡å¸ƒå±€ï¼Œé¿å…é‡å¤çº¦æŸã€‚&lt;/p&gt;
&lt;h2 id=&quot;Case-1-å˜é«˜UITableViewCell&quot;&gt;&lt;a href=&quot;#Case-1-å˜é«˜UITableViewCell&quot; class=&quot;headerlink&quot; title=&quot;Case 1: å˜é«˜UITableViewCell&quot;&gt;&lt;/a&gt;Case 1: å˜é«˜UITableViewCell&lt;/h2&gt;&lt;p&gt;å˜é«˜çš„UITableViewCellï¼Œè¿™æ˜¯ä¸ªæ°¸æ’çš„è¯é¢˜=ã€‚=&lt;/p&gt;
&lt;p&gt;ä¸ç”¨Autolayoutçš„è¯ï¼Œè®¡ç®—Cellçš„é«˜åº¦çš„æ—¶å€™ï¼Œå°±åªèƒ½ç”¨sizeThatFitsç­‰æ–¹æ³•ï¼ŒåŠ ä¸Šå„ç§â€œé­”é¬¼â€æ•°æ®çš„marginã€paddingæ¥æ‰‹åŠ¨æ‹¼å‡‘å‡ºCellçš„é«˜åº¦ã€‚è¿™ç§æ–¹æ³•éå¸¸è€—æ—¶ï¼Œå¹¶ä¸”éš¾ä»¥è°ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†Autolayoutï¼Œå°±å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨ç®—é«˜åº¦äº†~&lt;/p&gt;
&lt;h3 id=&quot;UITableViewCell&quot;&gt;&lt;a href=&quot;#UITableViewCell&quot; class=&quot;headerlink&quot; title=&quot;UITableViewCell&quot;&gt;&lt;/a&gt;UITableViewCell&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹Cellçš„çº¦æŸã€‚&lt;/p&gt;
&lt;h4 id=&quot;â€œè‡ªæˆ‘çº¦æŸâ€çš„Cell&quot;&gt;&lt;a href=&quot;#â€œè‡ªæˆ‘çº¦æŸâ€çš„Cell&quot; class=&quot;headerlink&quot; title=&quot;â€œè‡ªæˆ‘çº¦æŸâ€çš„Cell&quot;&gt;&lt;/a&gt;â€œè‡ªæˆ‘çº¦æŸâ€çš„Cell&lt;/h4&gt;&lt;p&gt;æ—¢ç„¶è¦èƒ½è®©ç³»ç»Ÿè‡ªå·±è®¡ç®—å‡ºCellçš„é«˜åº¦ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®çº¦æŸçš„æ—¶å€™ï¼Œå°±è¦è®©çº¦æŸæ•´ä½“æ˜¯â€œå®Œæ•´â€ã€â€œè‡ªæˆ‘çº¦æŸâ€çš„ã€‚ï¼ˆè¿™ä¸ªå¾ˆéš¾ç”¨è¯­è¨€æè¿°ã€‚ã€‚ã€‚ï¼‰Cellé‡Œé¢çš„æ¯ä¸€ä¸ªViewçš„å¤§å°ã€ä½ç½®ï¼Œéƒ½å¯ä»¥ä»çº¦æŸä¸­å¾—åˆ°ä½“ç°ï¼Œè€ŒCellçš„æ•´ä½“å¤§å°ï¼Œä¹Ÿæ˜¯ä»å­Viewçš„çº¦æŸç»¼åˆè®¡ç®—å¾—å‡ºçš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹é¢çš„Cellï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_3.png&quot; alt=&quot;Cell&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å·¦ä¸Šè§’çš„å›¾ç‰‡å›ºå®šå¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡é¢˜çš„Labelåªæ˜¾ç¤ºä¸€è¡Œï¼Œå›ºå®šé«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;å†…å®¹çš„Labelæ ¹æ®å†…å®¹å†³å®šé«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªLabelå®½åº¦æ•´ä½“éšç€Cellçš„å®½åº¦å˜åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;çº¦æŸçš„è®¾å®šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_4.png&quot; alt=&quot;çº¦æŸç¤ºæ„&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…³é”®ç‚¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†…å®¹Labelçš„bottomå’ŒCellçš„contentViewçš„çº¦æŸä¸å¯ä»¥çœï¼Œå› ä¸ºcellçš„é«˜åº¦è¦ç”±å†…éƒ¨çš„çº¦æŸå†³å®šï¼Œæ‰€ä»¥ä¸Šä¸‹å·¦å³çš„çº¦æŸä¸€ä¸ªä¸èƒ½å°‘ã€‚&lt;/li&gt;
&lt;li&gt;å†…å®¹Labelçš„é«˜åº¦éšç€å†…å®¹å˜åŒ–ï¼Œå³cellçš„é«˜åº¦éšå†…å®¹å˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è®¾ç½®Labelçš„ContentHuggingçš„ä¼˜å…ˆçº§æœ€é«˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;UILabelçš„preferredMaxLayoutWidth&quot;&gt;&lt;a href=&quot;#UILabelçš„preferredMaxLayoutWidth&quot; class=&quot;headerlink&quot; title=&quot;UILabelçš„preferredMaxLayoutWidth&quot;&gt;&lt;/a&gt;UILabelçš„preferredMaxLayoutWidth&lt;/h4&gt;&lt;p&gt;Autolayoutä¸‹ï¼ŒUILabelåœ¨å¤šè¡Œæ˜¾ç¤ºæ—¶ï¼Œæœ‰ä¸ªå¾ˆâ€œå‘â€çš„å±æ€§éœ€è¦è®¾å®šï¼Œå°±æ˜¯preferredMaxLayoutWidthã€‚&lt;/p&gt;
&lt;p&gt;å®šä¹‰å¦‚ä¸‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This property affects the size of the label when layout constraints are applied to it. During layout, if the text extends beyond the width specified by this property, the additional text is flowed to one or more new lines, thereby increasing the height of the label.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨Autolayoutè‡ªåŠ¨è®¡ç®—å¤šè¡ŒUILabelçš„é«˜åº¦ï¼Œè¿™ä¸ªå±æ€§å°±å¿…é¡»åœ¨è¿è¡Œæ—¶æŒ‡å®šï¼Œè¦ä¸ç„¶ç³»ç»Ÿè®¡ç®—ä¸å‡ºUILabelçš„å®½åº¦ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¡ç®—UILabelçš„preferredMaxLayoutWidthå€¼ï¼Œå¤šè¡Œæ—¶å¿…é¡»è®¾ç½®è¿™ä¸ªå€¼ï¼Œå¦åˆ™ç³»ç»Ÿæ— æ³•å†³å®šLabelçš„å®½åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.preferredMaxWidth&lt;/span&gt; = [UIScreen mainScreen]&lt;span class=&quot;selector-class&quot;&gt;.bounds&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.size&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.width&lt;/span&gt; - &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt; - padding;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰‹åŠ¨è®¡ç®—å®½åº¦ï¼Œæ„Ÿè§‰å›åˆ°äº†æ²¡æœ‰Autolayoutçš„æ—¶ä»£=ã€‚=&lt;/p&gt;
&lt;h4 id=&quot;Cellçš„å…³é”®ä»£ç &quot;&gt;&lt;a href=&quot;#Cellçš„å…³é”®ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;Cellçš„å…³é”®ä»£ç &quot;&gt;&lt;/a&gt;Cellçš„å…³é”®ä»£ç &lt;/h4&gt;&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Avatar - å¤´åƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_avatarImageView = [UIImageView new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView addSubview:_avatarImageView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_avatarImageView mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.height.equalTo(@&lt;span class=&quot;number&quot;&gt;44&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;; // å®½é«˜å›ºå®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.&lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt;.top.equalTo(self.contentView).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Title - å•è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_titleLabel = [UILabel new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView addSubview:_titleLabel]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_titleLabel mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.height.equalTo(@&lt;span class=&quot;number&quot;&gt;22&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;; // å®½é«˜å›ºå®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(self.contentView).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.equalTo(_avatarImageView.mas_right).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.right.equalTo(self.contentView).with.offset(&lt;span class=&quot;number&quot;&gt;-4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¡ç®—UILabelçš„preferredMaxLayoutWidthå€¼ï¼Œå¤šè¡Œæ—¶å¿…é¡»è®¾ç½®è¿™ä¸ªå€¼ï¼Œå¦åˆ™ç³»ç»Ÿæ— æ³•å†³å®šLabelçš„å®½åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat preferredMaxWidth = [UIScreen mainScreen].bounds.size.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt; - (&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;) * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; - &lt;span class=&quot;number&quot;&gt;44&lt;/span&gt; - &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Content - å¤šè¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel = [UILabel new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.numberOfLines = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_contentLabel.preferredMaxLayoutWidth = preferredMaxWidth&lt;span class=&quot;comment&quot;&gt;; // å¤šè¡Œæ—¶å¿…é¡»è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.contentView addSubview:_contentLabel]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_contentLabel mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(_titleLabel.mas_bottom).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.equalTo(_avatarImageView.mas_right).with.offset(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.right.equalTo(self.contentView).with.offset(&lt;span class=&quot;number&quot;&gt;-4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.equalTo(self.contentView).with.offset(&lt;span class=&quot;number&quot;&gt;-4&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è®¾ç½®é«˜åº¦çš„Content Hugging&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_contentLabel setContentHuggingPriority:UILayoutPriorityRequired forAxis:UILayoutConstraintAxisVertical]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;UITableView&quot;&gt;&lt;a href=&quot;#UITableView&quot; class=&quot;headerlink&quot; title=&quot;UITableView&quot;&gt;&lt;/a&gt;UITableView&lt;/h3&gt;&lt;p&gt;å†çœ‹çœ‹UITableViewã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç”¨systemLayoutSizeFittingSize-è·å–Cellçš„é«˜åº¦&quot;&gt;&lt;a href=&quot;#ç”¨systemLayoutSizeFittingSize-è·å–Cellçš„é«˜åº¦&quot; class=&quot;headerlink&quot; title=&quot;ç”¨systemLayoutSizeFittingSize:è·å–Cellçš„é«˜åº¦&quot;&gt;&lt;/a&gt;ç”¨systemLayoutSizeFittingSize:è·å–Cellçš„é«˜åº¦&lt;/h4&gt;&lt;p&gt;åœ¨è®¾å®šå¥½Cellçš„çº¦æŸä»¥åï¼Œå°±å¯ä»¥ç”¨systemLayoutSizeFittingSize:æ–¹æ³•è·å–Cellçš„å®é™…é«˜åº¦ï¼Œå®ƒçš„å‚æ•°å¯ä»¥è®¾å®šä¸ºä¸¤ä¸ªç³»ç»Ÿå¸¸é‡ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;UILayoutFittingCompressedSize: è¿”å›åˆé€‚çš„æœ€å°å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;UILayoutFittingExpandedSize: è¿”å›åˆé€‚çš„æœ€å¤§å¤§å°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;æ¨¡æ¿Cell&quot;&gt;&lt;a href=&quot;#æ¨¡æ¿Cell&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡æ¿Cell&quot;&gt;&lt;/a&gt;æ¨¡æ¿Cell&lt;/h4&gt;&lt;p&gt;ä¸ºäº†åœ¨&lt;code&gt;- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath&lt;/code&gt;æ–¹æ³•ä¸­è®¡ç®—Cellçš„é«˜åº¦ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸“é—¨ç”¨äºè®¡ç®—é«˜åº¦çš„Cellå®ä¾‹ï¼Œå¯ä»¥è¯´ç®—æ˜¯Cellçš„â€œæ¨¡æ¿â€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå®ä¾‹å¯ä»¥è®¾ç½®æˆå‡½æ•°çš„staticå˜é‡ï¼Œå¹¶åªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç®€å•ç¼“å­˜é«˜åº¦&quot;&gt;&lt;a href=&quot;#ç®€å•ç¼“å­˜é«˜åº¦&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•ç¼“å­˜é«˜åº¦&quot;&gt;&lt;/a&gt;ç®€å•ç¼“å­˜é«˜åº¦&lt;/h4&gt;&lt;p&gt;ä¸ºäº†é¿å…æ¯æ¬¡æ»‘åŠ¨æ—¶è®¡ç®—é«˜åº¦ï¼Œå¯ä»¥å°†Cellçš„é«˜åº¦ç¼“å­˜ä¸‹æ¥ã€‚å¦‚ï¼Œä¿å­˜åœ¨æ¯ä¸€è¡Œå¯¹åº”çš„æ•°æ®Model(Entity)ä¸­ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;Entity &lt;/span&gt;: NSObject&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (copy, nonatomic) NSString *title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Cache height&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (assign, nonatomic) CGFloat cellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¯æ¬¡è¦è·å–é«˜åº¦æ—¶ï¼Œå°±å¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰ç¼“å­˜ï¼Œå‡å°‘è®¡ç®—é‡ã€‚&lt;/p&gt;
&lt;h4 id=&quot;è®¾ç½®estimatedRowHeightä»¥å‡å°‘é¦–æ¬¡æ˜¾ç¤ºçš„è®¡ç®—é‡&quot;&gt;&lt;a href=&quot;#è®¾ç½®estimatedRowHeightä»¥å‡å°‘é¦–æ¬¡æ˜¾ç¤ºçš„è®¡ç®—é‡&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®estimatedRowHeightä»¥å‡å°‘é¦–æ¬¡æ˜¾ç¤ºçš„è®¡ç®—é‡&quot;&gt;&lt;/a&gt;è®¾ç½®estimatedRowHeightä»¥å‡å°‘é¦–æ¬¡æ˜¾ç¤ºçš„è®¡ç®—é‡&lt;/h4&gt;&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œé¦–æ¬¡æ˜¾ç¤ºä¹‹å‰ï¼Œç³»ç»Ÿéƒ½ä¼šä¸€æ¬¡æ€§å…¨éƒ¨è®¡ç®—å‡ºæ‰€æœ‰Cellçš„é«˜åº¦ï¼Œè¿™ç®€ç›´ä¸èƒ½å¿å•Šï¼è¦æ˜¯æœ‰10000è¡Œï¼Œé‚£å²‚ä¸æ˜¯è¦å¡æ­»=ã€‚=&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥iOS 7ä»¥åï¼ŒUITableViewæœ‰äº†ä¸€ä¸ªæ–°çš„å±æ€§ï¼šestimatedRowHeightã€‚&lt;/p&gt;
&lt;p&gt;ä»å±æ€§åä¸Šå°±å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ä¸ºCellé¢„å…ˆæŒ‡å®šä¸€ä¸ªâ€œä¼°è®¡â€çš„é«˜åº¦å€¼ï¼Œè¿™æ ·çš„è¯ï¼Œç³»ç»Ÿå°±å¯ä»¥å…ˆæŒ‰ç…§ä¼°è®¡å€¼å¸ƒå±€ï¼Œç„¶ååªè·å–æ˜¾ç¤ºèŒƒå›´å†…çš„Cellçš„é«˜åº¦ï¼Œè¿™æ ·å°±ä¸ä¼šä¸€æ¬¡æ€§è®¡ç®—å…¨éƒ¨çš„äº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å…³é”®ä»£ç &quot;&gt;&lt;a href=&quot;#å…³é”®ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;å…³é”®ä»£ç &quot;&gt;&lt;/a&gt;å…³é”®ä»£ç &lt;/h4&gt;&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView heightForRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Case4Cell *templateCell;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; onceToken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;onceToken, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        templateCell = [tableView dequeueReusableCellWithIdentifier:&lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([Case4Cell class])];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è·å–å¯¹åº”çš„æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Case4DataEntity *dataEntity = _data[(&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;) indexPath.row];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å¡«å……æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [templateCell setupData:dataEntity];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ¤æ–­é«˜åº¦æ˜¯å¦å·²ç»è®¡ç®—è¿‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (dataEntity.cellHeight &amp;lt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// æ ¹æ®å½“å‰æ•°æ®ï¼Œè®¡ç®—Cellçš„é«˜åº¦ï¼Œæ³¨æ„+1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dataEntity.cellHeight = [templateCell.contentView systemLayoutSizeFittingSize:&lt;span class=&quot;built_in&quot;&gt;UILayoutFittingCompressedSize&lt;/span&gt;].height + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; dataEntity.cellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;iOS-8çš„æ–°ç‰¹æ€§&quot;&gt;&lt;a href=&quot;#iOS-8çš„æ–°ç‰¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;iOS 8çš„æ–°ç‰¹æ€§&quot;&gt;&lt;/a&gt;iOS 8çš„æ–°ç‰¹æ€§&lt;/h3&gt;&lt;p&gt;iOS 8å¤§å¤§ç®€åŒ–äº†Cellçš„é«˜åº¦è®¡ç®—ï¼Œåªè¦è®¾ç½®å¥½Cellçš„çº¦æŸï¼Œæ·»åŠ ä¸‹é¢å‡ è¡Œä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tableView.rowHeight = UITableViewAutomaticDimension&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tableView.estimatedRowHeight = &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt;)tableView:(&lt;span class=&quot;built_in&quot;&gt;UITableView&lt;/span&gt; *)tableView heightForRowAtIndexPath:(&lt;span class=&quot;built_in&quot;&gt;NSIndexPath&lt;/span&gt; *)indexPath &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åªç”¨è¿”å›è¿™ä¸ªï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;UITableViewAutomaticDimension&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹ï¼å°±åªç”¨è¿™ä¹ˆå‡ è¡Œä»£ç å°±è¡Œï¼&lt;/p&gt;
&lt;h2 id=&quot;Case-2-topLayoutGuideå’ŒbottomLayoutGuide&quot;&gt;&lt;a href=&quot;#Case-2-topLayoutGuideå’ŒbottomLayoutGuide&quot; class=&quot;headerlink&quot; title=&quot;Case 2: topLayoutGuideå’ŒbottomLayoutGuide&quot;&gt;&lt;/a&gt;Case 2: topLayoutGuideå’ŒbottomLayoutGuide&lt;/h2&gt;&lt;h3 id=&quot;æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#æ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;æ˜¯ä»€ä¹ˆ&lt;/h3&gt;&lt;p&gt;topLayoutGuideå’ŒbottomLayoutGuideéƒ½æ˜¯iOS 7ä»¥åï¼ŒUIViewControllerçš„å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ–‡æ¡£ã€å¤´æ–‡ä»¶ä¸­ï¼ŒtopLayoutGuideå’ŒbottomLayoutGuideçš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt;,retain) &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;built_in&quot;&gt;UILayoutSupport&lt;/span&gt;&amp;gt; topLayoutGuide &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;readonly&lt;/span&gt;,retain) &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;&amp;lt;&lt;span class=&quot;built_in&quot;&gt;UILayoutSupport&lt;/span&gt;&amp;gt; bottomLayoutGuide &lt;span class=&quot;built_in&quot;&gt;NS_AVAILABLE_IOS&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;_0);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è€ŒUILayoutSupportçš„å®šä¹‰æ›´æ˜¯ç®€å•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@protocol&lt;/span&gt; UILayoutSupport &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(nonatomic,readonly) CGFloat length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;ä»¥topLayoutGuideä¸ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The topLayoutGuide property comes into play when a view controller is frontmost onscreen. It indicates the highest vertical extent for content that you donâ€™t want to appear behind a translucent or transparent UIKit bar (such as a status or navigation bar). This property implements the UILayoutSupport protocol and you can employ it as a constraint item when using the NSLayoutConstraint class.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼ŒtopLayoutGuideè¡¨ç¤ºå½“å‰é¡µé¢çš„ä¸Šæ–¹è¢«status barã€navigation baré®æŒ¡çš„éƒ¨åˆ†ã€‚åŒç†ï¼ŒbottomLayoutGuideè¡¨ç¤ºä¸‹æ–¹è¢«é®æŒ¡çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾:  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_5.jpg?imageView2/0/w/400/q/100&quot; alt=&quot;topLayoutGuideå’ŒbottomLayoutGuide&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;è§£å†³çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#è§£å†³çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³çš„é—®é¢˜&quot;&gt;&lt;/a&gt;è§£å†³çš„é—®é¢˜&lt;/h3&gt;&lt;p&gt;æœ‰äº›æ—¶å€™ï¼Œä¸€ä¸ªViewControllerå¯èƒ½å•ç‹¬æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹Ÿå¯èƒ½å†…åµŒåœ¨UINavigationControlleré‡Œé¢æ˜¾ç¤ºå‡ºæ¥ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œé¡µé¢çš„â€œ&lt;strong&gt;å¯è§†èŒƒå›´&lt;/strong&gt;â€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¾ˆæ˜æ˜¾ï¼ŒNavigationBarä¼šé®æŒ¡ä½ä¸€éƒ¨åˆ†ï¼Œç”¨äº†UITabBarControlleræ—¶ï¼ŒtabBarä¹Ÿä¼šé®æŒ¡ä½ä¸‹æ–¹ä¸€éƒ¨åˆ†ã€‚å†åŠ ä¸Šå„ç§Baréƒ½å¯ä»¥éšè—ï¼Œæƒ…å†µä¼šå˜å¾—æ›´å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;éš¾é“è¦ä¸ºæ¯ç§æƒ…å†µå»å†™ä¸€ä»½å¸ƒå±€ä»£ç ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&quot;å¦‚ä½•ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#å¦‚ä½•ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•ä½¿ç”¨&quot;&gt;&lt;/a&gt;å¦‚ä½•ä½¿ç”¨&lt;/h3&gt;&lt;p&gt;ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œå°±éœ€è¦åœ¨è®¾ç½®çº¦æŸæ—¶ï¼ŒåŠ è¿›topLayoutGuideå’ŒbottomLayoutGuideã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç”¨æ³•1-å¼ºåˆ¶è½¬æ¢ä¸ºUIView&quot;&gt;&lt;a href=&quot;#ç”¨æ³•1-å¼ºåˆ¶è½¬æ¢ä¸ºUIView&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æ³•1: å¼ºåˆ¶è½¬æ¢ä¸ºUIView&quot;&gt;&lt;/a&gt;ç”¨æ³•1: å¼ºåˆ¶è½¬æ¢ä¸ºUIView&lt;/h4&gt;&lt;p&gt;å®šä¹‰ä¸Šï¼ŒtopLayoutGuideå’ŒbottomLayoutGuideéƒ½æ˜¯idï¼Œä½†æ˜¯å®é™…ä¸­æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè·ŸUIViewæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ&lt;br&gt;çœ‹çœ‹å¦‚ä¸‹ä»£ç çš„è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;%d&quot;&lt;/span&gt;, [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.topLayoutGuide &lt;span class=&quot;symbol&quot;&gt;isKindOfClass:&lt;/span&gt;[UIView &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]]);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç»“æœæ˜¯ï¼šâ€1â€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿è¡ŒæœŸé—´ï¼ŒtopLayoutGuideå’ŒbottomLayoutGuideå°±æ˜¯UIViewçš„å­ç±»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯å¼ºåˆ¶è½¬æ¢æˆUIViewï¼Œç›´æ¥è¿ç”¨åœ¨Masonryçš„çº¦æŸé‡Œé¢ï¼Œæ­£å¦‚è¾ƒæ—§çš„Masonryå®˜æ–¹ç¤ºä¾‹ä¸­çš„ä¸€æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[topView makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // å¼ºåˆ¶è½¬æ¢&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIView *topLayoutGuide = (&lt;span class=&quot;name&quot;&gt;id&lt;/span&gt;)self.topLayoutGuide;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(&lt;span class=&quot;name&quot;&gt;topLayoutGuide.mas_bottom&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ ·å­˜åœ¨ç€é£é™©ï¼Œä¸‡ä¸€å“ªå¤©è‹¹æœæ”¹å˜äº†topLayoutGuideå’ŒbottomLayoutGuideçš„å®ç°æ–¹æ³•ï¼Œè¿™ä¹ˆç”¨å°±Crashäº†=ã€‚=&lt;/p&gt;
&lt;h4 id=&quot;ç”¨æ³•2-ç›´æ¥ä½¿ç”¨lengthå±æ€§&quot;&gt;&lt;a href=&quot;#ç”¨æ³•2-ç›´æ¥ä½¿ç”¨lengthå±æ€§&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æ³•2: ç›´æ¥ä½¿ç”¨lengthå±æ€§&quot;&gt;&lt;/a&gt;ç”¨æ³•2: ç›´æ¥ä½¿ç”¨lengthå±æ€§&lt;/h4&gt;&lt;p&gt;ç¬¬äºŒç§æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥ä½¿ç”¨UILayoutSupportå®šä¹‰çš„lengthå±æ€§ã€‚&lt;br&gt;è¿™ä¸ªæ—¶å€™å°±æœ‰ä¸ªåœ°æ–¹è¦ç‰¹åˆ«æ³¨æ„ï¼Œåœ¨è¿è¡Œåˆ°viewDidLoadçš„æ—¶å€™ï¼Œlengthçš„å€¼æ˜¯0ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™ç•Œé¢è¿˜æ²¡æœ‰è¢«ç»˜åˆ¶ï¼Œæ‰€ä»¥ä¸€ä¸ªè§£å†³æ–¹æ³•å°±æ˜¯åœ¨ViewControllerçš„&lt;strong&gt;updateViewConstraints&lt;/strong&gt;æ–¹æ³•é‡Œé¢å»ä½¿ç”¨lengthå€¼æ·»åŠ çº¦æŸã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight roboconf&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)updateViewConstraints &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;attribute&quot;&gt;_topView mas_updateConstraints&lt;/span&gt;:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // ç›´æ¥åˆ©ç”¨å…¶lengthå±æ€§&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make&lt;span class=&quot;variable&quot;&gt;.top&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;.equalTo&lt;/span&gt;(self&lt;span class=&quot;variable&quot;&gt;.view&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;.mas_top&lt;/span&gt;)&lt;span class=&quot;variable&quot;&gt;.with&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;.offset&lt;/span&gt;(self&lt;span class=&quot;variable&quot;&gt;.topLayoutGuide&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;.length&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super updateViewConstraints];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;ç”¨æ³•3-ä½¿ç”¨æ–°ç‰ˆçš„mas-topLayoutGuideå’Œmas-bottomLayoutGuide&quot;&gt;&lt;a href=&quot;#ç”¨æ³•3-ä½¿ç”¨æ–°ç‰ˆçš„mas-topLayoutGuideå’Œmas-bottomLayoutGuide&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æ³•3: ä½¿ç”¨æ–°ç‰ˆçš„mas_topLayoutGuideå’Œmas_bottomLayoutGuide&quot;&gt;&lt;/a&gt;ç”¨æ³•3: ä½¿ç”¨æ–°ç‰ˆçš„mas_topLayoutGuideå’Œmas_bottomLayoutGuide&lt;/h4&gt;&lt;p&gt;åœ¨&lt;a href=&quot;https://github.com/SnapKit/Masonry/commit/c99e65c2eb40a02106d87a1487f96c0f4b1b72c0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Masonryçš„æ–°ç‰ˆ&lt;/a&gt;ä¸­ï¼Œä¸ºUIViewControllerå¢åŠ äº†ä¸€ä¸ªæ–°çš„Category: &lt;code&gt;MASAdditions&lt;/code&gt;ï¼Œå¢åŠ äº†&lt;code&gt;mas_topLayoutGuide&lt;/code&gt;å’Œ&lt;code&gt;mas_bottomLayoutGuide&lt;/code&gt;ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¼˜é›…çš„ä½¿ç”¨topLayoutGuideå’ŒbottomLayoutGuideäº†~&lt;/p&gt;
&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[_topView mas_makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ä¸ç”¨å¼ºåˆ¶è½¬æ¢ï¼Œä¹Ÿä¸ç”¨åœ¨updateViewConstraintsé‡Œé¢æ›´æ–°äº†&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(&lt;span class=&quot;name&quot;&gt;self.mas_topLayoutGuide&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ç¤ºä¾‹&lt;/h3&gt;&lt;p&gt;ç›´æ¥çœ‹Demoå§ï¼Œæ¯”è¾ƒç®€å•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Case-3-è‡ªå®šä¹‰baseline&quot;&gt;&lt;a href=&quot;#Case-3-è‡ªå®šä¹‰baseline&quot; class=&quot;headerlink&quot; title=&quot;Case 3: è‡ªå®šä¹‰baseline&quot;&gt;&lt;/a&gt;Case 3: è‡ªå®šä¹‰baseline&lt;/h2&gt;&lt;p&gt;æœ€åä¸€ä¸ªCaseï¼Œè®²è®²baselineã€‚  &lt;/p&gt;
&lt;p&gt;baselineï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œåŸºçº¿â€ï¼Œåœ¨Autolayouté‡Œé¢å¯¹åº”ç€&lt;strong&gt;&lt;code&gt;NSLayoutFormatAlignAllBaseline&lt;/code&gt;&lt;/strong&gt;ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯¹é½çš„æ ‡å‡†ã€‚ä¾‹å¦‚ï¼ŒUIButtonçš„baselineå°±æ˜¯å†…éƒ¨çš„æ–‡å­—ï¼Œå¦‚æœä¸€æ’buttonæŒ‰ç…§baselineå¯¹é½çš„è¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_6.jpg&quot; alt=&quot;æŒ‰é’®æŒ‰ç…§baselineå¯¹å…¶&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè‡ªå®šä¹‰çš„Viewæ¥è¯´ï¼Œbaselineé»˜è®¤å°±æ˜¯æ•´ä¸ªviewçš„åº•éƒ¨ï¼Œå¦‚æœæƒ³æ”¹å˜baselineçš„è¯ï¼Œå¯ä»¥é‡å†™UIViewçš„&lt;strong&gt;viewForBaselineLayout&lt;/strong&gt;ï¼Œè¿”å›å½“æˆbaselineçš„viewå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹é¢çš„è‡ªå®šä¹‰viewï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_7.jpg&quot; alt=&quot;è‡ªå®šä¹‰baseline&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾ï¼Œbaselineå°±æ˜¯æ˜¾ç¤ºå›¾ç‰‡çš„UIImageViewï¼Œä»£ç ä¹Ÿå¾ˆç®€å•:&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è‡ªå®šä¹‰çš„Viewä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è¿”å›è‡ªå®šä¹‰çš„baselineçš„view&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (UIView *)viewForBaselineLayout &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; _imageView&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çµæ´»çš„ä½¿ç”¨baselineï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„è¿›è¡Œå¸ƒå±€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å†™äº†å¥½é•¿ï¼Œèƒ½å…¨éƒ¨çœ‹å®Œçš„æœ‹å‹ï¼Œå—¯ï¼Œä½ æ˜¯ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜=ã€‚=&lt;/p&gt;
&lt;p&gt;åé¢æ‰“ç®—ç”¨Swiftçš„SnapKitæŠŠæ‰€æœ‰çš„Caseå…¨éƒ¨å®ç°ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://chun.tips/blog/2014/10/23/xi-shu-autolayoutyi-lai-uiviewhe-uiviewcontrollerxin-zeng-de-xiang-guan-api-uiviewpian/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç»†æ•°AutoLayoutä»¥æ¥UIViewå’ŒUIViewControlleræ–°å¢çš„ç›¸å…³API â€“ UIViewç¯‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/qa/qa1797/_index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Preventing the Status Bar from Covering Your Views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/#intrinsic-content-size&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Advanced Auto Layout Toolbox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://chun.tips/blog/2014/10/25/xi-shu-autolayoutyi-lai-uiviewhe-uiviewcontrollerxin-zeng-de-xiang-guan-api-uiviewcontrollerpian/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç»†æ•°AutoLayoutä»¥æ¥UIViewå’ŒUIViewControlleræ–°å¢çš„ç›¸å…³API â€“ UIViewControllerç¯‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.wugaojun.com/blog/2015/05/24/autolayoutshi-zhan-cellgao-du-bu-gu-ding-de-uitableview/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoLayoutå®æˆ˜:cellé«˜åº¦ä¸å›ºå®šçš„UITableView&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/d5d897ffe118&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoLayoutä¸‹å¤šè¡ŒUILabelæ— æ³•æ˜¾ç¤ºå¤šè¡Œæ–‡æœ¬çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://grayluo.github.io/WeiFocusIo/autolayout/2015/02/01/autolayout5/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoLayoutæ·±å…¥æµ…å‡ºäº”-UITableViewåŠ¨æ€é«˜åº¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.brynbodayle.com/faster-uitableviews-with-ios-7/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Faster UITableViews with iOS 7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Masonryå†™çš„Autolayoutç¤ºä¾‹åˆæ¥äº†ï¼Œä»ç„¶æ˜¯ä¸‰ä¸ªå°ä¾‹å­ï¼Œåˆ†åˆ«æ˜¯&lt;strong&gt;å˜é«˜åº¦çš„UITableViewCellã€topLayoutGuideä¸bottomLayoutGuideï¼Œè¿˜æœ‰è‡ªå®šä¹‰çš„baseline&lt;/strong&gt;ï¼Œå¤–åŠ ä¸¤ä¸ªåŸºæœ¬çš„çŸ¥è¯†ç‚¹è®²è§£ï¼Œè¯´ä¸ä¸Šâ€œæœ‰è¶£â€=ã€‚=ï¼Œæ¯”è¾ƒåŸºç¡€ï¼Œå†™äº†å¾ˆå¤šï¼Œå„ä½éšæ„çœ‹çœ‹å§~&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ç¯‡: &lt;a href=&quot;http://tutuge.me/2015/05/23/autolayout-example-with-masonry/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ç¯‡: &lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç¬¬å››ç¯‡: &lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Githubåœ°å€ï¼š&lt;br&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_autolayout_example_with_masonry2_1.gif&quot; alt=&quot;Gifç¤ºä¾‹&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Autolayout" scheme="http://tutuge.me/tags/Autolayout/"/>
    
      <category term="Masonry" scheme="http://tutuge.me/tags/Masonry/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³iOSé¡¹ç›®çš„ç‰ˆæœ¬å…¼å®¹é—®é¢˜-ç»“åˆå®ã€Categoryå’ŒRuntime</title>
    <link href="http://tutuge.me/2015/07/25/compatibility-with-macro-category-and-runtime/"/>
    <id>http://tutuge.me/2015/07/25/compatibility-with-macro-category-and-runtime/</id>
    <published>2015-07-24T16:39:03.000Z</published>
    <updated>2016-08-07T06:08:13.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;h3 id=&quot;2015-11-16&quot;&gt;&lt;a href=&quot;#2015-11-16&quot; class=&quot;headerlink&quot; title=&quot;2015-11-16&quot;&gt;&lt;/a&gt;2015-11-16&lt;/h3&gt;&lt;p&gt;æ„Ÿè°¢å¾®åšå¥½å‹&lt;strong&gt;@zyyy_000&lt;/strong&gt;çš„è¯„è®ºï¼Œè¡¥å……äº†ä¸ºä»€ä¹ˆè¦åœ¨&lt;code&gt;+ (void)load&lt;/code&gt;æ–¹æ³•é‡Œé¢åš&lt;strong&gt;Method Swizzling&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘ï¼Œåœ¨åšé¡¹ç›®æ—¶ï¼Œå› ä¸ºæŸç§åŸå› ï¼Œçªç„¶è¦â€œé€‚é…â€iOS6ï¼ˆä¹Ÿæ˜¯é†‰äº†ã€‚ã€‚ã€‚ï¼‰ï¼Œä¿è¯æå°‘æ•°çš„iOS6ç”¨æˆ·å¯ä»¥â€œç”¨ä¸Šâ€æ–°çš„ç‰ˆæœ¬ã€‚å“ªæ€•ç•Œé¢ä¸Šæœ‰ç‘•ç–µï¼Œåªè¦åŠŸèƒ½æ­£å¸¸å°±è¡Œã€‚äºæ˜¯å°±åªå¥½èŠ±å‡ å¤©æ—¶é—´å¯¹iOS6è¿›è¡Œç´§æ€¥é€‚é…ï¼ˆå¿ƒä¸­ä¸€ä¸‡å¤´é©¼ç¾Šå¥”è·‘è€Œè¿‡ã€‚ã€‚ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§„çš„ï¼Œå’Œâ€œéå¸¸è§„â€çš„iOSé¡¹ç›®å‘è€ç‰ˆæœ¬å…¼å®¹çš„åŠæ³•ï¼Œç»“åˆäº†&lt;strong&gt;å®å®šä¹‰&lt;/strong&gt;ã€&lt;strong&gt;Category&lt;/strong&gt;å’Œ&lt;strong&gt;Runtime&lt;/strong&gt;ï¼Œå¤§å®¶çœ‹ç€æ¶ˆé£ä¸€ä¸‹å°±å¥½å“ˆ~&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;é‡ç‚¹æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#é‡ç‚¹æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;é‡ç‚¹æ¦‚å¿µ&quot;&gt;&lt;/a&gt;é‡ç‚¹æ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;é¦–å…ˆå¼ºè°ƒä¸€äº›æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h3 id=&quot;Deployment-Target-å’Œ-Base-SDK&quot;&gt;&lt;a href=&quot;#Deployment-Target-å’Œ-Base-SDK&quot; class=&quot;headerlink&quot; title=&quot;Deployment Target å’Œ Base SDK&quot;&gt;&lt;/a&gt;Deployment Target å’Œ Base SDK&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Deployment Target&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‡çš„æ˜¯ä½ çš„APPèƒ½æ”¯æŒçš„æœ€ä½ç³»ç»Ÿç‰ˆæœ¬ï¼Œå¦‚è¦æ”¯æŒiOS6ä»¥ä¸Šï¼Œå°±è®¾ç½®æˆiOS6å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Base SDK&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‡çš„æ˜¯ç”¨æ¥ç¼–è¯‘APPçš„SDKï¼ˆSoftware Development Kitï¼‰çš„ç‰ˆæœ¬ï¼Œä¸€èˆ¬ä¿æŒå½“å‰XCodeæ”¯æŒçš„æœ€æ–°çš„å°±å¥½ï¼Œå¦‚iOS8.4ã€‚SDKå…¶å®å°±æ˜¯åŒ…å«äº†æ‰€æœ‰çš„ä½ è¦ç”¨åˆ°çš„å¤´æ–‡ä»¶ã€é“¾æ¥åº“çš„é›†åˆï¼Œä½ çš„APPé‡Œé¢ç”¨çš„å„ç§ç±»ã€å‡½æ•°ï¼Œèƒ½ç¼–è¯‘ã€é“¾æ¥æˆæœ€åçš„å®‰è£…åŒ…ï¼Œå°±è¦é å®ƒï¼Œè‹¹æœæ¯æ¬¡å‡çº§ç³»ç»Ÿï¼Œæ–°æ¨å‡ºçš„å„ç§APIï¼Œä¹Ÿæ˜¯åœ¨SDKé‡Œé¢ã€‚æ‰€ä»¥ä¸€èˆ¬Base SDKè‚¯å®šæ˜¯å¤§äºç­‰äºDeployment Targetçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŒºåˆ†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶Base SDKçš„ç‰ˆæœ¬å¤§äºç­‰äºDeployment Targetçš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±è¦å°å¿ƒäº†ï¼Œå› ä¸º&lt;strong&gt;â€œåªè¦ç”¨åˆ°çš„ç±»ã€æ–¹æ³•ï¼Œåœ¨å½“å‰çš„Base SDKç‰ˆæœ¬é‡Œé¢å­˜åœ¨ï¼Œå°±å¯ä»¥&lt;em&gt;ç¼–è¯‘é€šè¿‡&lt;/em&gt;ï¼ä½†æ˜¯ä¸€æ—¦è¿è¡ŒAPPçš„æ‰‹æœºçš„ç³»ç»Ÿç‰ˆæœ¬ä½äºè¿™äº›ç±»ã€æ–¹æ³•çš„æœ€ä½ç‰ˆæœ¬è¦æ±‚ï¼ŒAPPå°±ä¼šCrashï¼â€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¹¶ä¸æ˜¯è¯´ï¼Œèƒ½ç¼–è¯‘é€šè¿‡çš„ï¼Œå°±ä¸€å®šèƒ½&lt;em&gt;è¿è¡ŒæˆåŠŸ&lt;/em&gt;ï¼è¿˜è¦åœ¨&lt;em&gt;è¿è¡Œæ—¶æ£€æŸ¥&lt;/em&gt;ï¼ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj2iz.com1.z0.glb.clouddn.com/blog_compatibility-with-macro-category-and-runtime_1.png&quot; alt=&quot;å…¼å®¹ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å®åªåœ¨ç¼–è¯‘æ—¶ç”Ÿæ•ˆï¼&quot;&gt;&lt;a href=&quot;#å®åªåœ¨ç¼–è¯‘æ—¶ç”Ÿæ•ˆï¼&quot; class=&quot;headerlink&quot; title=&quot;å®åªåœ¨ç¼–è¯‘æ—¶ç”Ÿæ•ˆï¼&quot;&gt;&lt;/a&gt;å®åªåœ¨ç¼–è¯‘æ—¶ç”Ÿæ•ˆï¼&lt;/h3&gt;&lt;p&gt;å®å®šä¹‰åªæ˜¯çº¯ç²¹çš„æ–‡æœ¬æ›¿æ¢ï¼Œåªåœ¨ç¼–è¯‘æ—¶èµ·ä½œç”¨ã€‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;if&lt;/span&gt; __IPHONE_OS_VERSION_MIN_REQUIRED &amp;gt;= &lt;span class=&quot;number&quot;&gt;70000&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Tutuge&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¢«å®å®šä¹‰åŒ…èµ·æ¥çš„ä»£ç æ˜¯å¦ä¼šæ‰§è¡Œï¼Œåœ¨ç¼–è¯‘æ—¶å°±å†³å®šå¥½äº†ï¼Œæ— è®ºä½ æ˜¯ç”¨ä»€ä¹ˆç³»ç»Ÿè¿è¡Œï¼Œå®å®šä¹‰å†ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåµç”¨=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;ç¼–è¯‘æ—¶æ£€æŸ¥SDKç‰ˆæœ¬ï¼Œè¿è¡Œæ—¶æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘æ—¶æ£€æŸ¥SDKç‰ˆæœ¬ï¼Œè¿è¡Œæ—¶æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘æ—¶æ£€æŸ¥SDKç‰ˆæœ¬ï¼Œè¿è¡Œæ—¶æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬&quot;&gt;&lt;/a&gt;ç¼–è¯‘æ—¶æ£€æŸ¥SDKç‰ˆæœ¬ï¼Œè¿è¡Œæ—¶æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªæ˜¯æœ€åŸºæœ¬çš„é€‚é…æ‰‹æ®µã€‚&lt;/p&gt;
&lt;p&gt;ç”¨åˆ°çš„å®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;__IPHONE_OS_VERSION_MAX_ALLOWED&lt;/strong&gt;: å€¼ç­‰äºBase SDKï¼Œå³ç”¨äºæ£€æŸ¥SDKç‰ˆæœ¬çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;__IPHONE_OS_VERSION_MIN_REQUIRED&lt;/strong&gt;: å€¼ç­‰äºDeployment Targetï¼Œæ£€æŸ¥æ”¯æŒçš„æœ€å°ç³»ç»Ÿç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿è¡Œæ—¶æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([UIDevice currentDevice]&lt;span class=&quot;selector-class&quot;&gt;.systemVersion&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.floatValue&lt;/span&gt; &amp;gt; &lt;span class=&quot;number&quot;&gt;8.0&lt;/span&gt;f) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‡å¦‚æˆ‘ä»¬ç°åœ¨æƒ³ç”¨iOS8æ–°çš„&lt;strong&gt;UIAlertController&lt;/strong&gt;æ¥æ˜¾ç¤ºæç¤ºæ¡†ï¼Œåº”è¯¥å¦‚ä¸‹åˆ¤æ–­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç¼–è¯‘æ—¶åˆ¤æ–­ï¼šæ£€æŸ¥SDKç‰ˆæœ¬&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if __IPHONE_OS_VERSION_MAX_ALLOWED &amp;gt; 80000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è¿è¡Œæ—¶åˆ¤æ–­ï¼šæ£€æŸ¥å½“å‰ç³»ç»Ÿç‰ˆæœ¬&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;UIDevice&lt;/span&gt; currentDevice].systemVersion.floatValue &amp;gt; &lt;span class=&quot;number&quot;&gt;8.0&lt;/span&gt;f) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;UIAlertController&lt;/span&gt; *alertController =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;built_in&quot;&gt;UIAlertController&lt;/span&gt; alertControllerWithTitle:&lt;span class=&quot;string&quot;&gt;@&quot;Tutuge&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                            message:&lt;span class=&quot;string&quot;&gt;@&quot;Compatibility&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     preferredStyle:&lt;span class=&quot;built_in&quot;&gt;UIAlertControllerStyleAlert&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [alertController addAction:[&lt;span class=&quot;built_in&quot;&gt;UIAlertAction&lt;/span&gt; actionWithTitle:&lt;span class=&quot;string&quot;&gt;@&quot;Cancel&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                            style:&lt;span class=&quot;built_in&quot;&gt;UIAlertActionStyleCancel&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          handler:^(&lt;span class=&quot;built_in&quot;&gt;UIAlertAction&lt;/span&gt; *action) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                              &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Cancel&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                          &amp;#125;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; presentViewController:alertController animated:&lt;span class=&quot;literal&quot;&gt;YES&lt;/span&gt; completion:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ç”¨æ—§çš„ä»£æ›¿&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;UIAlertView&lt;/span&gt; *alertView = [[&lt;span class=&quot;built_in&quot;&gt;UIAlertView&lt;/span&gt; alloc] initWithTitle:&lt;span class=&quot;string&quot;&gt;@&quot;Tutuge&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                            message:&lt;span class=&quot;string&quot;&gt;@&quot;Compatibility&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                           delegate:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                  cancelButtonTitle:&lt;span class=&quot;string&quot;&gt;@&quot;Cancel&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                  otherButtonTitles:&lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [alertView show];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ€»çš„æ¥è¯´å°±æ˜¯ç¼–è¯‘æ—¶ã€è¿è¡Œæ—¶çš„åˆ¤æ–­å‡ä¸èƒ½å°‘ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Weakly-Linked-è¿è¡Œæ—¶æ£€æŸ¥ç±»ã€æ–¹æ³•æ˜¯å¦å¯ç”¨&quot;&gt;&lt;a href=&quot;#Weakly-Linked-è¿è¡Œæ—¶æ£€æŸ¥ç±»ã€æ–¹æ³•æ˜¯å¦å¯ç”¨&quot; class=&quot;headerlink&quot; title=&quot;Weakly Linked - è¿è¡Œæ—¶æ£€æŸ¥ç±»ã€æ–¹æ³•æ˜¯å¦å¯ç”¨&quot;&gt;&lt;/a&gt;Weakly Linked - è¿è¡Œæ—¶æ£€æŸ¥ç±»ã€æ–¹æ³•æ˜¯å¦å¯ç”¨&lt;/h2&gt;&lt;p&gt;é™¤äº†ç”¨å®ã€ç³»ç»Ÿç‰ˆæœ¬æ£€æµ‹ï¼Œè¿˜å¯ä»¥ç”¨&lt;strong&gt;Weakly Linked&lt;/strong&gt;ç‰¹æ€§åšè¿è¡Œæ—¶çš„æ£€æŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºiOS4.2ä»¥ä¸Šçš„ï¼Œæœ‰&lt;strong&gt;NS_CLASS_AVAILABLE&lt;/strong&gt;æ ‡ç¤ºçš„ç±»ï¼Œå¯ä»¥å¦‚ä¸‹åˆ¤æ–­æ˜¯å¦å¯ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;if&lt;/span&gt; __IPHONE_OS_VERSION_MAX_ALLOWED &amp;gt; 80000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Weakly Linkedåˆ¤æ–­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;if&lt;/span&gt; ([UIAlertController &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨UIAlertController...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;built_in&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨æ—§çš„æ–¹æ¡ˆ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥å¦‚ä¸‹åˆ¤æ–­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Class &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;/span&gt;= NSClassFromString (@&lt;span class=&quot;string&quot;&gt;&quot;UIAlertController&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨UIAlertController...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨æ—§çš„æ–¹æ¡ˆ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯¹äºæ–¹æ³•ï¼Œå¦‚ä¸‹åˆ¤æ–­:&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;if&lt;/span&gt; ([UITableViewCell &lt;span class=&quot;attribute&quot;&gt;instancesRespondToSelector&lt;/span&gt;:&lt;span class=&quot;variable&quot;&gt;@selector&lt;/span&gt; (&lt;span class=&quot;attribute&quot;&gt;setSeparatorInset&lt;/span&gt;:)]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;selector-tag&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è‡³äºç”¨å“ªç§æ–¹æ³•ï¼Œç»Ÿä¸€ä¸€ä¸‹å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç”¨Method-Swizzlingåšå…¼å®¹&quot;&gt;&lt;a href=&quot;#ç”¨Method-Swizzlingåšå…¼å®¹&quot; class=&quot;headerlink&quot; title=&quot;ç”¨Method Swizzlingåšå…¼å®¹&quot;&gt;&lt;/a&gt;ç”¨Method Swizzlingåšå…¼å®¹&lt;/h2&gt;&lt;p&gt;æœ‰å…³Runtimeã€Method Swizzlingçš„èµ„æ–™å¾ˆå¤šï¼Œå„ä½è‡ªè¡Œé˜…è¯»å“ˆ~&lt;/p&gt;
&lt;h3 id=&quot;åœ¨-void-loadæ–¹æ³•é‡Œé¢åšæ›¿æ¢&quot;&gt;&lt;a href=&quot;#åœ¨-void-loadæ–¹æ³•é‡Œé¢åšæ›¿æ¢&quot; class=&quot;headerlink&quot; title=&quot;åœ¨+ (void)loadæ–¹æ³•é‡Œé¢åšæ›¿æ¢&quot;&gt;&lt;/a&gt;åœ¨&lt;code&gt;+ (void)load&lt;/code&gt;æ–¹æ³•é‡Œé¢åšæ›¿æ¢&lt;/h3&gt;&lt;p&gt;è¿™é‡Œæä¸€ä¸‹ä¸ºä»€ä¹ˆè¦åœ¨&lt;code&gt;+ (void)load&lt;/code&gt;æ–¹æ³•é‡Œé¢åšMethod Swizzlingã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Objective-Cä¸­ï¼Œè¿è¡Œæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨æ¯ä¸ªç±»çš„ä¸¤ä¸ªæ–¹æ³•ã€‚&lt;code&gt;+ (void)load&lt;/code&gt;ä¼šåœ¨ç±»ã€Categoryåˆå§‹åŠ è½½æ—¶è°ƒç”¨ï¼Œ&lt;code&gt;+ (void)initialize&lt;/code&gt;ä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ç±»çš„ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ä¹‹å‰è¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code&gt;+ (void)initialize&lt;/code&gt;æ˜¯å¯ä»¥è¢«Categoryè¦†ç›–é‡å†™çš„ï¼Œå¹¶ä¸”æœ‰å¤šä¸ªCategoryéƒ½é‡å†™äº†&lt;code&gt;+ (void)initialize&lt;/code&gt;æ–¹æ³•æ—¶ï¼Œåªä¼šè¿è¡Œå…¶ä¸­ä¸€ä¸ªï¼Œæ‰€ä»¥åœ¨&lt;code&gt;+ (void)initialize&lt;/code&gt;é‡Œé¢åšMethod Swizzlingæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ&lt;code&gt;+ (void)load&lt;/code&gt;æ–¹æ³•åªè¦å®ç°äº†ï¼Œå°±ä¸€å®šä¼šè°ƒç”¨ã€‚å…·ä½“ä¸ºä»€ä¹ˆå¤§å®¶å¯ä»¥è‡ªè¡Œé˜…è¯»Runtimeçš„æºç ï¼Œæˆ–è€…æŸ¥é˜…ç›¸å…³æ–‡ç« ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç”¨dispatch-onceä¿è¯åªè¿è¡Œä¸€æ¬¡&quot;&gt;&lt;a href=&quot;#ç”¨dispatch-onceä¿è¯åªè¿è¡Œä¸€æ¬¡&quot; class=&quot;headerlink&quot; title=&quot;ç”¨dispatch_onceä¿è¯åªè¿è¡Œä¸€æ¬¡&quot;&gt;&lt;/a&gt;ç”¨dispatch_onceä¿è¯åªè¿è¡Œä¸€æ¬¡&lt;/h3&gt;&lt;p&gt;å› ä¸ºMethod Swizzlingçš„å½±å“æ˜¯å…¨å±€çš„ï¼Œè€Œä¸”ä¸€æ—¦å¤šæ¬¡è°ƒç”¨ï¼Œä¼šå‡ºé”™ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ç”¨dispatch_onceå°±å†åˆé€‚ä¸è¿‡äº†~&lt;/p&gt;
&lt;h3 id=&quot;å®ä¾‹&quot;&gt;&lt;a href=&quot;#å®ä¾‹&quot; class=&quot;headerlink&quot; title=&quot;å®ä¾‹&quot;&gt;&lt;/a&gt;å®ä¾‹&lt;/h3&gt;&lt;p&gt;ä¸‹é¢å°±æ˜¯åˆ©ç”¨Method Swizzlingåšå…¼å®¹çš„ä¸€ä¸ªä¾‹å­ã€‚&lt;br&gt;æœ‰æ—¶å€™ï¼Œä¸åŒç‰ˆæœ¬ä¹‹é—´ï¼ŒåŒä¸€ä¸ªç±»ã€Viewæ§ä»¶çš„é»˜è®¤å±æ€§å¯èƒ½éƒ½ä¼šå˜åŒ–ï¼Œå¦‚UILabelçš„èƒŒæ™¯è‰²åœ¨iOS6ä¸Šï¼Œé»˜è®¤æ˜¯ç™½è‰²ï¼Œè€ŒiOS6ä»¥åæ˜¯é€æ˜çš„ï¼å¦‚æœåœ¨æ¯ä¸ªç”¨åˆ°UILabelçš„åœ°æ–¹ï¼Œéƒ½æ‰‹åŠ¨è®¾ç½®ä¸€æ¬¡èƒŒæ™¯è‰²ï¼Œä»£ä»·å¤ªå¤§ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦Runtimeçš„â€œé»‘é­”æ³•â€ä¸Šåœºã€‚&lt;/p&gt;
&lt;p&gt;å°±ä»¥è®¾ç½®UILabelçš„é»˜è®¤èƒŒæ™¯è‰²é€æ˜ä¸ºä¾‹ï¼Œå°±æ˜¯åœ¨UILabelåˆå§‹åŒ–æ—¶ï¼Œå¦‚initWithFrameä¹‹å‰ï¼Œå…ˆè®¾ç½®å¥½é€æ˜èƒŒæ™¯è‰²ï¼Œç®€å•çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºCategory&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;UILabel&lt;/span&gt; (&lt;span class=&quot;title&quot;&gt;TTGCompatibility&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+ (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)load &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; onceToken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;onceToken, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å…ˆåˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬ï¼Œå°½é‡å‡å°‘Runtimeçš„ä½œç”¨èŒƒå›´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;UIDevice&lt;/span&gt; currentDevice].systemVersion.floatValue &amp;lt; &lt;span class=&quot;number&quot;&gt;7.0&lt;/span&gt;f) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Method Swizzling&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// initWithFrame&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Method oriMethod = class_getInstanceMethod(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(initWithFrame:));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Method newMethod = class_getInstanceMethod(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(compatible_initWithFrame:));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            method_exchangeImplementations(oriMethod, newMethod);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// initWithCoder...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// initWithFrame&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;)compatible_initWithFrame:(&lt;span class=&quot;built_in&quot;&gt;CGRect&lt;/span&gt;)frame &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; newSelf = [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; compatible_initWithFrame:frame];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è®¾ç½®é€æ˜èƒŒæ™¯è‰²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ((&lt;span class=&quot;built_in&quot;&gt;UILabel&lt;/span&gt; *)newSelf).backgroundColor = [&lt;span class=&quot;built_in&quot;&gt;UIColor&lt;/span&gt; clearColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; newSelf;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// initWithCoder...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;è¿è¡Œæ—¶æ·»åŠ â€œDummyâ€æ–¹æ³•ï¼Œå‡å°‘ä»£ç æ”¹åŠ¨&quot;&gt;&lt;a href=&quot;#è¿è¡Œæ—¶æ·»åŠ â€œDummyâ€æ–¹æ³•ï¼Œå‡å°‘ä»£ç æ”¹åŠ¨&quot; class=&quot;headerlink&quot; title=&quot;è¿è¡Œæ—¶æ·»åŠ â€œDummyâ€æ–¹æ³•ï¼Œå‡å°‘ä»£ç æ”¹åŠ¨&quot;&gt;&lt;/a&gt;è¿è¡Œæ—¶æ·»åŠ â€œDummyâ€æ–¹æ³•ï¼Œå‡å°‘ä»£ç æ”¹åŠ¨&lt;/h2&gt;&lt;p&gt;Dummyï¼Œæ„æ€æ˜¯â€œå‡çš„ã€å‡åŠ¨ä½œã€å‡äººâ€ï¼Œåœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ä¸ºæ—§ç‰ˆæœ¬ä¸å­˜åœ¨çš„æ–¹æ³•æä¾›ä¸€ä¸ªâ€œå‡çš„â€æ›¿ä»£æ–¹æ³•ï¼Œé˜²æ­¢å› æ–°APIæ‰¾ä¸åˆ°è€Œå¯¼è‡´çš„Crashã€‚&lt;/p&gt;
&lt;p&gt;ä»¥UITableViewCellçš„&lt;strong&gt;â€œsetSeparatorInset:â€&lt;/strong&gt;æ–¹æ³•ä¸ºä¾‹ï¼Œåœ¨iOS6ä¸­ï¼Œå‹æ ¹å°±ä¸å­˜åœ¨separatorInsetï¼Œä½†æ˜¯ç°æœ‰çš„ä»£ç é‡Œé¢å¤§é‡çš„è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œæ€ä¹ˆåŠï¼Ÿéš¾é“ä¸€ä¸ªä¸€ä¸ªçš„å»åŠ ä¸Šåˆ¤æ–­æ¡ä»¶ï¼Ÿä»£ä»·å¤ªå¤§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨Runtimeçš„æ‰‹æ®µï¼Œåœ¨è¿è¡Œæ—¶æ·»åŠ ä¸€ä¸ªDummyæ–¹æ³•ï¼Œå»â€œ&lt;strong&gt;ä»£æ›¿æ¥æ”¶&lt;/strong&gt;â€setSeparatorInsetæ¶ˆæ¯ï¼Œé˜²æ­¢åœ¨iOS6ä¸Šçš„Crashã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;UITableViewCell&lt;/span&gt; (&lt;span class=&quot;title&quot;&gt;TTGCompatibility&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+ (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)load &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç¼–è¯‘æ—¶åˆ¤æ–­SDK&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#if __IPHONE_OS_VERSION_MAX_ALLOWED &amp;gt; __IPHONE_7_0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è¿è¡Œæ—¶åˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([&lt;span class=&quot;built_in&quot;&gt;UIDevice&lt;/span&gt; currentDevice].systemVersion.floatValue &amp;lt; &lt;span class=&quot;number&quot;&gt;7.0&lt;/span&gt;f) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Method newMethod = class_getInstanceMethod(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(compatible_setSeparatorInset:));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å¢åŠ Dummyæ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        class_addMethod(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;@selector&lt;/span&gt;(setSeparatorInset:),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                method_getImplementation(newMethod),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                method_getTypeEncoding(newMethod));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#endif&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// setSeparatorInset: çš„Dummyæ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)compatible_setSeparatorInset:(&lt;span class=&quot;built_in&quot;&gt;UIEdgeInsets&lt;/span&gt;) inset &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ç©ºæ–¹æ³•éƒ½å¯ä»¥ï¼Œåªæ˜¯ä¸ºäº†æ¥æ”¶setSeparatorInset:æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;åœ¨é€‚é…æ—§ç‰ˆæœ¬æ—¶ï¼Œé™¤äº†åŸºæœ¬çš„å®å®šä¹‰ã€[UIDevice currentDevice].systemVersionåˆ¤æ–­ï¼Œé€‚å½“çš„ç”¨Runtimeï¼Œå¯ä»¥å¤§å¤§å‡å°‘å¯¹ç°æœ‰ä»£ç çš„â€œå¹²æ¶‰â€ï¼Œå¤šç§æ–¹æ³•ç›¸ç»“åˆæ‰æ˜¯æœ€å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;å—¯ï¼Œè¿˜åœ¨ç”¨iOS6çš„ç”¨æˆ·ï¼Œå‡ä¸ªçº§å‘—=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/cross_development/Introduction/Introduction.html#//apple_ref/doc/uid/10000163-BCICHGIE&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SDK Compatibility Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://git.devzeng.com/blog/ios-multiple-version-compatible.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOSå¼€å‘ä¹‹å¤šç³»ç»Ÿç‰ˆæœ¬å…¼å®¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/3057325/weak-linking-check-if-a-class-exists-and-use-that-class&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Weak Linking - check if a class exists and use that class&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/19789958/xcode-preprocessor-macro-to-check-if-base-sdk-ios-7-0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Xcode preprocessor macro to check if Base SDK &amp;gt;= iOS 7.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://xuzhongzhou.net/post/ios-sdk-compatibility-guide.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS SDK å…¼å®¹æ€§æŒ‡å—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;h3 id=&quot;2015-11-16&quot;&gt;&lt;a href=&quot;#2015-11-16&quot; class=&quot;headerlink&quot; title=&quot;2015-11-16&quot;&gt;&lt;/a&gt;2015-11-16&lt;/h3&gt;&lt;p&gt;æ„Ÿè°¢å¾®åšå¥½å‹&lt;strong&gt;@zyyy_000&lt;/strong&gt;çš„è¯„è®ºï¼Œè¡¥å……äº†ä¸ºä»€ä¹ˆè¦åœ¨&lt;code&gt;+ (void)load&lt;/code&gt;æ–¹æ³•é‡Œé¢åš&lt;strong&gt;Method Swizzling&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘ï¼Œåœ¨åšé¡¹ç›®æ—¶ï¼Œå› ä¸ºæŸç§åŸå› ï¼Œçªç„¶è¦â€œé€‚é…â€iOS6ï¼ˆä¹Ÿæ˜¯é†‰äº†ã€‚ã€‚ã€‚ï¼‰ï¼Œä¿è¯æå°‘æ•°çš„iOS6ç”¨æˆ·å¯ä»¥â€œç”¨ä¸Šâ€æ–°çš„ç‰ˆæœ¬ã€‚å“ªæ€•ç•Œé¢ä¸Šæœ‰ç‘•ç–µï¼Œåªè¦åŠŸèƒ½æ­£å¸¸å°±è¡Œã€‚äºæ˜¯å°±åªå¥½èŠ±å‡ å¤©æ—¶é—´å¯¹iOS6è¿›è¡Œç´§æ€¥é€‚é…ï¼ˆå¿ƒä¸­ä¸€ä¸‡å¤´é©¼ç¾Šå¥”è·‘è€Œè¿‡ã€‚ã€‚ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§„çš„ï¼Œå’Œâ€œéå¸¸è§„â€çš„iOSé¡¹ç›®å‘è€ç‰ˆæœ¬å…¼å®¹çš„åŠæ³•ï¼Œç»“åˆäº†&lt;strong&gt;å®å®šä¹‰&lt;/strong&gt;ã€&lt;strong&gt;Category&lt;/strong&gt;å’Œ&lt;strong&gt;Runtime&lt;/strong&gt;ï¼Œå¤§å®¶çœ‹ç€æ¶ˆé£ä¸€ä¸‹å°±å¥½å“ˆ~&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Runtime" scheme="http://tutuge.me/tags/Runtime/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨Runtimeçš„æ‰‹æ®µå¡«å……ä»»æ„NSObjectå¯¹è±¡çš„nilå±æ€§</title>
    <link href="http://tutuge.me/2015/07/08/fill-nil-property-of-object/"/>
    <id>http://tutuge.me/2015/07/08/fill-nil-property-of-object/</id>
    <published>2015-07-08T15:23:23.000Z</published>
    <updated>2016-08-07T06:10:23.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¥½ä¹…æ²¡æœ‰å†™ä¸œè¥¿äº†ï¼Œå¿™å•Šã€‚&lt;/p&gt;
&lt;p&gt;å‰æ®µæ—¶é—´å‚åŠ äº†ä¸€ä¸‹æˆ‘ä»¬åç§‘è”åˆ›çš„HackDayï¼ˆæœ¬äººåœ¨è¯»ç ”=ã€‚=ï¼Œç›®å‰åœ¨é˜¿é‡Œå®ä¹ ï¼‰ï¼Œä½œå“æ˜¯ä¸€æ¬¾&lt;strong&gt;å®æ—¶åœ¨çº¿å¯¹æˆ˜æ¸¸æˆ - æ³¢æ³¢æ”’&lt;/strong&gt;ï¼Œï¼ˆä»‹ç»è¯·çœ‹&lt;a href=&quot;http://www.zhihu.com/question/24402279&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;çŸ¥ä¹&lt;/a&gt;ï¼‰&lt;br&gt;ä»iOSæ¸¸æˆå®¢æˆ·ç«¯ï¼ˆç”¨çš„&lt;strong&gt;SpriteKit&lt;/strong&gt;ï¼‰åˆ°åå°ï¼ˆ&lt;strong&gt;PHP CI + Node + SocketIO + MySQL&lt;/strong&gt;ï¼‰å…¨æ˜¯è‡ªå·±ä¸€ä¸ªäººå€’è…¾å‡ºæ¥çš„ï¼Œåšäº†ä¸€æŠŠçœŸæ­£çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œçˆ½å•Š~&lt;br&gt;åé¢ä¼šå®Œå–„æ•´ä¸ªæ¸¸æˆï¼Œå¢åŠ è§’è‰²ã€ä¼˜åŒ–å•¥çš„ï¼Œè¿‡ä¸Šä¸€æ®µæ—¶é—´ä¼šä¸Šçº¿çš„å“ˆ~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å›åˆ°æ­£æ–‡&lt;/strong&gt;ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»äº†æ€ä¹ˆç”¨Runtimeçš„æ‰‹æ®µéå†ä»»æ„NSObjectå¯¹è±¡çš„æ‰€æœ‰propertyï¼Œæ£€æŸ¥å…¶å€¼æ˜¯å¦æ˜¯nilï¼Œæ˜¯çš„è¯æ ¹æ®å…¶ç±»å‹ä¸ºå…¶å¡«å……ä¸€ä¸ªé»˜è®¤å€¼ã€‚&lt;br&gt;Runtimeæ¯•ç«Ÿæ˜¯ä¸ªâ€œå±é™©â€çš„æŠ€æœ¯ï¼Œæœ¬æ–‡çš„ä»£ç åªæ˜¯ä¸ªåˆæ­¥çš„å°è¯•ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;åˆè¡·&quot;&gt;&lt;a href=&quot;#åˆè¡·&quot; class=&quot;headerlink&quot; title=&quot;åˆè¡·&quot;&gt;&lt;/a&gt;åˆè¡·&lt;/h2&gt;&lt;p&gt;åœ¨åšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæ€»æ˜¯ä¼šå†™ä¸€å¤§å †ifã€elseè¯­å¥å»æ£€æŸ¥å¯¹è±¡çš„Propertyæ˜¯å¦æ˜¯nilï¼Œå¦‚ä»æœåŠ¡å™¨è¿”å›çš„JSONä¸­ç¼ºå°‘å±æ€§ï¼Œå¯¼è‡´Entityçš„æŸäº›å€¼ä¸ºç©ºï¼›æˆ–è€…åˆ›å»ºçš„å¯¹è±¡æ²¡æœ‰å¯¹æ‰€æœ‰å±æ€§åšåˆå§‹åŒ–ç­‰ç­‰ã€‚å†™å¤šäº†è§‰å¾—å¥½çƒ¦å•Š=ã€‚=&lt;br&gt;æ‰€ä»¥æƒ³åˆ°æœ¬æ–‡çš„æ–¹æ³•ï¼Œå—¯ï¼Œç¨‹åºå‘˜æ€»æ˜¯æ‡’çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³æ­¥éª¤&quot;&gt;&lt;a href=&quot;#è§£å†³æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³æ­¥éª¤&quot;&gt;&lt;/a&gt;è§£å†³æ­¥éª¤&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;éå†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ˆé»˜è®¤ä¸åŒ…æ‹¬çˆ¶ç±»å±æ€§ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯nilã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºnilçš„å±æ€§ï¼Œè·å–å®ƒçš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®ç±»å‹è®¾ç½®åˆå§‹å€¼ï¼ˆå¦‚NSStringå¯ä»¥è®¾ä¸ºç©ºå­—ç¬¦ä¸²ï¼›NSNumberå¯ä»¥è®¾ä¸º@0ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Runtime&quot;&gt;&lt;a href=&quot;#Runtime&quot; class=&quot;headerlink&quot; title=&quot;Runtime&quot;&gt;&lt;/a&gt;Runtime&lt;/h2&gt;&lt;p&gt;OCæ˜¯ä¸€é—¨â€œåŠ¨æ€â€ã€â€œåŸºäºæ¶ˆæ¯â€çš„è¯­è¨€ï¼Œè€ŒRuntimeå°±æ˜¯åˆ©ç”¨OCçš„åŠ¨æ€ç‰¹æ€§ï¼Œåœ¨è¿è¡Œæ—¶å¯¹ç¨‹åºåšå‡ºâ€œè°ƒæ•´â€çš„æŠ€æœ¯ã€‚æœ‰å…³Runtimeçš„å®˜æ–¹æ–‡æ¡£ã€ç½‘ä¸Šçš„èµ„æ–™å¾ˆå¤šï¼Œå¤§å®¶è‡ªå­¦å“ˆ~&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦ç”¨äº†å¦‚ä¸‹å‡ ä¸ªRuntimeçš„å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// è·å–ç±»çš„æ‰€æœ‰&lt;span class=&quot;keyword&quot;&gt;Property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;. objc_property_t *class_copyPropertyList(Class cls, unsigned int *outCount)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// è·å–ä¸€ä¸ª&lt;span class=&quot;keyword&quot;&gt;Property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;&lt;/span&gt;çš„å˜é‡å&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;. const char *property_getName(objc_property_t &lt;span class=&quot;keyword&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// è·å–ä¸€ä¸ª&lt;span class=&quot;keyword&quot;&gt;Property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;&lt;/span&gt;çš„è¯¦ç»†ç±»å‹è¡¨è¾¾å­—ç¬¦ä¸²&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;. const char *property_getAttributes(objc_property_t &lt;span class=&quot;keyword&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;ä¸å¥½ä¸€å—ä¸€å—æ‹†å¼€è¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * è§£æPropertyçš„Attributedå­—ç¬¦ä¸²ï¼Œå‚è€ƒStackoverflow&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *getPropertyType(objc_property_t property) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *attributes = property_getAttributes(property);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;%s&quot;&lt;/span&gt;, attributes);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; buffer[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; + strlen(attributes)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    strcpy(buffer, attributes);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *state = buffer, *attribute;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; ((attribute = strsep(&amp;amp;state, &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;)) != &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// éå¯¹è±¡ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (attribute[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;string&quot;&gt;&#39;T&#39;&lt;/span&gt; &amp;amp;&amp;amp; attribute[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] != &lt;span class=&quot;string&quot;&gt;&#39;@&#39;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// åˆ©ç”¨NSDataå¤åˆ¶ä¸€ä»½å­—ç¬¦ä¸²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *) [[&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithBytes:(attribute + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) length:strlen(attribute) - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] bytes];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// çº¯idç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (attribute[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;string&quot;&gt;&#39;T&#39;&lt;/span&gt; &amp;amp;&amp;amp; attribute[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;string&quot;&gt;&#39;@&#39;&lt;/span&gt; &amp;amp;&amp;amp; strlen(attribute) == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// å¯¹è±¡ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (attribute[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;string&quot;&gt;&#39;T&#39;&lt;/span&gt; &amp;amp;&amp;amp; attribute[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] == &lt;span class=&quot;string&quot;&gt;&#39;@&#39;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *) [[&lt;span class=&quot;built_in&quot;&gt;NSData&lt;/span&gt; dataWithBytes:(attribute + &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) length:strlen(attribute) - &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;] bytes];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ç»™å¯¹è±¡çš„å±æ€§è®¾ç½®é»˜è®¤å€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; checkEntity(&lt;span class=&quot;built_in&quot;&gt;NSObject&lt;/span&gt; *object) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¸åŒç±»å‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œç›®å‰åªæ˜¯ç®€å•æ£€æŸ¥å­—ç¬¦ä¸²ã€æ•°å­—ã€æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSSTRING&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSNUMBER&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSARRAY&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆå§‹åŒ–ç±»å‹å¸¸é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; onceToken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;onceToken, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &quot;NSString&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSSTRING&lt;/span&gt; =  &lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; class]).UTF8String;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &quot;NSNumber&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSNUMBER&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; class]).UTF8String;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// &quot;NSArray&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSARRAY&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; class]).UTF8String;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; outCount, i;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// åŒ…å«æ‰€æœ‰Propertyçš„æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        objc_property_t *properties = class_copyPropertyList([object class], &amp;amp;outCount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// éå†æ¯ä¸ªProperty&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; outCount; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// å–å‡ºå¯¹åº”Property&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            objc_property_t property = properties[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// è·å–Propertyå¯¹åº”çš„å˜é‡å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *propertyName = [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithUTF8String:property_getName(property)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// è·å–Propertyçš„ç±»å‹å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *propertyTypeName = getPropertyType(property);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// è·å–Propertyçš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; propertyValue = [object valueForKey:propertyName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// å€¼ä¸ºç©ºï¼Œæ‰è®¾ç½®é»˜è®¤å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!propertyValue) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// NSString&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (strncmp(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSSTRING&lt;/span&gt;, propertyTypeName, strlen(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSSTRING&lt;/span&gt;)) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [object setValue:&lt;span class=&quot;string&quot;&gt;@&quot;&quot;&lt;/span&gt; forKey:propertyName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// NSNumber&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (strncmp(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSNUMBER&lt;/span&gt;, propertyTypeName, strlen(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSNUMBER&lt;/span&gt;)) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [object setValue:@&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; forKey:propertyName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// NSArray&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (strncmp(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSARRAY&lt;/span&gt;, propertyTypeName, strlen(CLASS_NAME_&lt;span class=&quot;built_in&quot;&gt;NSARRAY&lt;/span&gt;)) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    [object setValue:@[] forKey:propertyName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// åˆ«å¿˜äº†é‡Šæ”¾æ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        free(properties);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;@catch&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSException&lt;/span&gt; *exception) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Check Entity Exception: %@&quot;&lt;/span&gt;, [exception description]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;é‡ç‚¹-è§£æproperty-getAttributeså‡½æ•°çš„ç»“æœ&quot;&gt;&lt;a href=&quot;#é‡ç‚¹-è§£æproperty-getAttributeså‡½æ•°çš„ç»“æœ&quot; class=&quot;headerlink&quot; title=&quot;é‡ç‚¹ - è§£æproperty_getAttributeså‡½æ•°çš„ç»“æœ&quot;&gt;&lt;/a&gt;é‡ç‚¹ - è§£æproperty_getAttributeså‡½æ•°çš„ç»“æœ&lt;/h2&gt;&lt;p&gt;åœ¨æ•´ä¸ªå¤„ç†è¿‡ç¨‹ä¸­ï¼Œproperty_getAttributeså‡½æ•°æ˜¯å…³é”®ï¼Œå› ä¸ºæˆ‘ä»¬è¦é¦–å…ˆç¡®å®šPropertyçš„ç±»å‹ï¼Œæ‰èƒ½æ ¹æ®ç±»å‹èµ‹åˆå€¼ï¼Œä½†æ˜¯property_getAttributeså‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²æ¯”è¾ƒâ€œæ™¦æ¶©éš¾æ‡‚â€ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å®šä¹‰çš„Propertyï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *number;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *array;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSInteger&lt;/span&gt; i;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; f;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *cStr;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¾æ¬¡é€šè¿‡property_getAttributesè·å–çš„ç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight mathematica&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;T@&lt;span class=&quot;string&quot;&gt;&quot;NSString&quot;&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;C&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;T@&lt;span class=&quot;string&quot;&gt;&quot;NSNumber&quot;&lt;/span&gt;,&amp;amp;,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_number&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;T@&lt;span class=&quot;string&quot;&gt;&quot;NSArray&quot;&lt;/span&gt;,&amp;amp;,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_array&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Tq,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Td,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;T*,&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt;,V_cStr&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‚è€ƒ&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html#//apple_ref/doc/uid/TP40008048-CH101&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt; Declared Properties of Objective-C Runtime Programming Guide&lt;/a&gt;&lt;br&gt;æˆ‘ä»¬å¤§æ¦‚å¯ä»¥çŸ¥é“ï¼ŒTè¡¨ç¤ºTypeï¼Œåé¢è·Ÿç€@è¡¨ç¤ºCocoaå¯¹è±¡ç±»å‹ï¼Œåé¢çš„è¡¨ç¤ºPropertyçš„å±æ€§ï¼Œå¦‚Copyã€strongç­‰ï¼Œç„¶åå°±æ˜¯å˜é‡åã€‚&lt;br&gt;æ‰€ä»¥getPropertyTypeå‡½æ•°çš„å·¥ä½œå°±æ˜¯çº¯ç²¹çš„è§£æå­—ç¬¦ä¸²ï¼Œè·å–T@åé¢çš„ç±»å‹åã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ•ˆæœ&quot;&gt;&lt;a href=&quot;#æ•ˆæœ&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœ&quot;&gt;&lt;/a&gt;æ•ˆæœ&lt;/h2&gt;&lt;p&gt;ä¾‹å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹å¯¹è±¡ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;UserEntity &lt;/span&gt;: NSObject&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (copy, nonatomic) NSString *name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (strong, nonatomic) NSNumber *number;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt; (strong, nonatomic) NSArray *array;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è®¾ç½®é»˜è®¤å€¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UserEntity *userEntity = [UserEntity new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ£€æŸ¥å±æ€§ï¼Œè®¾ç½®é»˜è®¤å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;checkEntity(userEntity)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä½¿ç”¨...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;name: %@&quot;&lt;/span&gt;, userEntity.name)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;number: %@&quot;&lt;/span&gt;, userEntity.number)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;array: %@&quot;&lt;/span&gt;, userEntity.array)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-07-11&lt;/span&gt; 18&lt;span class=&quot;selector-pseudo&quot;&gt;:17&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:25.918&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Common&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[6939:270543]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;name&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-07-11&lt;/span&gt; 18&lt;span class=&quot;selector-pseudo&quot;&gt;:17&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:25.918&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Common&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[6939:270543]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;number&lt;/span&gt;: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-07-11&lt;/span&gt; 18&lt;span class=&quot;selector-pseudo&quot;&gt;:17&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:25.918&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Common&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[6939:270543]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;array&lt;/span&gt;: (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰Propertyéƒ½æœ‰äº†åˆå€¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸Šé¢çš„ä¾‹å­åªæ˜¯ä¸ªç²—ç•¥çš„ç‰ˆæœ¬ï¼Œåªæ˜¯æ£€æŸ¥äº†å­—ç¬¦ä¸²ã€æ•°å­—ã€æ•°ç»„ï¼Œå…¶å®å®Œå…¨å¯ä»¥æ‰©å±•å‡ºå¾ˆå¤šåŠŸèƒ½ï¼Œå¦‚é’ˆå¯¹ä¸åŒçš„ç±»å‹ï¼Œæ ¹æ®å¯¹è±¡çš„ç±»å‹ï¼Œè®¾ç½®ä¸åŒçš„é»˜è®¤åˆå€¼ç­‰ï¼Œé è¯»è€…ä½ äº†~&lt;/p&gt;
&lt;p&gt;Runtimeæ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œä½†æ˜¯åˆ«ä¹±ç”¨å•Š=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ObjCRuntimeRef/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C Runtime Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html#//apple_ref/doc/uid/TP40008048-CH101&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C Runtime Programming Guide - Declared Properties&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/754824/get-an-object-properties-list-in-objective-c&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Get an object properties list in Objective-C&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¥½ä¹…æ²¡æœ‰å†™ä¸œè¥¿äº†ï¼Œå¿™å•Šã€‚&lt;/p&gt;
&lt;p&gt;å‰æ®µæ—¶é—´å‚åŠ äº†ä¸€ä¸‹æˆ‘ä»¬åç§‘è”åˆ›çš„HackDayï¼ˆæœ¬äººåœ¨è¯»ç ”=ã€‚=ï¼Œç›®å‰åœ¨é˜¿é‡Œå®ä¹ ï¼‰ï¼Œä½œå“æ˜¯ä¸€æ¬¾&lt;strong&gt;å®æ—¶åœ¨çº¿å¯¹æˆ˜æ¸¸æˆ - æ³¢æ³¢æ”’&lt;/strong&gt;ï¼Œï¼ˆä»‹ç»è¯·çœ‹&lt;a href=&quot;http://www.zhihu.com/question/24402279&quot;&gt;çŸ¥ä¹&lt;/a&gt;ï¼‰&lt;br&gt;ä»iOSæ¸¸æˆå®¢æˆ·ç«¯ï¼ˆç”¨çš„&lt;strong&gt;SpriteKit&lt;/strong&gt;ï¼‰åˆ°åå°ï¼ˆ&lt;strong&gt;PHP CI + Node + SocketIO + MySQL&lt;/strong&gt;ï¼‰å…¨æ˜¯è‡ªå·±ä¸€ä¸ªäººå€’è…¾å‡ºæ¥çš„ï¼Œåšäº†ä¸€æŠŠçœŸæ­£çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œçˆ½å•Š~&lt;br&gt;åé¢ä¼šå®Œå–„æ•´ä¸ªæ¸¸æˆï¼Œå¢åŠ è§’è‰²ã€ä¼˜åŒ–å•¥çš„ï¼Œè¿‡ä¸Šä¸€æ®µæ—¶é—´ä¼šä¸Šçº¿çš„å“ˆ~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å›åˆ°æ­£æ–‡&lt;/strong&gt;ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»äº†æ€ä¹ˆç”¨Runtimeçš„æ‰‹æ®µéå†ä»»æ„NSObjectå¯¹è±¡çš„æ‰€æœ‰propertyï¼Œæ£€æŸ¥å…¶å€¼æ˜¯å¦æ˜¯nilï¼Œæ˜¯çš„è¯æ ¹æ®å…¶ç±»å‹ä¸ºå…¶å¡«å……ä¸€ä¸ªé»˜è®¤å€¼ã€‚&lt;br&gt;Runtimeæ¯•ç«Ÿæ˜¯ä¸ªâ€œå±é™©â€çš„æŠ€æœ¯ï¼Œæœ¬æ–‡çš„ä»£ç åªæ˜¯ä¸ªåˆæ­¥çš„å°è¯•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Runtime" scheme="http://tutuge.me/tags/Runtime/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰è¶£çš„Autolayoutç¤ºä¾‹-Masonryå®ç°</title>
    <link href="http://tutuge.me/2015/05/23/autolayout-example-with-masonry/"/>
    <id>http://tutuge.me/2015/05/23/autolayout-example-with-masonry/</id>
    <published>2015-05-23T11:59:22.000Z</published>
    <updated>2016-08-09T16:47:34.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-08-06: ç¬¬å››ç¯‡: &lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-12-23: æ„Ÿè°¢&lt;a href=&quot;https://github.com/XVXVXXX&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XVXVXXX&lt;/a&gt;çš„PRï¼Œæ›´æ–°äº†Case2&lt;/li&gt;
&lt;li&gt;2015-12-15: ç¬¬ä¸‰ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-11-27: æ„Ÿè°¢â€œè°¢å°é›·â€æŒ‡å‡ºæ‰“å­—é”™è¯¯~&lt;/li&gt;
&lt;li&gt;2015-9-10: ç¬¬äºŒç¯‡: &lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-9-1: æ„Ÿè°¢â€œç‹æŒ¯å®‡Cè‰¹â€æŒ‡å‡ºæ‰“å­—é”™è¯¯ï¼Œå·²ç»ä¿®æ”¹äº†å“ˆ~&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¥½ä¹…æ²¡æœ‰å†™Blogäº†ï¼Œè¿™æ®µæ—¶é—´æœ‰ç‚¹å¿™å•Š=ã€‚=&lt;br&gt;æœ¬æ–‡ä¸¾äº†3ä¸ªæ¯”è¾ƒæœ‰â€œç‰¹ç‚¹â€çš„Autolayoutä¾‹å­ï¼Œæºäºå¾®åšä¸Šå¥½å‹çš„æé—®ï¼Œæ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€ï¼Œä¹Ÿæ¯”è¾ƒæœ‰ä»£è¡¨æ€§ï¼Œå°±å†™äº†å‡ºæ¥ï¼Œåˆ†äº«ç»™å¤§å®¶~&lt;br&gt;è‡³äºä¸ºä»€ä¹ˆç”¨Masonryï¼Œé‚£æ˜¯å› ä¸ºå®ƒå¥½ç”¨å•Šï¼ï¼ˆè¢«é—®åˆ°è¿‡æœ‰å…³Masonryçš„é—®é¢˜ï¼Œå°±ç´¢æ€§ç”¨å®ƒæ¥å®ç°å§=ã€‚=ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ•ˆæœå›¾&quot;&gt;&lt;a href=&quot;#æ•ˆæœå›¾&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/a&gt;æ•ˆæœå›¾&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_1.gif&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Githubåœ°å€&quot;&gt;&lt;a href=&quot;#Githubåœ°å€&quot; class=&quot;headerlink&quot; title=&quot;Githubåœ°å€&quot;&gt;&lt;/a&gt;Githubåœ°å€&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;å…³äºä¾‹å­å·¥ç¨‹ç»“æ„&quot;&gt;&lt;a href=&quot;#å…³äºä¾‹å­å·¥ç¨‹ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;å…³äºä¾‹å­å·¥ç¨‹ç»“æ„&quot;&gt;&lt;/a&gt;å…³äºä¾‹å­å·¥ç¨‹ç»“æ„&lt;/h3&gt;&lt;p&gt;å®ç°çš„æ—¶å€™é‡‡ç”¨çš„æ˜¯ç”¨StoryBoardæ‹–æ‹½çº¦æŸ+Masonryæ‰‹å†™ä»£ç ç›¸ç»“åˆçš„æ–¹å¼å®ç°ã€‚æœ€å…³é”®çš„åœ°æ–¹æ˜¯ç”¨Masonryï¼Œä¸ºäº†æ›´å¥½åœ°çªå‡ºé‡ç‚¹ã€‚å…¶å®ƒçš„æ— å…³ç´§è¦çš„ç©ºé—´çº¦æŸï¼Œç›´æ¥å°±æ‹–æ‹½äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…³äºAutolayout&quot;&gt;&lt;a href=&quot;#å…³äºAutolayout&quot; class=&quot;headerlink&quot; title=&quot;å…³äºAutolayout&quot;&gt;&lt;/a&gt;å…³äºAutolayout&lt;/h2&gt;&lt;p&gt;åˆšå¼€å§‹å­¦ä¹ Autolayoutçš„æ—¶å€™ï¼Œä»€ä¹ˆâ€œLeading Edgesâ€ã€â€œHorizontal Centersâ€ï¼Œå¥½å¤šå•Šï¼Œæ„Ÿè§‰ä¸€ä¸‹å­é€‚åº”ä¸æ¥ï¼Œæœ‰æ—¶å€™é¢å¯¹ä¸€ä¸ªç•Œé¢å¸ƒå±€ä¸Šçš„éœ€æ±‚ï¼Œå¯èƒ½éƒ½æ— ä»ä¸‹æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œæˆ‘è§‰å¾—Autolayoutçš„å…³é”®å°±æ˜¯â€œ&lt;strong&gt;Constraintï¼ˆçº¦æŸï¼‰&lt;/strong&gt;â€ã€‚å…¶å®å°±æ˜¯ä»¥ä¸‹ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»æ˜¾å¼è®¾ç½®frameçš„å±æ€§ï¼Œåˆ°åˆ©ç”¨çº¦æŸæ§åˆ¶Viewçš„å¤§å°ã€ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ€è€ƒå¦‚ä½•å¸ƒå±€æ—¶ï¼Œé‡ç‚¹ä»å•ä¸ªçš„Viewï¼Œåˆ°æ•´ä½“æ‰€æœ‰Viewä¹‹é—´çš„ç›¸äº’å…³ç³»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ—¢ç„¶æ²¡æœ‰äº†å…·ä½“è®¾ç½®Viewçš„frameå±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¼šåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡æˆ‘ä»¬è®¾å®šçš„â€œçº¦æŸâ€ï¼Œè®¡ç®—å‡ºæ¯ä¸ªViewçš„frameï¼Œå†å»ç»˜åˆ¶å±å¹•å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è®¾ç½®çš„Constraintï¼Œè¦èƒ½ä½“ç°å‡ºViewçš„&lt;strong&gt;ä½ç½®ï¼ˆxã€yåæ ‡ï¼‰&lt;/strong&gt;ã€&lt;strong&gt;å¤§å°ï¼ˆå®½é«˜ï¼‰&lt;/strong&gt;ã€‚æ— è®ºæ˜¯ç”¨IBæ‹–æ‹½çº¦æŸï¼Œè¿˜æ˜¯æ‰‹å†™ä»£ç ï¼Œåªè¦ä»è¿™ä¸ªè§’åº¦å»æ€è€ƒï¼Œå¾ˆå¤šé—®é¢˜å°±éƒ½èƒ½è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³Autolayoutçš„çŸ¥è¯†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œåœ¨è¿™é‡Œå°±ä¸è¯¦ç»†åˆ—å‡ºäº†ï¼Œä½†æ˜¯æœ‰ä¸ªå…¬å¼å€’æ˜¯å¯ä»¥è´´å‡ºæ¥ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;viewA-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; = viewB-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; * multiplier + &lt;span class=&quot;keyword&quot;&gt;constant&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å…³äºMasonry&quot;&gt;&lt;a href=&quot;#å…³äºMasonry&quot; class=&quot;headerlink&quot; title=&quot;å…³äºMasonry&quot;&gt;&lt;/a&gt;å…³äºMasonry&lt;/h2&gt;&lt;p&gt;å¥½ç”¨ï¼&lt;/p&gt;
&lt;h2 id=&quot;Case-1-å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹&quot;&gt;&lt;a href=&quot;#Case-1-å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;Case 1: å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹&quot;&gt;&lt;/a&gt;Case 1: å¹¶æ’ä¸¤ä¸ªlabelï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚çˆ¶çº§Viewå®½åº¦ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ˜¾ç¤ºå·¦è¾¹labelçš„å†…å®¹&lt;/h2&gt;&lt;p&gt;é‡åˆ°è¿™ç§è·Ÿå†…å®¹å‹ç¼©ã€ä¼˜å…ˆçº§æœ‰å…³çš„å¸ƒå±€ï¼Œå°±ä¸å¾—ä¸æAutolayoutä¸­çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§â€œ&lt;strong&gt;Content Compression Resistance&lt;/strong&gt;â€å’Œâ€œ&lt;strong&gt;Content Hugging&lt;/strong&gt;â€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Content-Compression-Resistance-ä¸è®¸æŒ¤æˆ‘ï¼&quot;&gt;&lt;a href=&quot;#Content-Compression-Resistance-ä¸è®¸æŒ¤æˆ‘ï¼&quot; class=&quot;headerlink&quot; title=&quot;Content Compression Resistance = ä¸è®¸æŒ¤æˆ‘ï¼&quot;&gt;&lt;/a&gt;Content Compression Resistance = ä¸è®¸æŒ¤æˆ‘ï¼&lt;/h3&gt;&lt;p&gt;å¯¹ï¼Œè¿™ä¸ªå±æ€§è¯´ç™½äº†å°±æ˜¯â€œä¸è®¸æŒ¤æˆ‘â€=ã€‚=&lt;br&gt;è¿™ä¸ªå±æ€§çš„ä¼˜å…ˆçº§ï¼ˆPriorityï¼‰è¶Šé«˜ï¼Œè¶Šä¸â€œå®¹æ˜“â€è¢«å‹ç¼©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ•´ä½“çš„ç©ºé—´è£…ä¸ä¸‹æ‰€æœ‰çš„Viewçš„æ—¶å€™ï¼ŒContent Compression Resistanceä¼˜å…ˆçº§è¶Šé«˜çš„ï¼Œæ˜¾ç¤ºçš„å†…å®¹è¶Šå®Œæ•´ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Content-Hugging-æŠ±ç´§ï¼&quot;&gt;&lt;a href=&quot;#Content-Hugging-æŠ±ç´§ï¼&quot; class=&quot;headerlink&quot; title=&quot;Content Hugging = æŠ±ç´§ï¼&quot;&gt;&lt;/a&gt;Content Hugging = æŠ±ç´§ï¼&lt;/h3&gt;&lt;p&gt;è¿™ä¸ªå±æ€§çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œæ•´ä¸ªViewå°±è¦è¶Šâ€œæŠ±ç´§â€Viewé‡Œé¢çš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯Viewçš„å¤§å°ä¸ä¼šéšç€çˆ¶çº§Viewçš„æ‰©å¤§è€Œæ‰©å¤§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ†æ&quot;&gt;&lt;a href=&quot;#åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ&quot;&gt;&lt;/a&gt;åˆ†æ&lt;/h3&gt;&lt;p&gt;æ ¹æ®è¦æ±‚ï¼Œå¯ä»¥å°†çº¦æŸåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•´ä½“ç©ºé—´è¶³å¤Ÿæ—¶ï¼Œä¸¤ä¸ªlabelçš„å®½åº¦ç”±å†…å®¹å†³å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œlabelçš„â€œContent Huggingâ€ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œè€Œä¸”æ²¡æœ‰å›ºå®šçš„Widthå±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;æ•´ä½“ç©ºé—´ä¸å¤Ÿæ—¶ï¼Œå·¦è¾¹çš„labelæ›´ä¸å®¹æ˜“è¢«å‹ç¼©ï¼Œä¹Ÿå°±æ˜¯â€œContent Compression Resistanceâ€ä¼˜å…ˆçº§æ›´é«˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‡ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;labelä¸è®¾ç½®å…·ä½“çš„å®½åº¦ï¼ˆwidthï¼‰å±æ€§ï¼Œå®½åº¦ç”±å†…å®¹å†³å®šã€‚&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºçš„ä¼˜å…ˆçº§ç”±â€œContent Compression Resistanceâ€å±æ€§çš„é«˜ä½å†³å®šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;çº¦æŸç¤ºä¾‹å›¾&quot;&gt;&lt;a href=&quot;#çº¦æŸç¤ºä¾‹å›¾&quot; class=&quot;headerlink&quot; title=&quot;çº¦æŸç¤ºä¾‹å›¾&quot;&gt;&lt;/a&gt;çº¦æŸç¤ºä¾‹å›¾&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_2.png&quot; alt=&quot;çº¦æŸç¤ºä¾‹å›¾&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å…³é”®ä»£ç &quot;&gt;&lt;a href=&quot;#å…³é”®ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;å…³é”®ä»£ç &quot;&gt;&lt;/a&gt;å…³é”®ä»£ç &lt;/h3&gt;&lt;p&gt;å…³é”®çš„ä»£ç å¦‚ä¸‹ï¼šï¼ˆlabel1æ˜¯å·¦è¾¹çš„labelï¼Œlabel2æ˜¯å³è¾¹çš„ï¼‰&lt;/p&gt;
&lt;h4 id=&quot;è®¾ç½®ä½ç½®&quot;&gt;&lt;a href=&quot;#è®¾ç½®ä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®ä½ç½®&quot;&gt;&lt;/a&gt;è®¾ç½®ä½ç½®&lt;/h4&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// label1: ä½äºå·¦ä¸Šè§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_label1 mas_makeConstraints:^(MASConstraintMaker *&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.top.equalTo(_contentView1.mas_top).with.offset(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.left.equalTo(_contentView1.mas_left).with.offset(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 40é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.height.equalTo(@&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// label2: ä½äºå³ä¸Šè§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_label2 mas_makeConstraints:^(MASConstraintMaker *&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å·¦è¾¹è´´ç€label1ï¼Œé—´éš”2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.left.equalTo(_label1.mas_right).with.offset(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ä¸Šè¾¹è´´ç€çˆ¶viewï¼Œé—´éš”5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.top.equalTo(_contentView1.mas_top).with.offset(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å³è¾¹çš„é—´éš”ä¿æŒå¤§äºç­‰äº2ï¼Œæ³¨æ„æ˜¯lessThanOrEqual&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œçš„â€œlessThanOrEqualToâ€æ”¾åœ¨ä»å·¦å¾€å³çš„Xè½´ä¸Šè€ƒè™‘ä¼šæ›´å¥½ç†è§£ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å³ï¼šlabel2çš„å³è¾¹ç•Œçš„Xåæ ‡å€¼â€œå°äºç­‰äºâ€containViewçš„å³è¾¹ç•Œçš„Xåæ ‡å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.right.lessThanOrEqualTo(_contentView1.mas_right).with.offset(&lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åªè®¾ç½®é«˜åº¦40&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.height.equalTo(@&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;è®¾ç½®å†…å®¹çº¦æŸ&quot;&gt;&lt;a href=&quot;#è®¾ç½®å†…å®¹çº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®å†…å®¹çº¦æŸ&quot;&gt;&lt;/a&gt;è®¾ç½®å†…å®¹çº¦æŸ&lt;/h4&gt;&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®label1çš„content hugging ä¸º1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[_label1 setContentHuggingPriority:UILayoutPriorityRequired&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           forAxis:UILayoutConstraintAxisHorizontal]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®label1çš„content compression ä¸º1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[_label1 setContentCompressionResistancePriority:UILayoutPriorityRequired&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                         forAxis:UILayoutConstraintAxisHorizontal]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®å³è¾¹çš„label2çš„content hugging ä¸º1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[_label2 setContentHuggingPriority:UILayoutPriorityRequired&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           forAxis:UILayoutConstraintAxisHorizontal]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®å³è¾¹çš„label2çš„content compression ä¸º250&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[_label2 setContentCompressionResistancePriority:UILayoutPriorityDefaultLow&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                         forAxis:UILayoutConstraintAxisHorizontal]&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å°èŠ‚&quot;&gt;&lt;a href=&quot;#å°èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;çµæ´»è¿ç”¨â€œContent Compression Resistanceâ€å’Œâ€œContent Huggingâ€å±æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Case-2-å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—&quot;&gt;&lt;a href=&quot;#Case-2-å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—&quot; class=&quot;headerlink&quot; title=&quot;Case 2: å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—&quot;&gt;&lt;/a&gt;Case 2: å››ä¸ªImageViewæ•´ä½“å±…ä¸­ï¼Œå¯ä»¥ä»»æ„æ˜¾ç¤ºã€éšè—&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹ç¤ºä¾‹çš„æˆªå›¾ï¼š&lt;br&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_3.png&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„å››ä¸ªSwitchæ§ä»¶åˆ†åˆ«æ§åˆ¶ä¸Šé¢å¯¹åº”ä½ç½®çš„å›¾ç‰‡æ˜¯å¦æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ†æ-1&quot;&gt;&lt;a href=&quot;#åˆ†æ-1&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ&quot;&gt;&lt;/a&gt;åˆ†æ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå°±æ˜¯æ•´ä½“å±…ä¸­ï¼Œä¸ºäº†å®ç°è¿™ä¸ªï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å°†å››ä¸ªå›¾ç‰‡â€œè£…è¿›â€ä¸€ä¸ª&lt;strong&gt;å®¹å™¨View&lt;/strong&gt;é‡Œé¢ï¼Œç„¶åè®©è¿™ä¸ªå®¹å™¨Viewåœ¨æ•´ä¸ªé¡µé¢ä¸­å±…ä¸­å³å¯ã€‚è¿™æ ·å°±ä¸ç”¨æ§åˆ¶æ¯ä¸ªå›¾ç‰‡çš„å±…ä¸­æ•ˆæœäº†ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åå°±æ˜¯æ˜¾ç¤ºä¸éšè—ã€‚åœ¨è¿™é‡Œæˆ‘ç›´æ¥æ§åˆ¶å›¾ç‰‡ImageViewçš„å®½åº¦ï¼Œå®½åº¦ä¸º0çš„æ—¶å€™ä¸å°±â€œéšè—â€äº†å—ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;çº¦æŸç¤ºä¾‹å›¾-1&quot;&gt;&lt;a href=&quot;#çº¦æŸç¤ºä¾‹å›¾-1&quot; class=&quot;headerlink&quot; title=&quot;çº¦æŸç¤ºä¾‹å›¾&quot;&gt;&lt;/a&gt;çº¦æŸç¤ºä¾‹å›¾&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_4.png&quot; alt=&quot;çº¦æŸç¤ºä¾‹å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£é‡Š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾ç½®ï¼Œä¸»è¦ç›®çš„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°½é‡å‡å°‘æ— æ•ˆçš„çº¦æŸï¼Œä¿è¯çº¦æŸä¸å¤šä¹Ÿä¸å°‘ã€‚&lt;/li&gt;
&lt;li&gt;å†…éƒ¨çš„æ¯ä¸ªimageViewçº¦æŸå…¶å®éƒ½åªæœ‰å››ä¸ªï¼šleftã€centerYã€widthå’Œheightï¼Œè¿™æ ·æœ‰ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥åœ¨å¾ªç¯é‡Œé¢ä¾æ¬¡æ·»åŠ çº¦æŸï¼Œå¤§å¤§å‡å°‘ä»£ç é‡ã€‚&lt;/li&gt;
&lt;li&gt;æœ€å³è¾¹çš„imageViewè¿˜è¦å•ç‹¬è®¾ç½®è·Ÿå®¹å™¨Viewçš„å³è¾¹çº¦æŸï¼Œæ˜¯ä¸ºäº†ä¸ç”¨è®¾ç½®å®¹å™¨Viewçš„widthï¼Œä¿è¯å®¹å™¨Viewæ˜¯åˆšå¥½åŒ…å«å†…éƒ¨çš„Viewçš„ï¼Œè¿™æ ·æ•´ä½“æ‰æ˜¯å±…ä¸­çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;å…³é”®ä»£ç -1&quot;&gt;&lt;a href=&quot;#å…³é”®ä»£ç -1&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®ä»£ç &quot;&gt;&lt;/a&gt;å…³é”®ä»£ç &lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹æœ€å¤–å±‚å®¹å™¨Viewçš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//containerView å°±æ˜¯ å®¹å™¨View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_containerView mas_makeConstraints:^(MASConstraintMaker *&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åªè®¾ç½®é«˜åº¦ï¼Œå®½åº¦ç”±å­Viewå†³å®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.height.equalTo(@(IMAGE_SIZE));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ°´å¹³å±…ä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.centerX.equalTo(self.view.mas_centerX);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è·ç¦»çˆ¶Viewé¡¶éƒ¨200ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;.top.equalTo(self.view.mas_top).offset(&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¾ªç¯åˆ›å»ºæ¯ä¸ªå†…éƒ¨çš„imageView&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å¾ªç¯åˆ›å»ºã€æ·»åŠ imageView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (NSUInteger i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;; i &amp;lt; 4; i++) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIImageView *imageView = [[UIImageView &lt;span class=&quot;keyword&quot;&gt;alloc&lt;/span&gt;] initWithImage:[UIImage imageNamed:_imageNames[i]]]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_imageViews addObject:imageView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_containerView addSubview:imageView]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ€åæ˜¯å¾ªç¯å¯¹imageViewåŠ ä¸Šçº¦æŸï¼š æ„Ÿè°¢&lt;a href=&quot;https://github.com/XVXVXXX&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XVXVXXX&lt;/a&gt;çš„PR:-D&lt;br&gt;&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾å®šå¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGSize imageViewSize = CGSizeMake(IMAGE_SIZE, IMAGE_SIZE)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ†åˆ«è®¾ç½®æ¯ä¸ªimageViewçš„å®½é«˜ã€å·¦è¾¹ã€å‚ç›´ä¸­å¿ƒçº¦æŸï¼Œæ³¨æ„çº¦æŸçš„å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ¯ä¸ªViewçš„å·¦è¾¹çº¦æŸå’Œå·¦è¾¹çš„Viewçš„å³è¾¹ç›¸ç­‰=ã€‚=ï¼Œæœ‰ç‚¹ç»•å£...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä¿å­˜å¾ªç¯ä¸­çš„ä¸´æ—¶ç»“æœ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__block UIView *lastView = nil&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__block MASConstraint *widthConstraint = nil&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSUInteger arrayCount = _imageViews.count&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_imageViews enumerateObjectsUsingBlock:^(UIView *view, NSUInteger idx, BOOL *&lt;span class=&quot;keyword&quot;&gt;stop&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [view mas_makeConstraints:^(MASConstraintMaker *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//å®½é«˜å›ºå®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        widthConstraint = make.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.equalTo(@(imageViewSize.&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.height.equalTo(@(imageViewSize.height))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//å·¦è¾¹çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.left.equalTo(lastView ? lastView.mas_right : view.superview.mas_left)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//å‚ç›´ä¸­å¿ƒå¯¹é½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        make.centerY.equalTo(view.superview.mas_centerY)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//è®¾ç½®æœ€å³è¾¹çš„imageViewçš„å³è¾¹ä¸çˆ¶viewçš„æœ€å³å¯¹é½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (idx == arrayCount - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            make.right.equalTo(view.superview.mas_right)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [_widthConstraints addObject:widthConstraint]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        lastView = view&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ§åˆ¶ImageViewæ˜¾ç¤ºã€éšè—çš„æ—¶å€™ï¼Œç›´æ¥è®©å…¶å®½åº¦ç­‰äº0å°±è¡Œï¼š&lt;br&gt;&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (IBAction)showOrHideImage:(UISwitch *)sender &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSUInteger index = (NSUInteger) sender.tag&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    MASConstraint *&lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt; = _widthConstraints[index]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sender.&lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.equalTo(@(IMAGE_SIZE))&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;width&lt;/span&gt;.equalTo(@&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;å°èŠ‚-1&quot;&gt;&lt;a href=&quot;#å°èŠ‚-1&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;æœ‰æ—¶å€™ç”¨ä¸ªâ€œå®¹å™¨Viewâ€ç®¡ç†å†…éƒ¨çš„Viewï¼Œå¾€å¾€ä¼šèµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚è€Œä¸”åœ¨ç»„ç»‡çº¦æŸçš„æ—¶å€™ï¼Œå°½é‡çš„å°†çº¦æŸç»Ÿä¸€èµ·æ¥ï¼Œè¿™æ ·å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°å»è®¾ç½®ï¼Œå‡å°‘ä»£ç é‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Case-3-å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰&quot;&gt;&lt;a href=&quot;#Case-3-å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;Case 3: å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰&quot;&gt;&lt;/a&gt;Case 3: å­Viewçš„å®½åº¦å§‹ç»ˆæ˜¯çˆ¶çº§Viewçš„ä¸€åŠï¼ˆæˆ–è€…ä»»æ„ç™¾åˆ†æ¯”ï¼‰&lt;/h2&gt;&lt;p&gt;å…¶å®è¿™ä¸ªå¾ˆç®€å•=ã€‚= å†çœ‹çœ‹è¿™ä¸ªå…¬å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;viewA-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; = viewB-&lt;span class=&quot;keyword&quot;&gt;attribute&lt;/span&gt; * multiplier + &lt;span class=&quot;keyword&quot;&gt;constant&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯Autolayouté‡Œé¢ä¸€ä¸ªçº¦æŸçš„ä¸åŒå±æ€§çš„åŸºæœ¬ç»„åˆå…³ç³»ï¼Œæ›¿æ¢æˆå®½åº¦çš„è¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å­&lt;span class=&quot;keyword&quot;&gt;View&lt;/span&gt;çš„å®½åº¦ = çˆ¶çº§&lt;span class=&quot;keyword&quot;&gt;View&lt;/span&gt;å®½åº¦ * ç³»æ•° + å¸¸æ•°ï¼›&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨Masonryé‡Œé¢ï¼Œå…¶å®æœ‰ä¸ªå‡½æ•°â€œ&lt;strong&gt;multipliedBy&lt;/strong&gt;â€ï¼Œå°±æ˜¯ç”¨æ¥è®¾ç½®multiplerå±æ€§çš„ï¼ˆè·ŸåŸæœ¬çš„NSLayoutConstraintçš„å¯¹åº”ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…³é”®ä»£ç -2&quot;&gt;&lt;a href=&quot;#å…³é”®ä»£ç -2&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®ä»£ç &quot;&gt;&lt;/a&gt;å…³é”®ä»£ç &lt;/h3&gt;&lt;p&gt;å¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[subView mas_makeConstraints:^(&lt;span class=&quot;name&quot;&gt;MASConstraintMaker&lt;/span&gt; *make) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //ä¸Šä¸‹å·¦è´´è¾¹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.left.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_left&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.top.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_top&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.bottom.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_bottom&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //å®½åº¦ä¸ºçˆ¶viewçš„å®½åº¦çš„ä¸€åŠ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    make.width.equalTo(&lt;span class=&quot;name&quot;&gt;_containerView.mas_width&lt;/span&gt;).multipliedBy(&lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œåªè¦æ§åˆ¶çˆ¶çº§Viewçš„å®½åº¦ï¼Œå­Viewçš„å®½åº¦å°±ä¼šéšç€å˜åŒ–äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å°èŠ‚-2&quot;&gt;&lt;a href=&quot;#å°èŠ‚-2&quot; class=&quot;headerlink&quot; title=&quot;å°èŠ‚&quot;&gt;&lt;/a&gt;å°èŠ‚&lt;/h3&gt;&lt;p&gt;multipliedByåœ¨Masonryçš„Githubä¸»é¡µé‡Œé¢æ²¡æœ‰=ã€‚=&lt;br&gt;æ‰€ä»¥è¦å…»æˆè¯»å¤´æ–‡ä»¶çš„ä¹ æƒ¯~&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æœ‰å…³Autolayoutçš„ä¸œè¥¿è¿˜æœ‰å¥½å¤šæ²¡æœ‰å†™ï¼Œä»€ä¹ˆåŠ¨ç”»å•Šã€åŠ¨æ€ä¿®æ”¹çº¦æŸä¹‹ç±»çš„ï¼Œæœ¬æ–‡ä¹Ÿç®—æ˜¯ä¸ªå¼•å­å§ï¼Œä»»é‡è€Œé“è¿œ~&lt;/p&gt;
&lt;p&gt;èƒ½çœ‹åˆ°è¿™çš„æœ‹å‹ï¼Œä¹Ÿç®—æ˜¯å¾ˆæœ‰è€å¿ƒäº†ï¼Œå“ˆå“ˆ~~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/SnapKit/Masonry&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SnapKit/Masonry&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://adad184.com/2014/09/28/use-masonry-to-quick-solve-autolayout/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Masonryä»‹ç»ä¸ä½¿ç”¨å®è·µ(å¿«é€Ÿä¸Šæ‰‹Autolayout)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.vienta.me/2014/12/07/AutoLayout-å¿˜æ‰Frame-æ‹¥æŠ±Constraintï¼ˆIï¼‰/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoLayout:å¿˜æ‰Frame,æ‹¥æŠ±Constraint&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zybuluo.com/MicroCai/note/73867#autolayout-åŸºç¡€&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Autolayout åŸºç¡€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://codingobjc.com/blog/2015/01/28/autolayoutzhong-de-content-compression-resistancehe-content-huggingdao-di-shi-shi-yao-yi-si/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¯¹Auto Layoutä¸­çš„Content Compression Resistanceå’ŒContent Huggingçš„æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Auto Layout Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-08-06: ç¬¬å››ç¯‡: &lt;a href=&quot;http://tutuge.me/2016/08/06/autolayout-example-with-masonry4/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹4-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-12-23: æ„Ÿè°¢&lt;a href=&quot;https://github.com/XVXVXXX&quot;&gt;XVXVXXX&lt;/a&gt;çš„PRï¼Œæ›´æ–°äº†Case2&lt;/li&gt;
&lt;li&gt;2015-12-15: ç¬¬ä¸‰ç¯‡ï¼š&lt;a href=&quot;http://tutuge.me/2015/12/14/autolayout-example-with-masonry3/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹3-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-11-27: æ„Ÿè°¢â€œè°¢å°é›·â€æŒ‡å‡ºæ‰“å­—é”™è¯¯~&lt;/li&gt;
&lt;li&gt;2015-9-10: ç¬¬äºŒç¯‡: &lt;a href=&quot;http://tutuge.me/2015/08/08/autolayout-example-with-masonry2/&quot;&gt;æœ‰è¶£çš„Autolayoutç¤ºä¾‹2-Masonryå®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2015-9-1: æ„Ÿè°¢â€œç‹æŒ¯å®‡Cè‰¹â€æŒ‡å‡ºæ‰“å­—é”™è¯¯ï¼Œå·²ç»ä¿®æ”¹äº†å“ˆ~&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¥½ä¹…æ²¡æœ‰å†™Blogäº†ï¼Œè¿™æ®µæ—¶é—´æœ‰ç‚¹å¿™å•Š=ã€‚=&lt;br&gt;æœ¬æ–‡ä¸¾äº†3ä¸ªæ¯”è¾ƒæœ‰â€œç‰¹ç‚¹â€çš„Autolayoutä¾‹å­ï¼Œæºäºå¾®åšä¸Šå¥½å‹çš„æé—®ï¼Œæ„Ÿè§‰æ¯”è¾ƒæœ‰æ„æ€ï¼Œä¹Ÿæ¯”è¾ƒæœ‰ä»£è¡¨æ€§ï¼Œå°±å†™äº†å‡ºæ¥ï¼Œåˆ†äº«ç»™å¤§å®¶~&lt;br&gt;è‡³äºä¸ºä»€ä¹ˆç”¨Masonryï¼Œé‚£æ˜¯å› ä¸ºå®ƒå¥½ç”¨å•Šï¼ï¼ˆè¢«é—®åˆ°è¿‡æœ‰å…³Masonryçš„é—®é¢˜ï¼Œå°±ç´¢æ€§ç”¨å®ƒæ¥å®ç°å§=ã€‚=ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ•ˆæœå›¾&quot;&gt;&lt;a href=&quot;#æ•ˆæœå›¾&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/a&gt;æ•ˆæœå›¾&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_autolayout_example_with_masonry_1.gif&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Githubåœ°å€&quot;&gt;&lt;a href=&quot;#Githubåœ°å€&quot; class=&quot;headerlink&quot; title=&quot;Githubåœ°å€&quot;&gt;&lt;/a&gt;Githubåœ°å€&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/zekunyan/AutolayoutExampleWithMasonry&quot;&gt;https://github.com/zekunyan/AutolayoutExampleWithMasonry&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="Autolayout" scheme="http://tutuge.me/tags/Autolayout/"/>
    
      <category term="Masonry" scheme="http://tutuge.me/tags/Masonry/"/>
    
  </entry>
  
  <entry>
    <title>UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç»­-è‡ªå®šä¹‰è¡¨æƒ…å›¾ç‰‡çš„å¤§å°</title>
    <link href="http://tutuge.me/2015/04/21/resizable-nstextattachment/"/>
    <id>http://tutuge.me/2015/04/21/resizable-nstextattachment/</id>
    <published>2015-04-21T12:26:17.000Z</published>
    <updated>2016-03-20T09:03:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2015-11-27ï¼šå¢åŠ äº†åˆ©ç”¨NSTextAttachmentçš„boundså±æ€§ä¿®æ”¹å¤§å°çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡æ˜¯åŸºäº&lt;a href=&quot;http://tutuge.me/2015/03/07/UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–/&quot;&gt;UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–&lt;/a&gt;å†™çš„ï¼Œä¸»è¦å®ç°äº†åœ¨UITextViewæ’å…¥è¡¨æƒ…å›¾ç‰‡æ—¶ï¼Œè‡ªå®šä¹‰è¡¨æƒ…å¤§å°çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h4 id=&quot;Github&quot;&gt;&lt;a href=&quot;#Github&quot; class=&quot;headerlink&quot; title=&quot;Github&quot;&gt;&lt;/a&gt;Github&lt;/h4&gt;&lt;p&gt;æœ¬æ–‡ä»£ç å·¥ç¨‹åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/UITextViewDIYEmojiExample&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/UITextViewDIYEmojiExample&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;a href=&quot;#Gifç¤ºä¾‹å›¾&quot; class=&quot;headerlink&quot; title=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;/a&gt;Gifç¤ºä¾‹å›¾&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_resizable_nstextattachment_1.gif&quot; alt=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å…³é”®ç‚¹&quot;&gt;&lt;a href=&quot;#å…³é”®ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®ç‚¹&quot;&gt;&lt;/a&gt;å…³é”®ç‚¹&lt;/h2&gt;&lt;p&gt;é¦–å…ˆè¦æ˜ç¡®æˆ‘ä»¬è¦ä»€ä¹ˆï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯&lt;strong&gt;æŒ‡å®šNSTextAttachmentåœ¨è¢«ç»˜åˆ¶æ—¶çš„å¤§å°&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå°±å¯ä»¥å»æ‰¾æ‰¾NSTextAttachmentç±»çš„ç›¸å…³æ–¹æ³•ï¼Œçœ‹èƒ½ä¸èƒ½é€šè¿‡ç»§æ‰¿æˆ–å…¶ä»–çš„æ–¹å¼æ”¹å˜å¤§å°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ–¹æ³•1-NSTextAttachmentContainer&quot;&gt;&lt;a href=&quot;#æ–¹æ³•1-NSTextAttachmentContainer&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•1 - NSTextAttachmentContainer&quot;&gt;&lt;/a&gt;æ–¹æ³•1 - NSTextAttachmentContainer&lt;/h3&gt;&lt;p&gt;NSTextAttachmentå®ç°äº†â€œ&lt;strong&gt;NSTextAttachmentContainer&lt;/strong&gt;â€è¿™ä¸ªProtocolï¼Œè€Œè¿™ä¸ªProtocolé‡Œé¢æœ‰å¦‚ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- &lt;span class=&quot;params&quot;&gt;(CGRect)&lt;/span&gt;attachmentBoundsForTextContainer:&lt;span class=&quot;params&quot;&gt;(NSTextContainer *)&lt;/span&gt;textContainer&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                      proposedLineFragment:&lt;span class=&quot;params&quot;&gt;(CGRect)&lt;/span&gt;lineFrag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                             glyphPosition:&lt;span class=&quot;params&quot;&gt;(CGPoint)&lt;/span&gt;position&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            characterIndex:&lt;span class=&quot;params&quot;&gt;(NSUInteger)&lt;/span&gt;charIndex&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å†çœ‹çœ‹å…¶è§£é‡Šï¼š&lt;br&gt;&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Returns &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; layout bounds &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;text&lt;/span&gt; attachment &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; layout manager. (required)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»˜åˆ¶NSTextAttachmentçš„å†…å®¹çš„æ—¶å€™ï¼Œå†…å®¹çš„â€œBoundsâ€æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•è·å¾—çš„ã€‚æ‰€ä»¥ï¼Œå¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œæ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ–¹æ³•2-ç›´æ¥ä¿®æ”¹bounds&quot;&gt;&lt;a href=&quot;#æ–¹æ³•2-ç›´æ¥ä¿®æ”¹bounds&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•2 - ç›´æ¥ä¿®æ”¹bounds&quot;&gt;&lt;/a&gt;æ–¹æ³•2 - ç›´æ¥ä¿®æ”¹bounds&lt;/h3&gt;&lt;p&gt;NSTextAttachmentè¿˜æœ‰ä¸€ä¸ªå±æ€§&lt;code&gt;@property(nonatomic) CGRect bounds&lt;/code&gt;ï¼Œå…¶è§£é‡Šå¦‚ä¸‹ï¼š&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Defines &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; layout bounds &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; receiver&#39;s graphical representation &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;text&lt;/span&gt; coordinate system.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä¿®æ”¹è¿™ä¸ªä¹Ÿå¯ä»¥è¾¾åˆ°ç›®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°æ–¹æ³•1-ç»§ç»­æ‰©å±•NSTextAttachmentç±»&quot;&gt;&lt;a href=&quot;#å®ç°æ–¹æ³•1-ç»§ç»­æ‰©å±•NSTextAttachmentç±»&quot; class=&quot;headerlink&quot; title=&quot;å®ç°æ–¹æ³•1 - ç»§ç»­æ‰©å±•NSTextAttachmentç±»&quot;&gt;&lt;/a&gt;å®ç°æ–¹æ³•1 - ç»§ç»­æ‰©å±•NSTextAttachmentç±»&lt;/h2&gt;&lt;h3 id=&quot;ä¿å­˜è‡ªå®šä¹‰Size&quot;&gt;&lt;a href=&quot;#ä¿å­˜è‡ªå®šä¹‰Size&quot; class=&quot;headerlink&quot; title=&quot;ä¿å­˜è‡ªå®šä¹‰Size&quot;&gt;&lt;/a&gt;ä¿å­˜è‡ªå®šä¹‰Size&lt;/h3&gt;&lt;p&gt;æ ¹æ®ä¹‹å‰çš„å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨è‡ªå®šä¹‰çš„ç±»â€œEmojiTextAttachmentâ€ä¸­å†åŠ ä¸€ä¸ªä¿å­˜å¤§å°çš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//EmojiTextAttachmentç±»å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;EmojiTextAttachment &lt;/span&gt;: NSTextAttachment&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¡¨æƒ…çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè§å‰æ–‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSString *emojiTag;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ–°å¢ï¼šä¿å­˜å½“å‰è¡¨æƒ…å›¾ç‰‡çš„å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(assign, nonatomic) CGSize emojiSize;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ‰äº†â€œ&lt;strong&gt;emojiSize&lt;/strong&gt;â€è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è‡ªç”±çš„æŒ‡å®šæ¯ä¸ªNSTextAttachmentçš„å¤§å°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é‡å†™&quot;&gt;&lt;a href=&quot;#é‡å†™&quot; class=&quot;headerlink&quot; title=&quot;é‡å†™&quot;&gt;&lt;/a&gt;é‡å†™&lt;/h3&gt;&lt;p&gt;æ¥ä¸‹æ¥å°±æ˜¯é‡å†™æ–¹æ³•ï¼Œä¸å¤šè¯´ï¼Œè§ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//EmojiTextAttachmentå®ç°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;EmojiTextAttachment&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//é‡ç‚¹ï¼é‡å†™NSTextAttachmentContainer Protocolçš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;CGRect&lt;/span&gt;)attachmentBoundsForTextContainer:(&lt;span class=&quot;built_in&quot;&gt;NSTextContainer&lt;/span&gt; *)textContainer proposedLineFragment:(&lt;span class=&quot;built_in&quot;&gt;CGRect&lt;/span&gt;)lineFrag glyphPosition:(&lt;span class=&quot;built_in&quot;&gt;CGPoint&lt;/span&gt;)position characterIndex:(&lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt;)charIndex &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// è¿”å›æˆ‘ä»¬æŒ‡å®šçš„size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;CGRectMake&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, _emojiSize.width, _emojiSize.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å®ç°æ–¹æ³•2&quot;&gt;&lt;a href=&quot;#å®ç°æ–¹æ³•2&quot; class=&quot;headerlink&quot; title=&quot;å®ç°æ–¹æ³•2&quot;&gt;&lt;/a&gt;å®ç°æ–¹æ³•2&lt;/h2&gt;&lt;p&gt;ç›´æ¥åœ¨åˆ›å»ºè¡¨æƒ…NSTextAttachmentçš„æ—¶å€™è®¾ç½®&lt;code&gt;bounds&lt;/code&gt;å±æ€§å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨&quot;&gt;&lt;/a&gt;ä½¿ç”¨&lt;/h2&gt;&lt;p&gt;å¢åŠ äº†emojiSizeå±æ€§åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åˆ›å»ºè¡¨æƒ…ï¼Œç”šè‡³åˆ›å»ºåï¼Œè‡ªç”±çš„è°ƒæ•´æ¯ä¸ªNSTextAttachmentçš„å¤§å°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸€å…±åªå¢åŠ äº†åå‡ è¡Œä»£ç ï¼Œä½†æ˜¯æ•ˆæœè¿˜æ˜¯ä¸é”™å“’~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/NSTextAttachment_Class_TextKit/index.html#//apple_ref/occ/instp/NSTextAttachment/fileType&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSTextAttachment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/NSTextAttachmentContainer_Protocol/index.html#//apple_ref/occ/intfm/NSTextAttachmentContainer/attachmentBoundsForTextContainer:proposedLineFragment:glyphPosition:characterIndex:&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSTextAttachmentContainer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2015-11-27ï¼šå¢åŠ äº†åˆ©ç”¨NSTextAttachmentçš„boundså±æ€§ä¿®æ”¹å¤§å°çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡æ˜¯åŸºäº&lt;a href=&quot;http://tutuge.me/2015/03/07/UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–/&quot;&gt;UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–&lt;/a&gt;å†™çš„ï¼Œä¸»è¦å®ç°äº†åœ¨UITextViewæ’å…¥è¡¨æƒ…å›¾ç‰‡æ—¶ï¼Œè‡ªå®šä¹‰è¡¨æƒ…å¤§å°çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h4 id=&quot;Github&quot;&gt;&lt;a href=&quot;#Github&quot; class=&quot;headerlink&quot; title=&quot;Github&quot;&gt;&lt;/a&gt;Github&lt;/h4&gt;&lt;p&gt;æœ¬æ–‡ä»£ç å·¥ç¨‹åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/UITextViewDIYEmojiExample&quot;&gt;https://github.com/zekunyan/UITextViewDIYEmojiExample&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;a href=&quot;#Gifç¤ºä¾‹å›¾&quot; class=&quot;headerlink&quot; title=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;/a&gt;Gifç¤ºä¾‹å›¾&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_resizable_nstextattachment_1.gif&quot; alt=&quot;Gifç¤ºä¾‹å›¾&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>RPCæ¡†æ¶Thriftä¾‹å­-PHPè°ƒç”¨C++åç«¯ç¨‹åº</title>
    <link href="http://tutuge.me/2015/04/19/thrift-example-cpp-and-php/"/>
    <id>http://tutuge.me/2015/04/19/thrift-example-cpp-and-php/</id>
    <published>2015-04-19T09:04:56.000Z</published>
    <updated>2016-03-20T09:03:50.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-02-22: Responseå¯¹è±¡ä¸ç”¨ä¸»åŠ¨åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´ç”¨äº†ä¸€ä¸‹Facebookçš„å¼€æºRPCæ¡†æ¶Thriftï¼ŒåšPHPå®¢æˆ·ç«¯è°ƒç”¨C++åç«¯ç¨‹åºï¼ŒçœŸå¿ƒè§‰å¾—Thriftä¸é”™ï¼&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/ThriftDemo_PHP_CPP&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/ThriftDemo_PHP_CPP&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹æœ¬æ–‡çš„ä¾‹å­ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_thrift_example_cpp_and_php_1.jpg&quot; alt=&quot;é€šä¿¡ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PHPå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°æ˜¯â€œRequestâ€ç±»å‹ï¼Œé‡Œé¢æœ‰studentIDå‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;CPPæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚è¿”å›æ•°æ®ï¼Œè¿”å›ç±»å‹ä¸ºâ€œResponseâ€ï¼Œé‡Œé¢åŒ…å«äº†studentçš„ä¿¡æ¯ï¼Œæ­¤å¤„åªæ˜¯ç®€å•çš„ç¤ºä¾‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å®šä¹‰&quot;&gt;&lt;a href=&quot;#å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;å®šä¹‰&quot;&gt;&lt;/a&gt;å®šä¹‰&lt;/h2&gt;&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯RPC&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯RPC&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯RPC&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯RPC&lt;/h3&gt;&lt;p&gt;è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆè‹±è¯­ï¼šRemote Procedure Callï¼Œç¼©å†™ä¸º RPCï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡åè®®ã€‚è¯¥åè®®å…è®¸è¿è¡Œäºä¸€å°è®¡ç®—æœºçš„ç¨‹åºè°ƒç”¨å¦ä¸€å°è®¡ç®—æœºçš„å­ç¨‹åºï¼Œè€Œç¨‹åºå‘˜æ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ã€‚ â€“ ç»´åŸºç™¾ç§‘ - &lt;a href=&quot;http://zh.wikipedia.org/wiki/%E9%81%A0%E7%A8%8B%E9%81%8E%E7%A8%8B%E8%AA%BF%E7%94%A8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿œç¨‹è¿‡ç¨‹è°ƒç”¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šä¿—ç‚¹è®²ï¼Œå°±æ˜¯è·¨è®¡ç®—æœºã€è·¨ç½‘ç»œè°ƒç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯Thrift&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯Thrift&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯Thrift&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯Thrift&lt;/h3&gt;&lt;p&gt;Apache Thrift æ˜¯Facebookå®ç°çš„ä¸€ç§é«˜æ•ˆçš„ã€æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„è¿œç¨‹æœåŠ¡è°ƒç”¨(RPC)çš„æ¡†æ¶ã€‚å®ƒé‡‡ç”¨æ¥å£æè¿°è¯­è¨€å®šä¹‰å¹¶åˆ›å»ºæœåŠ¡ï¼Œæ”¯æŒå¯æ‰©å±•çš„è·¨è¯­è¨€æœåŠ¡å¼€å‘ï¼Œæ‰€åŒ…å«çš„ä»£ç ç”Ÿæˆå¼•æ“å¯ä»¥åœ¨å¤šç§è¯­è¨€ä¸­ï¼Œå¦‚ C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, Smalltalk ç­‰åˆ›å»ºé«˜æ•ˆçš„ã€æ— ç¼çš„æœåŠ¡ï¼Œå…¶ä¼ è¾“æ•°æ®é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼Œç›¸å¯¹ XML å’Œ JSON ä½“ç§¯æ›´å°ï¼Œå¯¹äºé«˜å¹¶å‘ã€å¤§æ•°æ®é‡å’Œå¤šè¯­è¨€çš„ç¯å¢ƒæ›´æœ‰ä¼˜åŠ¿ã€‚ â€“ &lt;a href=&quot;https://www.ibm.com/developerworks/cn/java/j-lo-apachethrift/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Apache Thrift - å¯ä¼¸ç¼©çš„è·¨è¯­è¨€æœåŠ¡å¼€å‘æ¡†æ¶&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¼€å‘æµç¨‹&quot;&gt;&lt;a href=&quot;#å¼€å‘æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘æµç¨‹&quot;&gt;&lt;/a&gt;å¼€å‘æµç¨‹&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;é…ç½®ç¯å¢ƒã€‚C++çš„å¦‚CMakeã€makeã€g++ï¼›PHPçš„å¦‚phpã€php-fpmã€Apacheï¼ˆNginxï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®éœ€æ±‚ï¼Œç¼–å†™thriftæ¥å£å®šä¹‰æ–‡ä»¶ï¼ˆIDLå®šä¹‰æ–‡ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨thriftç¨‹åºï¼Œä¸ºä¸åŒçš„è¯­è¨€ç”Ÿæˆä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®éœ€æ±‚ï¼Œä¿®æ”¹ç”Ÿæˆçš„ä»£ç ï¼ˆä¸»è¦æ˜¯Serverç«¯ï¼‰ï¼Œç¼–å†™å®é™…çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘ã€éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;Thriftçš„æ¥å£å®šä¹‰æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#Thriftçš„æ¥å£å®šä¹‰æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;Thriftçš„æ¥å£å®šä¹‰æ–‡ä»¶&quot;&gt;&lt;/a&gt;Thriftçš„æ¥å£å®šä¹‰æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;åœ¨åˆ©ç”¨Thriftå¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œé‡ç‚¹å°±æ˜¯ç¼–å†™æ¥å£å®šä¹‰æ–‡ä»¶ã€‚&lt;br&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæ¥å£å®šä¹‰æ–‡ä»¶å†³å®šäº†RPCè¿‡ç¨‹ä¸­çš„é€šä¿¡æ•°æ®ç»“æ„ã€é€šä¿¡æ¥å£å®šä¹‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œthriftçš„æ¥å£å®šä¹‰è¯­æ³•ç±»ä¼¼äºCè¯­è¨€ï¼ŒåŒ…å«äº†structã€enumã€mapã€listç­‰åŸºç¡€æ•°æ®ç»“æ„ï¼ŒåŒæ—¶æ”¯æŒå¤§éƒ¨åˆ†åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¦‚32ä½æ•´å‹â€œi32â€ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†çš„æ¥å£å®šä¹‰è¯·å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://thrift.apache.org/docs/idl&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Thrift interface description language&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git;a=blob_plain;f=tutorial/tutorial.thrift&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;example.thrift&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çœ‹çœ‹æœ¬ä¾‹å­ä¸­çš„å®šä¹‰æ–‡ä»¶â€œTTG.thriftâ€ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight thrift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt; cpp TTG&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;namespace&lt;/span&gt; php TTG&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ResponseState&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    StateOk = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    StateError = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    StateEmpty = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Request&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;i32&lt;/span&gt; studentID = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Response&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;i32&lt;/span&gt; studentID = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; name,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;: list&amp;lt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;&amp;gt; infos,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;: ResponseState state&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TTGService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Response getStudentInfo(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;: Request request);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆå®šä¹‰å‘½åç©ºé—´ï¼Œå°½é‡å‡å°‘å‘½åå†²çªã€‚&lt;/li&gt;
&lt;li&gt;Requestç±»å‹ï¼šPHPå®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ®ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;Responseç±»å‹ï¼šCPPæœåŠ¡ç«¯è¿”å›çš„æ•°æ®ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;ResponseStateæšä¸¾ï¼šå®šä¹‰è¿”å›çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;TTGServiceï¼šæœåŠ¡æ¥å£å®šä¹‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;ç”Ÿæˆå¯¹åº”è¯­è¨€çš„ä»£ç ï¼&quot;&gt;&lt;a href=&quot;#ç”Ÿæˆå¯¹åº”è¯­è¨€çš„ä»£ç ï¼&quot; class=&quot;headerlink&quot; title=&quot;ç”Ÿæˆå¯¹åº”è¯­è¨€çš„ä»£ç ï¼&quot;&gt;&lt;/a&gt;ç”Ÿæˆå¯¹åº”è¯­è¨€çš„ä»£ç ï¼&lt;/h2&gt;&lt;p&gt;æ˜¯çš„ï¼Œç”Ÿæˆä»£ç ï¼è¿™æ˜¯æˆ‘è§‰å¾—Thriftæ¡†æ¶æœ€â€œç¥å¥‡â€çš„åœ°æ–¹ã€‚æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œå‡ æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥æ ¹æ®æ¥å£å®šä¹‰æ–‡ä»¶â€œç”Ÿæˆâ€å¯¹åº”è¯­è¨€çš„ä»£ç ã€‚ç„¶åæˆ‘ä»¬åªéœ€è¦å°†å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘åŠ å…¥åˆ°ç”Ÿæˆçš„ä»£ç ä¸­å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ç”ŸæˆCPPæœåŠ¡ç«¯çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;thrift &lt;span class=&quot;comment&quot;&gt;--gen cpp TTG.thrift&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åå°±ä¼šç”Ÿæˆå¦‚ä¸‹ä»£ç ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;TTGService&lt;span class=&quot;selector-class&quot;&gt;.cpp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTGService&lt;span class=&quot;selector-class&quot;&gt;.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTGService_server&lt;span class=&quot;selector-class&quot;&gt;.skeleton&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.cpp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTG_constants&lt;span class=&quot;selector-class&quot;&gt;.cpp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTG_constants&lt;span class=&quot;selector-class&quot;&gt;.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTG_types&lt;span class=&quot;selector-class&quot;&gt;.cpp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTG_types.h&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ ¹æ®éœ€è¦ä¿®æ”¹ç”Ÿæˆçš„ä»£ç &quot;&gt;&lt;a href=&quot;#æ ¹æ®éœ€è¦ä¿®æ”¹ç”Ÿæˆçš„ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;æ ¹æ®éœ€è¦ä¿®æ”¹ç”Ÿæˆçš„ä»£ç &quot;&gt;&lt;/a&gt;æ ¹æ®éœ€è¦ä¿®æ”¹ç”Ÿæˆçš„ä»£ç &lt;/h2&gt;&lt;p&gt;ç”ŸæˆCPPã€PHPç«¯çš„ä»£ç ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ã€æ·»åŠ ä¸šåŠ¡ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;CPPæœåŠ¡ç«¯&quot;&gt;&lt;a href=&quot;#CPPæœåŠ¡ç«¯&quot; class=&quot;headerlink&quot; title=&quot;CPPæœåŠ¡ç«¯&quot;&gt;&lt;/a&gt;CPPæœåŠ¡ç«¯&lt;/h3&gt;&lt;p&gt;åœ¨ç”ŸæˆCPPçš„ä»£ç æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªâ€œTTGService_server.skeleton.cppâ€æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„CPPæœåŠ¡ç«¯çš„ä»£ç â€œæ¶å­â€ã€‚å…¶ä¸­é‡ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®ç°è°ƒç”¨çš„æ¥å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; TTGServiceHandler : &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; TTGServiceIf &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTGServiceHandler() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Your initialization goes here&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ¥å£å®ç°éƒ¨åˆ†ï¼Œå®ç°getStudentInfoè¿™ä¸ªæ¥å£çš„å…·ä½“ç»†èŠ‚ï¼Œå¦‚æ ¹æ®requeståˆ›å»ºã€è¿”å›å¯¹åº”çš„response&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getStudentInfo&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Response&amp;amp; _return, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Request&amp;amp; request)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Your implementation goes here&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;getStudentInfo\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬å°†å…¶æ”¹æˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; getStudentInfo(Response &amp;amp;_&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Request &amp;amp;request) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// è¾“å‡ºè¯·æ±‚å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cout&amp;lt;&amp;lt;&lt;span class=&quot;string&quot;&gt;&quot;Request: &quot;&lt;/span&gt;&amp;lt;&amp;lt;request.studentID&amp;lt;&amp;lt;endl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å¡«å……æ•°æ®ï¼ŒResponseå¯¹è±¡ä¸ç”¨ä¸»åŠ¨åˆ›å»ºï¼Œè¿›å…¥å‡½æ•°æ—¶å·²ç»åˆ›å»ºå¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;.studentID = request.studentID;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;.name = &lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;.infos.push_back(&lt;span class=&quot;string&quot;&gt;&quot;Info 1&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;.infos.push_back(&lt;span class=&quot;string&quot;&gt;&quot;Info 2&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    _&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;.state = ResponseState::StateOk;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒCPPæœåŠ¡ç«¯çš„ç¼–å†™å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦ç¼–è¯‘ã€é“¾æ¥ï¼Œæ‰§è¡Œæœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&quot;PHPå®¢æˆ·ç«¯&quot;&gt;&lt;a href=&quot;#PHPå®¢æˆ·ç«¯&quot; class=&quot;headerlink&quot; title=&quot;PHPå®¢æˆ·ç«¯&quot;&gt;&lt;/a&gt;PHPå®¢æˆ·ç«¯&lt;/h3&gt;&lt;p&gt;PHPå®¢æˆ·ç«¯çš„ç¼–å†™æ¯”è¾ƒç®€å•ï¼Œç›´æ¥å‚è€ƒä»£ç å§ï¼š&lt;a href=&quot;https://github.com/zekunyan/ThriftDemo_PHP_CPP/blob/master/PHP/client.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/ThriftDemo_PHP_CPP/blob/master/PHP/client.php&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç¼–è¯‘ã€é“¾æ¥ï¼Œè¿è¡Œ&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘ã€é“¾æ¥ï¼Œè¿è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘ã€é“¾æ¥ï¼Œè¿è¡Œ&quot;&gt;&lt;/a&gt;ç¼–è¯‘ã€é“¾æ¥ï¼Œè¿è¡Œ&lt;/h2&gt;&lt;p&gt;ç”¨CMakeï¼Œæˆ–è€…ç›´æ¥ç¼–å†™makefileå‡å¯ï¼Œä¿è¯Thriftè£…å¥½å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç›´æ¥è¿è¡Œæœ€åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶TTG.runå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»æµè§ˆå™¨ï¼Œæˆ–è€…ç›´æ¥è¿è¡Œclient.phpï¼Œå³å¯çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight zephir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;object(TTG\Response)[&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;studentID&#39;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt; =&amp;gt; string &lt;span class=&quot;string&quot;&gt;&#39;tutuge&#39;&lt;/span&gt; (length=&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;infos&#39;&lt;/span&gt; =&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;array&lt;/span&gt; (size=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; =&amp;gt; string &lt;span class=&quot;string&quot;&gt;&#39;Info 1&#39;&lt;/span&gt; (length=&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; =&amp;gt; string &lt;span class=&quot;string&quot;&gt;&#39;Info 2&#39;&lt;/span&gt; (length=&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;state&#39;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;Thriftæ˜¯ä¸ªå¥½ä¸œè¥¿ï¼å°±æ˜¯æ–‡æ¡£å¥½å°‘=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://thrift.apache.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Apache Thrift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://thrift.apache.org/tutorial/php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Thrift PHP Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://thrift.apache.org/tutorial/cpp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Thrift C++ Tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Apache_Thrift&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Apache Thrift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/cn/java/j-lo-apachethrift/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Apache Thrift - å¯ä¼¸ç¼©çš„è·¨è¯­è¨€æœåŠ¡å¼€å‘æ¡†æ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2016-02-22: Responseå¯¹è±¡ä¸ç”¨ä¸»åŠ¨åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰æ®µæ—¶é—´ç”¨äº†ä¸€ä¸‹Facebookçš„å¼€æºRPCæ¡†æ¶Thriftï¼ŒåšPHPå®¢æˆ·ç«¯è°ƒç”¨C++åç«¯ç¨‹åºï¼ŒçœŸå¿ƒè§‰å¾—Thriftä¸é”™ï¼&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/ThriftDemo_PHP_CPP&quot;&gt;https://github.com/zekunyan/ThriftDemo_PHP_CPP&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹æœ¬æ–‡çš„ä¾‹å­ç¤ºæ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_thrift_example_cpp_and_php_1.jpg&quot; alt=&quot;é€šä¿¡ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æµç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PHPå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚å‚æ•°æ˜¯â€œRequestâ€ç±»å‹ï¼Œé‡Œé¢æœ‰studentIDå‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;CPPæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚è¿”å›æ•°æ®ï¼Œè¿”å›ç±»å‹ä¸ºâ€œResponseâ€ï¼Œé‡Œé¢åŒ…å«äº†studentçš„ä¿¡æ¯ï¼Œæ­¤å¤„åªæ˜¯ç®€å•çš„ç¤ºä¾‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="æœåŠ¡ç«¯" scheme="http://tutuge.me/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="C++" scheme="http://tutuge.me/tags/C/"/>
    
      <category term="PHP" scheme="http://tutuge.me/tags/PHP/"/>
    
      <category term="åç«¯" scheme="http://tutuge.me/tags/%E5%90%8E%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>GCDä½¿ç”¨ç»éªŒä¸æŠ€å·§æµ…è°ˆ</title>
    <link href="http://tutuge.me/2015/04/03/something-about-gcd/"/>
    <id>http://tutuge.me/2015/04/03/something-about-gcd/</id>
    <published>2015-04-03T13:59:56.000Z</published>
    <updated>2016-08-07T06:14:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;GCD(Grand Central Dispatch)å¯ä»¥è¯´æ˜¯Macã€iOSå¼€å‘ä¸­çš„ä¸€å¤§â€œåˆ©å™¨â€ï¼Œæœ¬æ–‡å°±æ€»ç»“ä¸€äº›æœ‰å…³ä½¿ç”¨GCDçš„ç»éªŒä¸æŠ€å·§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;dispatch-once-tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot;&gt;&lt;a href=&quot;#dispatch-once-tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot; class=&quot;headerlink&quot; title=&quot;dispatch_once_tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot;&gt;&lt;/a&gt;dispatch_once_tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&lt;/h2&gt;&lt;p&gt;è¿™ä¸€æ¡ç®—æ˜¯â€œè€ç”Ÿå¸¸è°ˆâ€äº†ï¼Œä½†æˆ‘è®¤ä¸ºè¿˜æ˜¯æœ‰å¿…è¦å¼ºè°ƒä¸€æ¬¡ï¼Œæ¯•ç«Ÿéå…¨å±€æˆ–éstaticçš„dispatch_once_tå˜é‡åœ¨ä½¿ç”¨æ—¶ä¼šå¯¼è‡´éå¸¸ä¸å¥½æ’æŸ¥çš„bugï¼Œæ­£ç¡®çš„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//é™æ€å˜é‡ï¼Œä¿è¯åªæœ‰ä¸€ä»½å®ä¾‹ï¼Œæ‰èƒ½ç¡®ä¿åªæ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; onceToken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;onceToken, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//å•ä¾‹ä»£ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶å®å°±æ˜¯ä¿è¯&lt;strong&gt;dispatch_once_t&lt;/strong&gt;åªæœ‰ä¸€ä»½å®ä¾‹ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;dispatch-queue-createçš„ç¬¬äºŒä¸ªå‚æ•°&quot;&gt;&lt;a href=&quot;#dispatch-queue-createçš„ç¬¬äºŒä¸ªå‚æ•°&quot; class=&quot;headerlink&quot; title=&quot;dispatch_queue_createçš„ç¬¬äºŒä¸ªå‚æ•°&quot;&gt;&lt;/a&gt;dispatch_queue_createçš„ç¬¬äºŒä¸ªå‚æ•°&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;dispatch_queue_create&lt;/strong&gt;ï¼Œåˆ›å»ºé˜Ÿåˆ—ç”¨çš„ï¼Œå®ƒçš„å‚æ•°åªæœ‰ä¸¤ä¸ªï¼ŒåŸå‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; dispatch_queue_create ( &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *label, &lt;span class=&quot;keyword&quot;&gt;dispatch_queue_attr_t&lt;/span&gt; attr );&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ç½‘ä¸Šçš„å¤§éƒ¨åˆ†æ•™ç¨‹é‡Œï¼ˆç”šè‡³Appleè‡ªå·±çš„æ–‡æ¡£é‡Œï¼‰ï¼Œéƒ½æ˜¯è¿™ä¹ˆåˆ›å»ºä¸²è¡Œé˜Ÿåˆ—çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;com.example.MyQueue&quot;&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ çš„æ˜¯â€œ&lt;strong&gt;NULL&lt;/strong&gt;â€ã€‚  ä½†æ˜¯dispatch_queue_attr_tç±»å‹æ˜¯æœ‰å·²ç»å®šä¹‰å¥½çš„å¸¸é‡çš„ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œä¸ºäº†æ›´åŠ çš„æ¸…æ™°ã€ä¸¥è°¨ï¼Œæœ€å¥½å¦‚ä¸‹åˆ›å»ºé˜Ÿåˆ—ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¸²è¡Œé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;com.example.MyQueue&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å¹¶è¡Œé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;com.example.MyQueue&quot;&lt;/span&gt;, DISPATCH_QUEUE_CONCURRENT);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¸¸é‡å°±æ˜¯ä¸ºäº†ä½¿ä»£ç æ›´åŠ â€œæ˜“æ‡‚â€ï¼Œæ›´åŠ æ¸…æ™°ï¼Œæ—¢ç„¶æœ‰ï¼Œä¸ºå•¥ä¸ç”¨å‘¢~&lt;/p&gt;
&lt;h2 id=&quot;dispatch-afteræ˜¯å»¶è¿Ÿæäº¤ï¼Œä¸æ˜¯å»¶è¿Ÿè¿è¡Œ&quot;&gt;&lt;a href=&quot;#dispatch-afteræ˜¯å»¶è¿Ÿæäº¤ï¼Œä¸æ˜¯å»¶è¿Ÿè¿è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;dispatch_afteræ˜¯å»¶è¿Ÿæäº¤ï¼Œä¸æ˜¯å»¶è¿Ÿè¿è¡Œ&quot;&gt;&lt;/a&gt;dispatch_afteræ˜¯&lt;strong&gt;å»¶è¿Ÿæäº¤&lt;/strong&gt;ï¼Œä¸æ˜¯&lt;strong&gt;å»¶è¿Ÿè¿è¡Œ&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Enqueue &lt;span class=&quot;keyword&quot;&gt;a&lt;/span&gt; block &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; execution &lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; specified &lt;span class=&quot;built_in&quot;&gt;time&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Enqueue&lt;/strong&gt;ï¼Œå°±æ˜¯å…¥é˜Ÿï¼ŒæŒ‡çš„å°±æ˜¯å°†ä¸€ä¸ªBlockåœ¨ç‰¹å®šçš„å»¶æ—¶ä»¥åï¼ŒåŠ å…¥åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ä¸­ï¼Œ&lt;strong&gt;ä¸æ˜¯åœ¨ç‰¹å®šçš„æ—¶é—´åç«‹å³è¿è¡Œï¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹å¦‚ä¸‹ä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºä¸²è¡Œé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_queue_t queue = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç«‹å³æ‰“å°ä¸€æ¡ä¿¡æ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Begin add block...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æäº¤ä¸€ä¸ªblock&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_async(queue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//Sleep 10ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [NSThread sleepForTimeInterval:&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;First block done...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//5 ç§’ä»¥åæäº¤block&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; * NSEC_PER_SEC)), queue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;After...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-31&lt;/span&gt; 20&lt;span class=&quot;selector-pseudo&quot;&gt;:57&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:27.122&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[45633:1812016]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Begin&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;block&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-31&lt;/span&gt; 20&lt;span class=&quot;selector-pseudo&quot;&gt;:57&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:37.127&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[45633:1812041]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;First&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;done&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-31&lt;/span&gt; 20&lt;span class=&quot;selector-pseudo&quot;&gt;:57&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:37.127&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[45633:1812041]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;After&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»ç»“æœä¹ŸéªŒè¯äº†ï¼Œdispatch_afteråªæ˜¯å»¶æ—¶æäº¤blockï¼Œå¹¶ä¸æ˜¯å»¶æ—¶åç«‹å³æ‰§è¡Œã€‚æ‰€ä»¥æƒ³ç”¨dispatch_afterç²¾ç¡®æ§åˆ¶è¿è¡ŒçŠ¶æ€çš„æœ‹å‹å¯è¦æ³¨æ„äº†~&lt;/p&gt;
&lt;h2 id=&quot;æ­£ç¡®åˆ›å»ºdispatch-time-t&quot;&gt;&lt;a href=&quot;#æ­£ç¡®åˆ›å»ºdispatch-time-t&quot; class=&quot;headerlink&quot; title=&quot;æ­£ç¡®åˆ›å»ºdispatch_time_t&quot;&gt;&lt;/a&gt;æ­£ç¡®åˆ›å»ºdispatch_time_t&lt;/h2&gt;&lt;p&gt;ç”¨dispatch_afterçš„æ—¶å€™å°±ä¼šç”¨åˆ°dispatch_time_tå˜é‡ï¼Œä½†æ˜¯å¦‚ä½•åˆ›å»ºåˆé€‚çš„æ—¶é—´å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ç”¨&lt;strong&gt;dispatch_time&lt;/strong&gt;å‡½æ•°ï¼Œå…¶åŸå‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_time_t &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_time &lt;/span&gt;( &lt;span class=&quot;keyword&quot;&gt;dispatch_time_t &lt;/span&gt;when, int64_t delta )&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªå‚æ•°ä¸€èˆ¬æ˜¯&lt;strong&gt;DISPATCH_TIME_NOW&lt;/strong&gt;ï¼Œè¡¨ç¤ºä»ç°åœ¨å¼€å§‹ã€‚&lt;br&gt;é‚£ä¹ˆç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯çœŸæ­£çš„å»¶æ—¶çš„å…·ä½“æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong&gt;delta&lt;/strong&gt;å‚æ•°æ˜¯â€œ&lt;strong&gt;çº³ç§’ï¼&lt;/strong&gt;â€ï¼Œå°±æ˜¯è¯´ï¼Œå»¶æ—¶1ç§’çš„è¯ï¼Œdeltaåº”è¯¥æ˜¯â€œ1000000000â€=ã€‚=ï¼Œå¤ªé•¿äº†ï¼Œæ‰€ä»¥ç†æ‰€å½“ç„¶ç³»ç»Ÿæä¾›äº†å¸¸é‡ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NSEC_PER_SEC 1000000000ull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; USEC_PER_SEC 1000000ull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NSEC_PER_USEC 1000ull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…³é”®è¯è§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NSECï¼šçº³ç§’ã€‚&lt;/li&gt;
&lt;li&gt;USECï¼šå¾®å¦™ã€‚&lt;/li&gt;
&lt;li&gt;SECï¼šç§’&lt;/li&gt;
&lt;li&gt;PERï¼šæ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NSEC_PER_SECï¼Œæ¯ç§’æœ‰å¤šå°‘çº³ç§’ã€‚&lt;/li&gt;
&lt;li&gt;USEC_PER_SECï¼Œæ¯ç§’æœ‰å¤šå°‘æ¯«ç§’ã€‚ï¼ˆæ³¨æ„æ˜¯æŒ‡åœ¨çº³ç§’çš„åŸºç¡€ä¸Šï¼‰&lt;/li&gt;
&lt;li&gt;NSEC_PER_USECï¼Œæ¯æ¯«ç§’æœ‰å¤šå°‘çº³ç§’ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå»¶æ—¶&lt;strong&gt;1ç§’&lt;/strong&gt;å¯ä»¥å†™æˆå¦‚ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_time(DISPATCH_TIME_NOW, &lt;/span&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; * NSEC_PER_SEC)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_time(DISPATCH_TIME_NOW, &lt;/span&gt;&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt; * USEC_PER_SEC)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_time(DISPATCH_TIME_NOW, &lt;/span&gt;USEC_PER_SEC * NSEC_PER_USEC)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ€åä¸€ä¸ªâ€œ&lt;strong&gt;USEC_PER_SEC * NSEC_PER_USEC&lt;/strong&gt;â€ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œ&lt;strong&gt;æ¯ç§’çš„æ¯«ç§’æ•°ä¹˜ä»¥æ¯æ¯«ç§’çš„çº³ç§’æ•°&lt;/strong&gt;â€ï¼Œä¹Ÿå°±æ˜¯â€œ&lt;strong&gt;æ¯ç§’çš„çº³ç§’æ•°&lt;/strong&gt;â€ï¼Œæ‰€ä»¥ï¼Œå»¶æ—¶500æ¯«ç§’ä¹‹ç±»çš„ï¼Œä¹Ÿå°±ä¸éš¾äº†å§~&lt;/p&gt;
&lt;h2 id=&quot;dispatch-suspend-ç«‹å³åœæ­¢é˜Ÿåˆ—çš„è¿è¡Œ&quot;&gt;&lt;a href=&quot;#dispatch-suspend-ç«‹å³åœæ­¢é˜Ÿåˆ—çš„è¿è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;dispatch_suspend != ç«‹å³åœæ­¢é˜Ÿåˆ—çš„è¿è¡Œ&quot;&gt;&lt;/a&gt;dispatch_suspend != ç«‹å³åœæ­¢é˜Ÿåˆ—çš„è¿è¡Œ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;dispatch_suspend&lt;/strong&gt;ï¼Œ&lt;strong&gt;dispatch_resume&lt;/strong&gt;æä¾›äº†â€œæŒ‚èµ·ã€æ¢å¤â€é˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯ä»¥æš‚åœã€æ¢å¤é˜Ÿåˆ—ä¸Šçš„ä»»åŠ¡ã€‚ä½†æ˜¯è¿™é‡Œçš„â€œ&lt;strong&gt;æŒ‚èµ·&lt;/strong&gt;â€ï¼Œå¹¶ä¸èƒ½ä¿è¯å¯ä»¥&lt;strong&gt;ç«‹å³&lt;/strong&gt;åœæ­¢é˜Ÿåˆ—ä¸Šæ­£åœ¨è¿è¡Œçš„blockï¼Œçœ‹å¦‚ä¸‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;dispatch_queue_t queue = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æäº¤ç¬¬ä¸€ä¸ªblockï¼Œå»¶æ—¶5ç§’æ‰“å°ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_async(queue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [NSThread sleepForTimeInterval:&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;After 5 seconds...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æäº¤ç¬¬äºŒä¸ªblockï¼Œä¹Ÿæ˜¯å»¶æ—¶5ç§’æ‰“å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_async(queue, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [NSThread sleepForTimeInterval:&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;After 5 seconds again...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å»¶æ—¶ä¸€ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;sleep 1 second...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[NSThread sleepForTimeInterval:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æŒ‚èµ·é˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;suspend...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_suspend(queue)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å»¶æ—¶10ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;sleep 10 second...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[NSThread sleepForTimeInterval:&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ¢å¤é˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;resume...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_resume(queue)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:09.903&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883834]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;sleep&lt;/span&gt; 1 &lt;span class=&quot;selector-tag&quot;&gt;second&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:10.910&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883834]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;suspend&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:10.910&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883834]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;sleep&lt;/span&gt; 10 &lt;span class=&quot;selector-tag&quot;&gt;second&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:14.908&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883856]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;After&lt;/span&gt; 5 &lt;span class=&quot;selector-tag&quot;&gt;seconds&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:20.911&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883834]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;resume&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:32&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:25.912&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47201:1883856]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;After&lt;/span&gt; 5 &lt;span class=&quot;selector-tag&quot;&gt;seconds&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;again&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯çŸ¥ï¼Œåœ¨dispatch_suspendæŒ‚èµ·é˜Ÿåˆ—åï¼Œç¬¬ä¸€ä¸ªblock&lt;strong&gt;è¿˜æ˜¯åœ¨è¿è¡Œ&lt;/strong&gt;ï¼Œå¹¶ä¸”æ­£å¸¸è¾“å‡ºã€‚&lt;br&gt;ç»“åˆæ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œdispatch_suspendå¹¶ä¸ä¼šç«‹å³æš‚åœæ­£åœ¨è¿è¡Œçš„blockï¼Œè€Œæ˜¯åœ¨å½“å‰blockæ‰§è¡Œå®Œæˆåï¼Œæš‚åœåç»­çš„blockæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸‹æ¬¡æƒ³æš‚åœæ­£åœ¨é˜Ÿåˆ—ä¸Šè¿è¡Œçš„blockæ—¶ï¼Œè¿˜æ˜¯ä¸è¦ç”¨dispatch_suspendäº†å§~&lt;/p&gt;
&lt;h2 id=&quot;â€œåŒæ­¥â€çš„dispatch-apply&quot;&gt;&lt;a href=&quot;#â€œåŒæ­¥â€çš„dispatch-apply&quot; class=&quot;headerlink&quot; title=&quot;â€œåŒæ­¥â€çš„dispatch_apply&quot;&gt;&lt;/a&gt;â€œåŒæ­¥â€çš„dispatch_apply&lt;/h2&gt;&lt;p&gt;dispatch_applyçš„ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆä¸²è¡Œæˆ–å¹¶è¡Œï¼‰ä¸Šâ€œè¿è¡Œâ€å¤šæ¬¡blockï¼Œå…¶å®å°±æ˜¯ç®€åŒ–äº†ç”¨å¾ªç¯å»å‘é˜Ÿåˆ—ä¾æ¬¡æ·»åŠ blockä»»åŠ¡ã€‚ä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—è¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸ªâ€œå‘â€ï¼Œå…ˆçœ‹çœ‹å¦‚ä¸‹ä»£ç è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºå¼‚æ­¥ä¸²è¡Œé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¿è¡Œblock3æ¬¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_apply(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, ^(&lt;span class=&quot;keyword&quot;&gt;size_t&lt;/span&gt; i) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;apply loop: %zu&quot;&lt;/span&gt;, i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ‰“å°ä¿¡æ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;After apply&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿è¡Œçš„ç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:55&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:40.854&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47402:1893289]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;apply&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;loop&lt;/span&gt;: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:55&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:40.856&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47402:1893289]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;apply&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;loop&lt;/span&gt;: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:55&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:40.856&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47402:1893289]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;apply&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;loop&lt;/span&gt;: 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-04-01&lt;/span&gt; 00&lt;span class=&quot;selector-pseudo&quot;&gt;:55&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:40.856&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[47402:1893289]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;After&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;apply&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ˜æ˜æ˜¯æäº¤åˆ°å¼‚æ­¥çš„é˜Ÿåˆ—å»è¿è¡Œï¼Œä½†æ˜¯â€œAfter applyâ€å±…ç„¶åœ¨applyåæ‰“å°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdispatch_applyå°†å¤–é¢çš„çº¿ç¨‹ï¼ˆmainçº¿ç¨‹ï¼‰&lt;strong&gt;â€œé˜»å¡â€&lt;/strong&gt;äº†ï¼&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œdispatch_applyç¡®å®ä¼šâ€œç­‰å¾…â€å…¶æ‰€æœ‰çš„å¾ªç¯è¿è¡Œå®Œæ¯•æ‰å¾€ä¸‹æ‰§è¡Œ=ã€‚=ï¼Œçœ‹æ¥è¦å°å¿ƒä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é¿å…æ­»é”ï¼&quot;&gt;&lt;a href=&quot;#é¿å…æ­»é”ï¼&quot; class=&quot;headerlink&quot; title=&quot;é¿å…æ­»é”ï¼&quot;&gt;&lt;/a&gt;é¿å…æ­»é”ï¼&lt;/h2&gt;&lt;h4 id=&quot;dispatch-syncå¯¼è‡´çš„æ­»é”&quot;&gt;&lt;a href=&quot;#dispatch-syncå¯¼è‡´çš„æ­»é”&quot; class=&quot;headerlink&quot; title=&quot;dispatch_syncå¯¼è‡´çš„æ­»é”&quot;&gt;&lt;/a&gt;dispatch_syncå¯¼è‡´çš„æ­»é”&lt;/h4&gt;&lt;p&gt;æ¶‰åŠåˆ°å¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œä¸å¯é¿å…çš„å°±ä¼šæœ‰â€œæ­»é”â€è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ä½¿ç”¨GCDæ—¶ï¼Œå¾€å¾€ä¸€ä¸å°å¿ƒï¼Œå°±å¯èƒ½é€ æˆæ­»é”ï¼Œçœ‹çœ‹ä¸‹é¢çš„â€œ&lt;strong&gt;æ­»é”&lt;/strong&gt;â€ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åœ¨mainçº¿ç¨‹ä½¿ç”¨â€œåŒæ­¥â€æ–¹æ³•æäº¤Blockï¼Œå¿…å®šä¼šæ­»é”ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_sync(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;I am block...&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¹ˆä½çº§çš„é”™è¯¯ï¼Œæˆ‘æ€ä¹ˆä¼šçŠ¯ï¼Œé‚£ä¹ˆï¼Œçœ‹çœ‹ä¸‹é¢çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)update&lt;span class=&quot;built_in&quot;&gt;UI1&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_sync&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Update ui 1&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//æ­»é”ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; update&lt;span class=&quot;built_in&quot;&gt;UI2&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)update&lt;span class=&quot;built_in&quot;&gt;UI2&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;dispatch_sync&lt;/span&gt;(dispatch_get_main_queue(), ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Update ui 2&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä½ ä¸æ³¨æ„çš„æ—¶å€™ï¼ŒåµŒå¥—è°ƒç”¨å¯èƒ½å°±ä¼šé€ æˆæ­»é”ï¼æ‰€ä»¥ä¸ºäº†â€œä¸–ç•Œå’Œå¹³â€=ã€‚=ï¼Œæˆ‘ä»¬è¿˜æ˜¯å°‘ç”¨&lt;strong&gt;dispatch_sync&lt;/strong&gt;å§ã€‚&lt;/p&gt;
&lt;h4 id=&quot;dispatch-applyå¯¼è‡´çš„æ­»é”ï¼&quot;&gt;&lt;a href=&quot;#dispatch-applyå¯¼è‡´çš„æ­»é”ï¼&quot; class=&quot;headerlink&quot; title=&quot;dispatch_applyå¯¼è‡´çš„æ­»é”ï¼&quot;&gt;&lt;/a&gt;dispatch_applyå¯¼è‡´çš„æ­»é”ï¼&lt;/h4&gt;&lt;p&gt;å•¥ï¼Œdispatch_applyå¯¼è‡´çš„æ­»é”ï¼Ÿã€‚ã€‚ã€‚æ˜¯çš„ï¼Œå‰ä¸€èŠ‚è®²åˆ°ï¼Œdispatch_applyä¼š&lt;strong&gt;ç­‰&lt;/strong&gt;å¾ªç¯æ‰§è¡Œå®Œæˆï¼Œè¿™ä¸å°±å·®ä¸å¤šæ˜¯&lt;strong&gt;é˜»å¡&lt;/strong&gt;äº†å—ã€‚çœ‹å¦‚ä¸‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lisp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;dispatch_queue_t queue = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_apply(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, queue, ^(&lt;span class=&quot;name&quot;&gt;size_t&lt;/span&gt; i) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;apply loop: %zu&quot;&lt;/span&gt;, i)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //å†æ¥ä¸€ä¸ªdispatch_applyï¼æ­»é”ï¼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	dispatch_apply(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, queue, ^(&lt;span class=&quot;name&quot;&gt;size_t&lt;/span&gt; j) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;apply loop inside %zu&quot;&lt;/span&gt;, j)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ç«¯ä»£ç åªä¼šè¾“å‡ºâ€œapply loop: 1â€ã€‚ã€‚ã€‚å°±æ²¡æœ‰ç„¶åäº†=ã€‚=&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä¸€å®šè¦é¿å…dispatch_applyçš„&lt;strong&gt;åµŒå¥—è°ƒç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çµæ´»ä½¿ç”¨dispatch-group&quot;&gt;&lt;a href=&quot;#çµæ´»ä½¿ç”¨dispatch-group&quot; class=&quot;headerlink&quot; title=&quot;çµæ´»ä½¿ç”¨dispatch_group&quot;&gt;&lt;/a&gt;çµæ´»ä½¿ç”¨dispatch_group&lt;/h2&gt;&lt;p&gt;å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦ç­‰å¾…ä¸€ç³»åˆ—ä»»åŠ¡ï¼ˆblockï¼‰æ‰§è¡Œå®Œæˆï¼Œç„¶åå†åšä¸€äº›æ”¶å°¾çš„å·¥ä½œã€‚å¦‚æœæ˜¯æœ‰åºçš„ä»»åŠ¡ï¼Œå¯ä»¥åˆ†æ­¥éª¤å®Œæˆçš„ï¼Œç›´æ¥ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—å°±è¡Œã€‚ä½†æ˜¯å¦‚æœæ˜¯ä¸€ç³»åˆ—&lt;strong&gt;å¹¶è¡Œ&lt;/strong&gt;æ‰§è¡Œçš„ä»»åŠ¡å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦dispatch_groupå¸®å¿™äº†~æ€»çš„æ¥è¯´ï¼Œdispatch_groupçš„ä½¿ç”¨åˆ†å¦‚ä¸‹å‡ æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºdispatch_group_t&lt;/li&gt;
&lt;li&gt;æ·»åŠ ä»»åŠ¡ï¼ˆblockï¼‰&lt;/li&gt;
&lt;li&gt;æ·»åŠ ç»“æŸä»»åŠ¡ï¼ˆå¦‚æ¸…ç†æ“ä½œã€é€šçŸ¥UIç­‰ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹é¢ç€é‡è®²è®²åœ¨åé¢ä¸¤æ­¥ã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ·»åŠ ä»»åŠ¡&quot;&gt;&lt;a href=&quot;#æ·»åŠ ä»»åŠ¡&quot; class=&quot;headerlink&quot; title=&quot;æ·»åŠ ä»»åŠ¡&quot;&gt;&lt;/a&gt;æ·»åŠ ä»»åŠ¡&lt;/h4&gt;&lt;p&gt;æ·»åŠ ä»»åŠ¡å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªå·±åˆ›å»ºé˜Ÿåˆ—ï¼šä½¿ç”¨&lt;strong&gt;dispatch_group_async&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ— æ³•ç›´æ¥ä½¿ç”¨é˜Ÿåˆ—å˜é‡ï¼ˆå¦‚ä½¿ç”¨AFNetworkingæ·»åŠ å¼‚æ­¥ä»»åŠ¡ï¼‰ï¼šä½¿ç”¨&lt;strong&gt;dispatch_group_enter&lt;/strong&gt;ï¼Œ&lt;strong&gt;dispatch_group_leave&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è‡ªå·±åˆ›å»ºé˜Ÿåˆ—æ—¶ï¼Œå½“ç„¶å°±ç”¨dispatch_group_asyncå‡½æ•°ï¼Œç®€å•æœ‰æ•ˆï¼Œç®€å•ä¾‹å­å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//çœå»åˆ›å»ºgroupã€queueä»£ç ã€‚ã€‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_group_async(&lt;span class=&quot;keyword&quot;&gt;group&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//Do you work...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½“ä½ æ— æ³•ç›´æ¥ä½¿ç”¨é˜Ÿåˆ—å˜é‡æ—¶ï¼Œå°±æ— æ³•ä½¿ç”¨dispatch_group_asyncäº†ï¼Œä¸‹é¢ä»¥ä½¿ç”¨AFNetworkingæ—¶çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight nimrod&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;AFHTTPRequestOperationManager&lt;/span&gt; *manager = [&lt;span class=&quot;type&quot;&gt;AFHTTPRequestOperationManager&lt;/span&gt; manager];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;type&quot;&gt;Enter&lt;/span&gt; group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_group_enter(group);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[manager &lt;span class=&quot;type&quot;&gt;GET&lt;/span&gt;:@&lt;span class=&quot;string&quot;&gt;&quot;http://www.baidu.com&quot;&lt;/span&gt; parameters:&lt;span class=&quot;keyword&quot;&gt;nil&lt;/span&gt; success:^(&lt;span class=&quot;type&quot;&gt;AFHTTPRequestOperation&lt;/span&gt; *operation, id responseObject) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //&lt;span class=&quot;type&quot;&gt;Deal&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;result&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //&lt;span class=&quot;type&quot;&gt;Leave&lt;/span&gt; group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_group_leave(group);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;    failure:^(&lt;span class=&quot;type&quot;&gt;AFHTTPRequestOperation&lt;/span&gt; *operation, &lt;span class=&quot;type&quot;&gt;NSError&lt;/span&gt; *error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //&lt;span class=&quot;type&quot;&gt;Deal&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; error...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //&lt;span class=&quot;type&quot;&gt;Leave&lt;/span&gt; group&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_group_leave(group);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;type&quot;&gt;More&lt;/span&gt; request...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;dispatch_group_enter&lt;/strong&gt;ï¼Œ&lt;strong&gt;dispatch_group_leave&lt;/strong&gt;å°±å¯ä»¥æ–¹ä¾¿çš„å°†ä¸€ç³»åˆ—ç½‘ç»œè¯·æ±‚â€œ&lt;strong&gt;æ‰“åŒ…&lt;/strong&gt;â€èµ·æ¥~&lt;/p&gt;
&lt;h4 id=&quot;æ·»åŠ ç»“æŸä»»åŠ¡&quot;&gt;&lt;a href=&quot;#æ·»åŠ ç»“æŸä»»åŠ¡&quot; class=&quot;headerlink&quot; title=&quot;æ·»åŠ ç»“æŸä»»åŠ¡&quot;&gt;&lt;/a&gt;æ·»åŠ ç»“æŸä»»åŠ¡&lt;/h4&gt;&lt;p&gt;æ·»åŠ ç»“æŸä»»åŠ¡ä¹Ÿå¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å½“å‰çº¿ç¨‹&lt;strong&gt;é˜»å¡çš„åŒæ­¥ç­‰å¾…&lt;/strong&gt;ï¼šdispatch_group_waitã€‚&lt;/li&gt;
&lt;li&gt;æ·»åŠ ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ä½œä¸ºç»“æŸä»»åŠ¡ï¼šdispatch_group_notify&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ¯”è¾ƒç®€å•ï¼Œå°±ä¸å†è´´ä»£ç äº†=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨dispatch-barrier-async-dispatch-barrier-syncçš„æ³¨æ„äº‹é¡¹&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨dispatch-barrier-async-dispatch-barrier-syncçš„æ³¨æ„äº‹é¡¹&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨dispatch_barrier_async,dispatch_barrier_syncçš„æ³¨æ„äº‹é¡¹&quot;&gt;&lt;/a&gt;ä½¿ç”¨dispatch_barrier_async,dispatch_barrier_syncçš„æ³¨æ„äº‹é¡¹&lt;/h2&gt;&lt;p&gt;dispatch_barrier_asyncçš„ä½œç”¨å°±æ˜¯å‘æŸä¸ªé˜Ÿåˆ—æ’å…¥ä¸€ä¸ªblockï¼Œå½“ç›®å‰æ­£åœ¨æ‰§è¡Œçš„blockè¿è¡Œå®Œæˆåï¼Œé˜»å¡è¿™ä¸ªblockåé¢æ·»åŠ çš„blockï¼Œåªè¿è¡Œè¿™ä¸ªblockç›´åˆ°å®Œæˆï¼Œç„¶åå†ç»§ç»­åç»­çš„ä»»åŠ¡ï¼Œæœ‰ç‚¹â€œå”¯æˆ‘ç‹¬å°Šâ€çš„æ„Ÿè§‰=ã€‚=&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dispatch&lt;em&gt;barrier\&lt;/em&gt;(a)syncåªåœ¨è‡ªå·±åˆ›å»ºçš„å¹¶å‘é˜Ÿåˆ—ä¸Šæœ‰æ•ˆï¼Œåœ¨å…¨å±€(Global)å¹¶å‘é˜Ÿåˆ—ã€ä¸²è¡Œé˜Ÿåˆ—ä¸Šï¼Œæ•ˆæœè·Ÿ&lt;strong&gt;dispatch_(a)sync&lt;/strong&gt;æ•ˆæœä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;æ—¢ç„¶åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸Šè·Ÿ&lt;strong&gt;dispatch_(a)sync&lt;/strong&gt;æ•ˆæœä¸€æ ·ï¼Œé‚£å°±è¦å°å¿ƒåˆ«æ­»é”ï¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;dispatch-set-contextä¸dispatch-set-finalizer-fçš„é…åˆä½¿ç”¨&quot;&gt;&lt;a href=&quot;#dispatch-set-contextä¸dispatch-set-finalizer-fçš„é…åˆä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;dispatch_set_contextä¸dispatch_set_finalizer_fçš„é…åˆä½¿ç”¨&quot;&gt;&lt;/a&gt;dispatch_set_contextä¸dispatch_set_finalizer_fçš„é…åˆä½¿ç”¨&lt;/h2&gt;&lt;p&gt;dispatch_set_contextå¯ä»¥ä¸ºé˜Ÿåˆ—æ·»åŠ &lt;strong&gt;ä¸Šä¸‹æ–‡æ•°æ®&lt;/strong&gt;ï¼Œä½†æ˜¯å› ä¸ºGCDæ˜¯Cè¯­è¨€æ¥å£å½¢å¼çš„ï¼Œæ‰€ä»¥å…¶contextå‚æ•°ç±»å‹æ˜¯â€œ&lt;strong&gt;void *&lt;/strong&gt;â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åˆ›å»ºcontextæ—¶æœ‰å¦‚ä¸‹å‡ ç§é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨Cè¯­è¨€çš„mallocåˆ›å»ºcontextæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨C++çš„newåˆ›å»ºç±»å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨Objective-Cçš„å¯¹è±¡ï¼Œä½†æ˜¯è¦ç”¨__bridgeç­‰å…³é”®å­—è½¬ä¸ºCore Foundationå¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šæ‰€æœ‰åˆ›å»ºcontextçš„æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå¿…é¡»çš„è¦æ±‚ï¼Œå°±æ˜¯éƒ½è¦&lt;strong&gt;é‡Šæ”¾å†…å­˜ï¼&lt;/strong&gt;ï¼Œæ— è®ºæ˜¯ç”¨&lt;strong&gt;freeã€deleteè¿˜æ˜¯CFçš„CFRelease&lt;/strong&gt;ï¼Œæˆ‘ä»¬éƒ½è¦ç¡®ä¿åœ¨é˜Ÿåˆ—ä¸ç”¨çš„æ—¶å€™ï¼Œé‡Šæ”¾contextçš„å†…å­˜ï¼Œå¦åˆ™å°±ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œä½¿ç”¨dispatch_set_contextçš„æ—¶å€™ï¼Œæœ€å¥½ç»“åˆdispatch_set_finalizer_fä½¿ç”¨ï¼Œä¸ºé˜Ÿåˆ—è®¾ç½®â€œææ„å‡½æ•°â€ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢é‡Šæ”¾å†…å­˜ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;cleanStaff&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//é‡Šæ”¾contextçš„å†…å­˜ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//CFRelease(context);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//free(context);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//delete context;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åœ¨é˜Ÿåˆ—åˆ›å»ºåï¼Œè®¾ç½®å…¶â€œææ„å‡½æ•°â€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_set_finalizer_f(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, cleanStaff);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¯¦ç»†ç”¨æ³•ï¼Œè¯·çœ‹æˆ‘ä¹‹å‰å†™çš„Blog&lt;a href=&quot;http://tutuge.me/2015/03/29/bind-data-to-gcd-queue/&quot;&gt;ä¸ºGCDé˜Ÿåˆ—ç»‘å®šNSObjectç±»å‹ä¸Šä¸‹æ–‡æ•°æ®-åˆ©ç”¨__bridge_retained(transfer)è½¬ç§»å†…å­˜ç®¡ç†æƒ&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å…¶å®æœ¬æ–‡æ›´åƒæ˜¯æ€»ç»“äº†GCDä¸­çš„â€œå‘â€=ã€‚=&lt;/p&gt;
&lt;p&gt;è‡³äºç»éªŒï¼Œæ€»ç»“ä¸€æ¡ï¼Œå°±æ˜¯ä½¿ç”¨ä»»ä½•æŠ€æœ¯ï¼Œéƒ½è¦ç ”ç©¶é€å½»ï¼Œå¦åˆ™åæ‚£æ— ç©·å•Š~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Grand Central Dispatch (GCD) Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/mac/documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Concurrency Programming Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://commandshift.co.uk/blog/2014/03/19/using-dispatch-groups-to-wait-for-multiple-web-services&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Using Dispatch Groups to Wait for Multiple Web Services&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;GCD(Grand Central Dispatch)å¯ä»¥è¯´æ˜¯Macã€iOSå¼€å‘ä¸­çš„ä¸€å¤§â€œåˆ©å™¨â€ï¼Œæœ¬æ–‡å°±æ€»ç»“ä¸€äº›æœ‰å…³ä½¿ç”¨GCDçš„ç»éªŒä¸æŠ€å·§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;dispatch-once-tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot;&gt;&lt;a href=&quot;#dispatch-once-tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot; class=&quot;headerlink&quot; title=&quot;dispatch_once_tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&quot;&gt;&lt;/a&gt;dispatch_once_tå¿…é¡»æ˜¯å…¨å±€æˆ–staticå˜é‡&lt;/h2&gt;&lt;p&gt;è¿™ä¸€æ¡ç®—æ˜¯â€œè€ç”Ÿå¸¸è°ˆâ€äº†ï¼Œä½†æˆ‘è®¤ä¸ºè¿˜æ˜¯æœ‰å¿…è¦å¼ºè°ƒä¸€æ¬¡ï¼Œæ¯•ç«Ÿéå…¨å±€æˆ–éstaticçš„dispatch_once_tå˜é‡åœ¨ä½¿ç”¨æ—¶ä¼šå¯¼è‡´éå¸¸ä¸å¥½æ’æŸ¥çš„bugï¼Œæ­£ç¡®çš„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//é™æ€å˜é‡ï¼Œä¿è¯åªæœ‰ä¸€ä»½å®ä¾‹ï¼Œæ‰èƒ½ç¡®ä¿åªæ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;dispatch_once_t&lt;/span&gt; onceToken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;dispatch_once&lt;/span&gt;(&amp;amp;onceToken, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;//å•ä¾‹ä»£ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶å®å°±æ˜¯ä¿è¯&lt;strong&gt;dispatch_once_t&lt;/strong&gt;åªæœ‰ä¸€ä»½å®ä¾‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºGCDé˜Ÿåˆ—ç»‘å®šNSObjectç±»å‹ä¸Šä¸‹æ–‡æ•°æ®-åˆ©ç”¨__bridge_retained(transfer)è½¬ç§»å†…å­˜ç®¡ç†æƒ</title>
    <link href="http://tutuge.me/2015/03/29/bind-data-to-gcd-queue/"/>
    <id>http://tutuge.me/2015/03/29/bind-data-to-gcd-queue/</id>
    <published>2015-03-29T11:27:40.000Z</published>
    <updated>2016-08-07T06:07:19.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;2015-5-28æ›´æ–°&quot;&gt;&lt;a href=&quot;#2015-5-28æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;2015-5-28æ›´æ–°&quot;&gt;&lt;/a&gt;2015-5-28æ›´æ–°&lt;/h2&gt;&lt;p&gt;ä¸‹é¢è¯„è®ºçš„å¥½å‹â€œ@Jimâ€ç»™äº†ç§æ–°çš„æ€è·¯ï¼Œå°±æ˜¯åœ¨æ¸…é™¤contextçš„å‡½æ•°é‡Œé¢ï¼Œç”¨â€œ&lt;strong&gt;_bridge_transfer&lt;/strong&gt;â€è½¬æ¢contextï¼ŒæŠŠcontextçš„å†…å­˜ç®¡ç†æƒé™é‡æ–°äº¤ç»™ARCï¼Œè¿™æ ·ï¼Œå°±ä¸ç”¨æ˜¾å¼è°ƒç”¨â€œ&lt;strong&gt;CFRelease&lt;/strong&gt;â€äº†ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;literal&quot;&gt;void&lt;/span&gt; cleanStaff(&lt;span class=&quot;literal&quot;&gt;void&lt;/span&gt; *context) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œç”¨_bridge_transferè½¬æ¢ï¼Œå°†å†…å­˜ç®¡ç†æƒé™äº¤è¿˜ç»™ARC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; *&lt;span class=&quot;built_in&quot;&gt;data&lt;/span&gt; = (_bridge_transfer &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; *)(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;In clean, context number: %d&quot;&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;data&lt;/span&gt;.number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ä¸ç”¨æ˜¾å¼é‡Šæ”¾contextçš„å†…å­˜ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;çœ‹è¿‡GCDï¼ˆGrand Central Dispatchï¼‰çš„Apple&lt;a href=&quot;https://developer.apple.com/library/prerelease/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;çš„æœ‹å‹ä¸€å®šè§è¿‡â€œ&lt;strong&gt;dispatch_set_context&lt;/strong&gt;â€å’Œâ€œ&lt;strong&gt;dispatch_get_context&lt;/strong&gt;â€è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°è¯¥æ€ä¹ˆç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒGCDçš„æ¥å£å‚æ•°éƒ½æ˜¯â€œCè¯­è¨€ç±»å‹â€œçš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•å°†NSObjectç±»å‹ï¼ˆFoundationæ¡†æ¶ï¼‰çš„æ•°æ®ï¼Œä¼ å…¥GCDçš„æ¥å£å‘¢ï¼Ÿï¼ˆå³ï¼šCore Foundationå’ŒFoundationå¯¹è±¡çš„è½¬æ¢ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;æœ¬æ–‡å…³é”®å­—&quot;&gt;&lt;a href=&quot;#æœ¬æ–‡å…³é”®å­—&quot; class=&quot;headerlink&quot; title=&quot;æœ¬æ–‡å…³é”®å­—&quot;&gt;&lt;/a&gt;æœ¬æ–‡å…³é”®å­—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;GCDï¼šdispatch_set_contextï¼Œdispatch_get_context&lt;/li&gt;
&lt;li&gt;__bridgeï¼Œ__bridge_retainedï¼Œ__bridge_transfer&lt;/li&gt;
&lt;li&gt;Core Foundation, NSObject&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;dispatch-set-get-context&quot;&gt;&lt;a href=&quot;#dispatch-set-get-context&quot; class=&quot;headerlink&quot; title=&quot;dispatch_set(get)_context&quot;&gt;&lt;/a&gt;dispatch_set(get)_context&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹è¿™ä¸¤ä¸ªå‡½æ•°çš„åŸå‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight ceylon&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®context&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; dispatch&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;set&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;context (dispatch&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;t &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è·å–context&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;* dispatch&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;get&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;context (dispatch&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;t &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œçš„objectä¸€èˆ¬æŒ‡çš„å°±æ˜¯é€šè¿‡dispatch_queue_createåˆ›å»ºçš„é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«å®Œæˆäº†å°†contextâ€œç»‘å®šâ€åˆ°ç‰¹å®šGCDé˜Ÿåˆ—å’Œä»GCDé˜Ÿåˆ—è·å–å¯¹åº”contextçš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯context&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯context&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯context&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯context&lt;/h3&gt;&lt;p&gt;åœ¨ä¸Šè¿°å‡½æ•°åŸå‹ä¸­ï¼Œcontextæ˜¯ä¸€ä¸ªâ€œ&lt;strong&gt;voidç±»å‹æŒ‡é’ˆ&lt;/strong&gt;â€ï¼Œå­¦è¿‡Cè¯­è¨€çš„æœ‹å‹åº”è¯¥éƒ½çŸ¥é“ï¼Œvoidå‹æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»æ„ç±»å‹ï¼Œå°±æ˜¯è¯´ï¼Œcontextåœ¨è¿™é‡Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;p&gt;ä»è¿™é‡Œå¯ä»¥å¾—çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºé˜Ÿåˆ—â€œ&lt;strong&gt;set&lt;/strong&gt;â€ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œå¹¶åœ¨åˆé€‚çš„æ—¶å€™å–å‡ºæ¥ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç”¨mallocåˆ›å»ºcontextå¹¶ç»‘å®šåˆ°é˜Ÿåˆ—ä¸Š&quot;&gt;&lt;a href=&quot;#ç”¨mallocåˆ›å»ºcontextå¹¶ç»‘å®šåˆ°é˜Ÿåˆ—ä¸Š&quot; class=&quot;headerlink&quot; title=&quot;ç”¨mallocåˆ›å»ºcontextå¹¶ç»‘å®šåˆ°é˜Ÿåˆ—ä¸Š&quot;&gt;&lt;/a&gt;ç”¨mallocåˆ›å»ºcontextå¹¶ç»‘å®šåˆ°é˜Ÿåˆ—ä¸Š&lt;/h2&gt;&lt;p&gt;å‚è€ƒ&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW13&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Appleå®˜æ–¹çš„ä¾‹å­&lt;/a&gt;ï¼Œæˆ‘ä»¬å…ˆç”¨ä¼ ç»Ÿçš„&lt;strong&gt;malloc&lt;/strong&gt;åˆ›å»ºcontextï¼Œçœ‹çœ‹å¦‚ä¸‹ç®€çŸ­ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰contextï¼Œå³ä¸€ä¸ªç»“æ„ä½“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; _Data &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; number;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; Data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰é˜Ÿåˆ—çš„finalizerå‡½æ•°ï¼Œç”¨äºé‡Šæ”¾contextå†…å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;cleanStaff&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;In clean, context number: %d&quot;&lt;/span&gt;, ((Data *)context)-&amp;gt;number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//é‡Šæ”¾ï¼Œå¦‚æœæ˜¯newå‡ºæ¥çš„å¯¹è±¡ï¼Œå°±è¦ç”¨delete&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;free&lt;/span&gt;(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)runTest &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºDataç±»å‹contextæ•°æ®å¹¶åˆå§‹åŒ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Data *myData = &lt;span class=&quot;built_in&quot;&gt;malloc&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;sizeof&lt;/span&gt;(Data));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    myData-&amp;gt;number = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ç»‘å®šcontext&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_set_context(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, myData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è®¾ç½®finalizerå‡½æ•°ï¼Œç”¨äºåœ¨é˜Ÿåˆ—æ‰§è¡Œå®Œæˆåé‡Šæ”¾å¯¹åº”contextå†…å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_set_finalizer_f(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, cleanStaff);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_async(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//è·å–é˜Ÿåˆ—çš„contextæ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Data *data = dispatch_get_context(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//æ‰“å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;1: context number: %d&quot;&lt;/span&gt;, data-&amp;gt;number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//ä¿®æ”¹contextä¿å­˜çš„æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        data-&amp;gt;number = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç è¿è¡Œåå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-29&lt;/span&gt; 20&lt;span class=&quot;selector-pseudo&quot;&gt;:28&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:16.854&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[37787:1443423]&lt;/span&gt; 1: &lt;span class=&quot;selector-tag&quot;&gt;context&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;number&lt;/span&gt;: 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-29&lt;/span&gt; 20&lt;span class=&quot;selector-pseudo&quot;&gt;:28&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:16.855&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[37787:1443423]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;clean&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;context&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;number&lt;/span&gt;: 20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œé€šè¿‡ä¸ºé˜Ÿåˆ—è®¾ç½®contextï¼Œæˆ‘ä»¬å°±èƒ½ä¸ºé˜Ÿåˆ—ç»‘å®šè‡ªå®šä¹‰çš„æ•°æ®ï¼Œç„¶ååœ¨åˆé€‚çš„æ—¶å€™å–å‡ºæ¥ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;NSObjectç±»å‹çš„context&quot;&gt;&lt;a href=&quot;#NSObjectç±»å‹çš„context&quot; class=&quot;headerlink&quot; title=&quot;NSObjectç±»å‹çš„context&quot;&gt;&lt;/a&gt;NSObjectç±»å‹çš„context&lt;/h2&gt;&lt;p&gt;åœ¨Macã€iOSçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†ç”¨çš„éƒ½æ˜¯Foundationæ¡†æ¶ä¸‹çš„ç±»ï¼Œå°±æ˜¯å¦‚NSStringã€NSDictionaryè¿™äº›NSObjectç±»å‹çš„ç±»ã€‚  &lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ä¸Šé¢çš„&lt;strong&gt;dispatch_set(get)_context&lt;/strong&gt;æ¥å—çš„contextå‚æ•°æ˜¯Cè¯­è¨€ç±»å‹çš„ï¼Œå³Core Foundationç±»å‹çš„ï¼Œæˆ‘ä»¬å¦‚ä½•è½¬æ¢å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”±äºARCä¸èƒ½ç®¡ç†Core Foundation Objectçš„ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å…ˆè½¬æ¢contextçš„â€œç±»å‹â€ï¼Œä»¥ä¾¿è½¬æ¢å†…å­˜ç®¡ç†æƒã€‚&lt;/p&gt;
&lt;h3 id=&quot;bridge&quot;&gt;&lt;a href=&quot;#bridge&quot; class=&quot;headerlink&quot; title=&quot;__bridge&quot;&gt;&lt;/a&gt;__bridge&lt;/h3&gt;&lt;p&gt;Appleå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ç”¨äºè½¬æ¢çš„å…³é”®å­—ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;__bridge: åªåšäº†ç±»å‹è½¬æ¢ï¼Œä¸ä¿®æ”¹å†…å­˜ç®¡ç†æƒï¼›&lt;/li&gt;
&lt;li&gt;__bridge_retainedï¼ˆå³CFBridgingRetainï¼‰è½¬æ¢ç±»å‹ï¼ŒåŒæ—¶å°†å†…å­˜ç®¡ç†æƒä»ARCä¸­ç§»é™¤ï¼Œåé¢éœ€è¦ä½¿ç”¨CFReleaseæ¥é‡Šæ”¾å¯¹è±¡ï¼›&lt;/li&gt;
&lt;li&gt;__bridge_transferï¼ˆå³CFBridgingReleaseï¼‰å°†Core Foundationçš„å¯¹è±¡è½¬æ¢ä¸ºObjective-Cçš„å¯¹è±¡ï¼ŒåŒæ—¶å°†å†…å­˜ç®¡ç†æƒäº¤ç»™ARCã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;é‡æ–°å®šä¹‰context&quot;&gt;&lt;a href=&quot;#é‡æ–°å®šä¹‰context&quot; class=&quot;headerlink&quot; title=&quot;é‡æ–°å®šä¹‰context&quot;&gt;&lt;/a&gt;é‡æ–°å®šä¹‰context&lt;/h3&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ä¸‹é¢çš„è¯´æ˜ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰contextç±»ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Data&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; number;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç»§æ‰¿deallocæ–¹æ³•ï¼Œä¾¿äºè§‚å¯Ÿå¯¹è±¡ä½•æ—¶è¢«é‡Šæ”¾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)dealloc &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;Data dealloc...&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæˆ‘ä»¬ç»§æ‰¿äº†&lt;strong&gt;dealloc&lt;/strong&gt;æ–¹æ³•ï¼Œè¿™æ ·å°±èƒ½çŸ¥é“Dataç±»å‹å¯¹è±¡ä»€ä¹ˆæ—¶å€™è¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;h3 id=&quot;éœ€è¦æ³¨æ„çš„ç‚¹&quot;&gt;&lt;a href=&quot;#éœ€è¦æ³¨æ„çš„ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;éœ€è¦æ³¨æ„çš„ç‚¹&quot;&gt;&lt;/a&gt;éœ€è¦æ³¨æ„çš„ç‚¹&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;__bridge&lt;/strong&gt;çš„è½¬æ¢æ˜¯æ²¡æœ‰è½¬ç§»å†…å­˜ç®¡ç†æƒçš„ï¼Œè¿™ç‚¹è¦ç‰¹åˆ«æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ä¼ contextå¯¹è±¡æ—¶ï¼Œç”¨çš„æ˜¯&lt;strong&gt;__bridge&lt;/strong&gt;è½¬æ¢ï¼Œé‚£ä¹ˆcontextå¯¹è±¡çš„å†…å­˜ç®¡ç†æƒè¿˜åœ¨ARCæ‰‹é‡Œï¼Œä¸€æ—¦å½“å‰ä½œç”¨åŸŸæ‰§è¡Œå®Œï¼Œcontextå°±ä¼šè¢«é‡Šæ”¾ï¼Œè€Œå¦‚æœé˜Ÿåˆ—çš„ä»»åŠ¡ç”¨äº†contextå¯¹è±¡ï¼Œå°±ä¼šé€ æˆâ€œ&lt;strong&gt;EXC_BAD_ACCESS&lt;/strong&gt;â€å´©æºƒï¼&lt;/p&gt;
&lt;h3 id=&quot;æ­£ç¡®çš„ç”¨æ³•&quot;&gt;&lt;a href=&quot;#æ­£ç¡®çš„ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;æ­£ç¡®çš„ç”¨æ³•&quot;&gt;&lt;/a&gt;æ­£ç¡®çš„ç”¨æ³•&lt;/h3&gt;&lt;p&gt;é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰é˜Ÿåˆ—çš„finalizerå‡½æ•°ï¼Œç”¨äºé‡Šæ”¾contextå†…å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;cleanStaff&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *context)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œç”¨__bridgeè½¬æ¢ï¼Œä¸æ”¹å˜å†…å­˜ç®¡ç†æƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Data *data = (__bridge Data *)(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;In clean, context number: %d&quot;&lt;/span&gt;, data.number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//é‡Šæ”¾contextçš„å†…å­˜ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CFRelease(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)testBody &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºé˜Ÿåˆ—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dispatch_queue_t&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt; = dispatch_queue_create(&lt;span class=&quot;string&quot;&gt;&quot;me.tutuge.test.gcd&quot;&lt;/span&gt;, DISPATCH_QUEUE_SERIAL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºDataç±»å‹contextæ•°æ®å¹¶åˆå§‹åŒ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Data *myData = [Data &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    myData.number = &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ç»‘å®šcontext&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œç”¨__bridge_retainedè½¬æ¢ï¼Œå°†contextçš„å†…å­˜ç®¡ç†æƒä»ARCç§»é™¤ï¼Œäº¤ç”±æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨é‡Šæ”¾ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_set_context(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, (__bridge_retained &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; *)(myData));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è®¾ç½®finalizerå‡½æ•°ï¼Œç”¨äºåœ¨é˜Ÿåˆ—æ‰§è¡Œå®Œæˆåé‡Šæ”¾å¯¹åº”contextå†…å­˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_set_finalizer_f(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, cleanStaff);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dispatch_async(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;, ^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//è·å–é˜Ÿåˆ—çš„contextæ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œç”¨__bridgeè½¬æ¢ï¼Œä¸æ”¹å˜å†…å­˜ç®¡ç†æƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Data *data = (__bridge Data *)(dispatch_get_context(&lt;span class=&quot;built_in&quot;&gt;queue&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//æ‰“å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;1: context number: %d&quot;&lt;/span&gt;, data.number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//ä¿®æ”¹contextä¿å­˜çš„æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        data.number = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;è§£é‡Š&quot;&gt;&lt;a href=&quot;#è§£é‡Š&quot; class=&quot;headerlink&quot; title=&quot;è§£é‡Š&quot;&gt;&lt;/a&gt;è§£é‡Š&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åœ¨dispatch_set_contextçš„æ—¶å€™ç”¨&lt;strong&gt;__bridge_retained&lt;/strong&gt;è½¬æ¢ï¼Œå°†contextçš„å†…å­˜ç®¡ç†æƒä»ARCç§»é™¤ï¼Œäº¤ç»™æˆ‘ä»¬è‡ªå·±ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨é˜Ÿåˆ—ä»»åŠ¡ä¸­ï¼Œç”¨dispatch_get_contextè·å–contextçš„æ—¶å€™ï¼Œç”¨&lt;strong&gt;__bridge&lt;/strong&gt;è½¬æ¢ï¼Œç»´æŒcontextçš„å†…å­˜ç®¡ç†æƒä¸å˜ï¼Œé˜²æ­¢å‡ºäº†ä½œç”¨åŸŸcontextè¢«é‡Šæ”¾ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åç”¨&lt;strong&gt;CFRelease&lt;/strong&gt;é‡Šæ”¾contextå†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;è¿è¡Œç»“æœ&quot;&gt;&lt;a href=&quot;#è¿è¡Œç»“æœ&quot; class=&quot;headerlink&quot; title=&quot;è¿è¡Œç»“æœ&quot;&gt;&lt;/a&gt;è¿è¡Œç»“æœ&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-29&lt;/span&gt; 21&lt;span class=&quot;selector-pseudo&quot;&gt;:12&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:41.631&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[38131:1465900]&lt;/span&gt; 1: &lt;span class=&quot;selector-tag&quot;&gt;context&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;number&lt;/span&gt;: 10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-29&lt;/span&gt; 21&lt;span class=&quot;selector-pseudo&quot;&gt;:12&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:41.632&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[38131:1465900]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;clean&lt;/span&gt;, &lt;span class=&quot;selector-tag&quot;&gt;context&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;number&lt;/span&gt;: 20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2015&lt;span class=&quot;selector-tag&quot;&gt;-03-29&lt;/span&gt; 21&lt;span class=&quot;selector-pseudo&quot;&gt;:12&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:41.632&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;GCDTest&lt;/span&gt;&lt;span class=&quot;selector-attr&quot;&gt;[38131:1465900]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Data&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;dealloc&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”±ç»“æœå¯çŸ¥ï¼Œæˆ‘ä»¬çš„contextå¯¹è±¡åœ¨æœ€åæ˜¾å¼è°ƒç”¨&lt;strong&gt;CFRelease&lt;/strong&gt;æ‰è¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯åˆç†è¿ç”¨__bridge_retained(transfer)å…³é”®å­—è½¬æ¢å¯¹è±¡çš„å†…å­˜ç®¡ç†æƒï¼Œè®©æˆ‘ä»¬è‡ªå·±æ§åˆ¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Grand Central Dispatch (GCD) Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW13&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Concurrency Programming Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Toll-Free Bridged Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/diyagoanyhacker/article/details/7573801&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Core Foundation æ¡†æ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;2015-5-28æ›´æ–°&quot;&gt;&lt;a href=&quot;#2015-5-28æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;2015-5-28æ›´æ–°&quot;&gt;&lt;/a&gt;2015-5-28æ›´æ–°&lt;/h2&gt;&lt;p&gt;ä¸‹é¢è¯„è®ºçš„å¥½å‹â€œ@Jimâ€ç»™äº†ç§æ–°çš„æ€è·¯ï¼Œå°±æ˜¯åœ¨æ¸…é™¤contextçš„å‡½æ•°é‡Œé¢ï¼Œç”¨â€œ&lt;strong&gt;_bridge_transfer&lt;/strong&gt;â€è½¬æ¢contextï¼ŒæŠŠcontextçš„å†…å­˜ç®¡ç†æƒé™é‡æ–°äº¤ç»™ARCï¼Œè¿™æ ·ï¼Œå°±ä¸ç”¨æ˜¾å¼è°ƒç”¨â€œ&lt;strong&gt;CFRelease&lt;/strong&gt;â€äº†ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;literal&quot;&gt;void&lt;/span&gt; cleanStaff(&lt;span class=&quot;literal&quot;&gt;void&lt;/span&gt; *context) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è¿™é‡Œç”¨_bridge_transferè½¬æ¢ï¼Œå°†å†…å­˜ç®¡ç†æƒé™äº¤è¿˜ç»™ARC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; *&lt;span class=&quot;built_in&quot;&gt;data&lt;/span&gt; = (_bridge_transfer &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; *)(context);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;In clean, context number: %d&quot;&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;data&lt;/span&gt;.number);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ä¸ç”¨æ˜¾å¼é‡Šæ”¾contextçš„å†…å­˜ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;çœ‹è¿‡GCDï¼ˆGrand Central Dispatchï¼‰çš„Apple&lt;a href=&quot;https://developer.apple.com/library/prerelease/mac/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;çš„æœ‹å‹ä¸€å®šè§è¿‡â€œ&lt;strong&gt;dispatch_set_context&lt;/strong&gt;â€å’Œâ€œ&lt;strong&gt;dispatch_get_context&lt;/strong&gt;â€è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‡½æ•°è¯¥æ€ä¹ˆç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒGCDçš„æ¥å£å‚æ•°éƒ½æ˜¯â€œCè¯­è¨€ç±»å‹â€œçš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•å°†NSObjectç±»å‹ï¼ˆFoundationæ¡†æ¶ï¼‰çš„æ•°æ®ï¼Œä¼ å…¥GCDçš„æ¥å£å‘¢ï¼Ÿï¼ˆå³ï¼šCore Foundationå’ŒFoundationå¯¹è±¡çš„è½¬æ¢ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;æœ¬æ–‡å…³é”®å­—&quot;&gt;&lt;a href=&quot;#æœ¬æ–‡å…³é”®å­—&quot; class=&quot;headerlink&quot; title=&quot;æœ¬æ–‡å…³é”®å­—&quot;&gt;&lt;/a&gt;æœ¬æ–‡å…³é”®å­—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;GCDï¼šdispatch_set_contextï¼Œdispatch_get_context&lt;/li&gt;
&lt;li&gt;__bridgeï¼Œ__bridge_retainedï¼Œ__bridge_transfer&lt;/li&gt;
&lt;li&gt;Core Foundation, NSObject&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Enum-æšä¸¾çš„æ­£ç¡®ä½¿ç”¨-Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-5</title>
    <link href="http://tutuge.me/2015/03/21/effective-objective-c-5-enum/"/>
    <id>http://tutuge.me/2015/03/21/effective-objective-c-5-enum/</id>
    <published>2015-03-21T12:52:57.000Z</published>
    <updated>2016-03-20T09:03:27.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Enumï¼Œä¹Ÿå°±æ˜¯æšä¸¾ï¼Œä»Cè¯­è¨€å¼€å§‹å°±æœ‰äº†ï¼ŒC++ã€Javaã€Objective-Cã€Swiftè¿™äº›è¯­è¨€ï¼Œå½“ç„¶éƒ½æœ‰å¯¹åº”çš„æšä¸¾ç±»å‹ï¼ŒåŠŸèƒ½å¯èƒ½æœ‰å¤šæœ‰å°‘ï¼Œä½†æ˜¯æœ€æ ¸å¿ƒçš„è¿˜æ˜¯ä¸€ä¸ªâ€”è§„èŒƒçš„å®šä¹‰ä»£ç ä¸­çš„çŠ¶æ€ã€é€‰é¡¹ç­‰â€œå¸¸é‡â€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-5-Use-Enumerations-for-States-Options-and-Status-Codes&quot;&gt;&lt;a href=&quot;#Item-5-Use-Enumerations-for-States-Options-and-Status-Codes&quot; class=&quot;headerlink&quot; title=&quot;Item 5 - Use Enumerations for States, Options, and Status Codes&quot;&gt;&lt;/a&gt;Item 5 - Use Enumerations for States, Options, and Status Codes&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚çš„å†…å®¹å°±æ˜¯å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨æšä¸¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates-and-optionsï¼‰&quot;&gt;&lt;a href=&quot;#çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates-and-optionsï¼‰&quot; class=&quot;headerlink&quot; title=&quot;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates and optionsï¼‰&quot;&gt;&lt;/a&gt;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates and optionsï¼‰&lt;/h2&gt;&lt;p&gt;åœ¨ç”¨&lt;strong&gt;enum&lt;/strong&gt;ä¹‹å‰ï¼Œæˆ‘ä¸ªäººè§‰å¾—ï¼ŒåŒºåˆ†ä¸€ä¸‹çŠ¶æ€å’Œé€‰é¡¹çš„æ¦‚å¿µè¿˜æ˜¯å¾ˆå¿…è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ç§ï¼Œå¦‚â€œ&lt;strong&gt;OK&lt;/strong&gt;â€ï¼Œâ€œ&lt;strong&gt;Error&lt;/strong&gt;â€ï¼Œä¸å¯èƒ½åŒæ—¶æ˜¯OKå’ŒErrorã€‚&lt;br&gt;&lt;strong&gt;é€‰é¡¹&lt;/strong&gt;ï¼ŒåŒæ—¶å¯ä»¥æœ‰ä¸€ç§æˆ–ä¸€ç§ä»¥ä¸Šï¼Œå¦‚Appå¯ä»¥&lt;strong&gt;åŒæ—¶&lt;/strong&gt;æ”¯æŒæ¨ªå±å’Œç«–å±ï¼Œæ¨ªå±ç«–å±åœ¨è¿™ä¸ªæ—¶å€™å°±æ˜¯â€œå±å¹•æ–¹å‘â€çš„ä¸¤ç§ä¸åŒçš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨æšä¸¾å®šä¹‰çŠ¶æ€å’Œé€‰é¡¹ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;enumä¸çŠ¶æ€ï¼ˆstatesï¼‰&quot;&gt;&lt;a href=&quot;#enumä¸çŠ¶æ€ï¼ˆstatesï¼‰&quot; class=&quot;headerlink&quot; title=&quot;enumä¸çŠ¶æ€ï¼ˆstatesï¼‰&quot;&gt;&lt;/a&gt;enumä¸çŠ¶æ€ï¼ˆstatesï¼‰&lt;/h2&gt;&lt;h4 id=&quot;ä¸å¥½çš„åšæ³•&quot;&gt;&lt;a href=&quot;#ä¸å¥½çš„åšæ³•&quot; class=&quot;headerlink&quot; title=&quot;ä¸å¥½çš„åšæ³•&quot;&gt;&lt;/a&gt;ä¸å¥½çš„åšæ³•&lt;/h4&gt;&lt;p&gt;ç»å¸¸çœ‹åˆ°è¿™æ ·çš„å†™æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; STATE_OK &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; STATE_ERROR &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; STATE_UNKNOW &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç›´æ¥ç”¨intå‹å˜é‡æ¥æ”¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; STATE = STATE_UNKNOW&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·åšæœ‰å¦‚ä¸‹â€œä¸æ°å½“â€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®å®šä¹‰æ²¡æœ‰ç±»å‹çº¦æŸï¼Œåªæ˜¯å•çº¯çš„æ›¿æ¢ã€‚&lt;/li&gt;
&lt;li&gt;æ— æ³•é™åˆ¶çŠ¶æ€çš„æ‰€æœ‰æƒ…å†µï¼Œå¦‚ï¼Œè®¤ä¸ºçš„å°†STATEèµ‹å€¼æˆ3ï¼Œç¨‹åºå¯èƒ½å°±ä¼šå‡ºé”™ï¼Œæ‰¾ä¸åˆ°åŒ¹é…çš„çŠ¶æ€ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸ä¼šå¯¹â€œ&lt;strong&gt;STATE = 3;&lt;/strong&gt;â€æå‡ºè­¦å‘Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;æ­£ç¡®çš„åšæ³•&quot;&gt;&lt;a href=&quot;#æ­£ç¡®çš„åšæ³•&quot; class=&quot;headerlink&quot; title=&quot;æ­£ç¡®çš„åšæ³•&quot;&gt;&lt;/a&gt;æ­£ç¡®çš„åšæ³•&lt;/h4&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;_TTGState&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGStateOK  = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGStateError,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGStateUnknow&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; TTGState;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;æŒ‡æ˜æšä¸¾ç±»å‹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTGState state = TTGStateOK;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨çš„æ—¶å€™å°±å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;attribute&quot;&gt;dealWithState&lt;/span&gt;:(TTGState)&lt;span class=&quot;decorator&quot;&gt;state&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (state) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;TTGStateOK&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;TTGStateError&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;TTGStateUnknow&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;enumä¸é€‰é¡¹-options&quot;&gt;&lt;a href=&quot;#enumä¸é€‰é¡¹-options&quot; class=&quot;headerlink&quot; title=&quot;enumä¸é€‰é¡¹ (options)&quot;&gt;&lt;/a&gt;enumä¸é€‰é¡¹ (options)&lt;/h2&gt;&lt;p&gt;é€‰é¡¹ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªâ€œé€‰é¡¹å˜é‡â€çš„ç±»å‹è¦èƒ½å¤ŸåŒæ—¶è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªç»„åˆçš„é€‰æ‹©ï¼Œå¦‚ä¸‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight protobuf&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ–¹å‘ï¼Œå¯åŒæ—¶æ”¯æŒä¸€ä¸ªæˆ–å¤šä¸ªæ–¹å‘&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; _&lt;span class=&quot;title&quot;&gt;TTGDirection&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGDirectionNone = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGDirectionTop = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGDirectionLeft = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGDirectionRight = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TTGDirectionBottom = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; TTGDirection;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œè¿™é‡Œçš„é€‰é¡¹æ˜¯ç”¨&lt;strong&gt;ä½è¿ç®—&lt;/strong&gt;çš„æ–¹å¼å®šä¹‰çš„ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯ï¼Œæˆ‘ä»¬çš„é€‰é¡¹å˜é‡å¯ä»¥å¦‚ä¸‹è¡¨ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç”¨â€œæˆ–â€è¿ç®—åŒæ—¶èµ‹å€¼å¤šä¸ªé€‰é¡¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TTGDirection direction = TTGDirectionTop | TTGDirectionLeft | TTGDirectionBottom&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç”¨â€œä¸â€è¿ç®—å–å‡ºå¯¹åº”ä½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (direction &amp;amp; TTGDirectionTop) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;top&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (direction &amp;amp; TTGDirectionLeft) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (direction &amp;amp; TTGDirectionRight) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (direction &amp;amp; TTGDirectionBottom) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;bottom&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;direction&lt;/strong&gt;å˜é‡çš„å®é™…å†…å­˜å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_effective_objective_c_5_enum_2.jpg&quot; alt=&quot;å†…å­˜ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œç”¨ä½è¿ç®—ï¼Œå°±å¯ä»¥åŒæ—¶æ”¯æŒå¤šä¸ªå€¼ã€‚&lt;/p&gt;
&lt;h2 id=&quot;enumåœ¨Objective-Cä¸­çš„â€œå‡çº§ç‰ˆâ€&quot;&gt;&lt;a href=&quot;#enumåœ¨Objective-Cä¸­çš„â€œå‡çº§ç‰ˆâ€&quot; class=&quot;headerlink&quot; title=&quot;enumåœ¨Objective-Cä¸­çš„â€œå‡çº§ç‰ˆâ€&quot;&gt;&lt;/a&gt;enumåœ¨Objective-Cä¸­çš„â€œå‡çº§ç‰ˆâ€&lt;/h2&gt;&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸èƒ½æŒ‡å®šæšä¸¾å˜é‡çš„å®é™…ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸çŸ¥é“æšä¸¾æœ€åæ˜¯intå‹ï¼Œè¿˜æ˜¯å…¶ä»–çš„ä»€ä¹ˆç±»å‹ã€‚ä½†æ˜¯ä»C++ 11å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæšä¸¾æŒ‡å®šå…¶å®é™…çš„å­˜å‚¨ç±»å‹ï¼Œå¦‚ä¸‹è¯­æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TTGState&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSInteger&lt;/span&gt; &amp;#123;/*...*/&amp;#125;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰æšä¸¾çš„æ—¶å€™å¦‚ä½•ä¿è¯å…¼å®¹æ€§å‘¢ï¼ŸFoundationæ¡†æ¶å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†æ›´åŠ â€œç»Ÿä¸€ã€ä¾¿æ·â€çš„æšä¸¾å®šä¹‰æ–¹æ³•ï¼Œæˆ‘ä»¬é‡æ–°å®šä¹‰ä¸Šé¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight elm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;type&quot;&gt;NS_ENUM&lt;/span&gt;ï¼Œå®šä¹‰çŠ¶æ€ç­‰æ™®é€šæšä¸¾&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;type&quot;&gt;NS_ENUM&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;NSUInteger&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;TTGState&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGStateOK&lt;/span&gt; = 0,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGStateError&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGStateUnknow&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;type&quot;&gt;NS_OPTIONS&lt;/span&gt;ï¼Œå®šä¹‰é€‰é¡¹&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;type&quot;&gt;NS_OPTIONS&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;NSUInteger&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;TTGDirection&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGDirectionNone&lt;/span&gt; = 0,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGDirectionTop&lt;/span&gt; = 1 &amp;lt;&amp;lt; 0,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGDirectionLeft&lt;/span&gt; = 1 &amp;lt;&amp;lt; 1,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGDirectionRight&lt;/span&gt; = 1 &amp;lt;&amp;lt; 2,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;TTGDirectionBottom&lt;/span&gt; = 1 &amp;lt;&amp;lt; 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨å¼€å‘Macã€iOSç¨‹åºä¸­ï¼Œæœ€å¥½æ‰€æœ‰çš„æšä¸¾éƒ½ç”¨â€œ&lt;strong&gt;NS_ENUM&lt;/strong&gt;â€å’Œâ€œ&lt;strong&gt;NS_OPTIONS&lt;/strong&gt;â€å®šä¹‰ï¼Œä¿è¯ç»Ÿä¸€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å……åˆ†çš„ç”¨å¥½æšä¸¾ï¼Œå¯ä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œå‡å°‘å„ç§â€œé”™è¯¯â€ï¼Œè®©ä»£ç æ›´åŠ çš„è§„èŒƒã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Enumï¼Œä¹Ÿå°±æ˜¯æšä¸¾ï¼Œä»Cè¯­è¨€å¼€å§‹å°±æœ‰äº†ï¼ŒC++ã€Javaã€Objective-Cã€Swiftè¿™äº›è¯­è¨€ï¼Œå½“ç„¶éƒ½æœ‰å¯¹åº”çš„æšä¸¾ç±»å‹ï¼ŒåŠŸèƒ½å¯èƒ½æœ‰å¤šæœ‰å°‘ï¼Œä½†æ˜¯æœ€æ ¸å¿ƒçš„è¿˜æ˜¯ä¸€ä¸ªâ€”è§„èŒƒçš„å®šä¹‰ä»£ç ä¸­çš„çŠ¶æ€ã€é€‰é¡¹ç­‰â€œå¸¸é‡â€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-5-Use-Enumerations-for-States-Options-and-Status-Codes&quot;&gt;&lt;a href=&quot;#Item-5-Use-Enumerations-for-States-Options-and-Status-Codes&quot; class=&quot;headerlink&quot; title=&quot;Item 5 - Use Enumerations for States, Options, and Status Codes&quot;&gt;&lt;/a&gt;Item 5 - Use Enumerations for States, Options, and Status Codes&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚çš„å†…å®¹å°±æ˜¯å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨æšä¸¾ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates-and-optionsï¼‰&quot;&gt;&lt;a href=&quot;#çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates-and-optionsï¼‰&quot; class=&quot;headerlink&quot; title=&quot;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates and optionsï¼‰&quot;&gt;&lt;/a&gt;çŠ¶æ€ä¸é€‰é¡¹çš„åŒºåˆ«ï¼ˆstates and optionsï¼‰&lt;/h2&gt;&lt;p&gt;åœ¨ç”¨&lt;strong&gt;enum&lt;/strong&gt;ä¹‹å‰ï¼Œæˆ‘ä¸ªäººè§‰å¾—ï¼ŒåŒºåˆ†ä¸€ä¸‹çŠ¶æ€å’Œé€‰é¡¹çš„æ¦‚å¿µè¿˜æ˜¯å¾ˆå¿…è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ç§ï¼Œå¦‚â€œ&lt;strong&gt;OK&lt;/strong&gt;â€ï¼Œâ€œ&lt;strong&gt;Error&lt;/strong&gt;â€ï¼Œä¸å¯èƒ½åŒæ—¶æ˜¯OKå’ŒErrorã€‚&lt;br&gt;&lt;strong&gt;é€‰é¡¹&lt;/strong&gt;ï¼ŒåŒæ—¶å¯ä»¥æœ‰ä¸€ç§æˆ–ä¸€ç§ä»¥ä¸Šï¼Œå¦‚Appå¯ä»¥&lt;strong&gt;åŒæ—¶&lt;/strong&gt;æ”¯æŒæ¨ªå±å’Œç«–å±ï¼Œæ¨ªå±ç«–å±åœ¨è¿™ä¸ªæ—¶å€™å°±æ˜¯â€œå±å¹•æ–¹å‘â€çš„ä¸¤ç§ä¸åŒçš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨æšä¸¾å®šä¹‰çŠ¶æ€å’Œé€‰é¡¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>@autoreleasepool-å†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾</title>
    <link href="http://tutuge.me/2015/03/17/what-is-autoreleasepool/"/>
    <id>http://tutuge.me/2015/03/17/what-is-autoreleasepool/</id>
    <published>2015-03-17T12:21:56.000Z</published>
    <updated>2016-03-20T09:03:59.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¼€å‘è¿‡iOSã€Macçš„æœ‹å‹åº”è¯¥å¯¹â€œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;â€ä¸é™Œç”Ÿã€‚åªè¦åœ¨Xcodeé‡Œåˆ›å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//iOS program&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; main(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; * argv[]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;UIApplicationMain&lt;/span&gt;(argc, argv, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([AppDelegate class]));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Command line program&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; main(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *argv[]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ¯ä¸ª&lt;strong&gt;main&lt;/strong&gt;å‡½æ•°çš„ä¸»ä½“éƒ½è¢«&lt;strong&gt;@autoreleasepool&lt;/strong&gt;çš„Blockå—åŒ…åœ¨é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¥ä¸‹æ¥æ‰€æœ‰çš„å¯¹è±¡åˆ›å»ºéƒ½åœ¨è¿™ä¸ªblocké‡Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;çš„ä½œç”¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¼€å‘ä¸­å¯ä»¥ç”¨å®ƒæ¥åšä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ä»¥åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¤§å¹…åº¦é™ä½ç¨‹åºçš„å†…å­˜å ç”¨ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://camo.githubusercontent.com/2c1f07459d33c72de07d8a9305703b2ba40abfc4/687474703a2f2f7a6f72726f6368656e2e71696e6975646e2e636f6d2f626c6f675f776861745f69735f6175746f72656c65617365706f6f6c5f312e706e673f696d61676556696577322f302f682f343030&quot; alt=&quot;autoreleasepoolæµ‹è¯•å†…å­˜å ç”¨å›¾&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•çš„å†…å®¹ï¼š500000æ¬¡å¾ªç¯ï¼Œæ¯æ¬¡å¾ªç¯åˆ›å»ºä¸€ä¸ªNSNumberå®ä¾‹å’Œä¸¤ä¸ªNSStringå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;å›¾ï¼šçº¢çº¿è¡¨ç¤ºæ²¡æœ‰ç”¨&lt;strong&gt;@autoreleasepool&lt;/strong&gt;æ—¶çš„å†…å­˜å ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å›¾ï¼šç»¿çº¿è¡¨ç¤ºç”¨äº†&lt;strong&gt;@autoreleasepool&lt;/strong&gt;ä¼˜åŒ–åçš„å†…å­˜å ç”¨ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•ˆæœæ˜¯ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼&lt;/p&gt;
&lt;p&gt;ä»£ç Githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/AutoReleasePoolTestExample&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AutoReleasePoolTestExample&lt;/a&gt; Xcode 6, iOS 8, iPhone 5æ¨¡æ‹Ÿå™¨.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;MRC-ä¸-ARC&quot;&gt;&lt;a href=&quot;#MRC-ä¸-ARC&quot; class=&quot;headerlink&quot; title=&quot;MRC ä¸ ARC&quot;&gt;&lt;/a&gt;MRC ä¸ ARC&lt;/h2&gt;&lt;p&gt;MRCï¼ˆMannul Reference Countingï¼‰å’ŒARC(Automatic Reference Counting)ï¼Œåˆ†åˆ«å¯¹åº”ç€æ‰‹åŠ¨å¼•ç”¨è®¡æ•°å’Œè‡ªåŠ¨å¼•ç”¨è®¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹ï¼æ˜¯è®¡æ•°ï¼Œä¸æ˜¯â€œ&lt;strong&gt;GCã€åƒåœ¾å›æ”¶&lt;/strong&gt;â€ä»€ä¹ˆçš„ï¼Œå°±æ˜¯è¯´ï¼Œåœ¨Objective-Cçš„å¼€å‘ä¸­ï¼ŒARCä¸ä»£è¡¨åƒJavaé‚£æ ·æœ‰GCåšåƒåœ¾å›æ”¶ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šè¿˜æ˜¯è¦â€œæ‰‹åŠ¨â€ç®¡ç†å†…å­˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ARCç¯å¢ƒä¸‹å†™çš„ä»£ç ï¼Œä¸ç”¨è‡ªå·±æ‰‹åŠ¨æ’å…¥â€œ&lt;strong&gt;retainã€releaseè¿™äº›æ¶ˆæ¯&lt;/strong&gt;â€ï¼ŒARCä¼šåœ¨ç¼–è¯‘æ—¶ä¸ºæˆ‘ä»¬åœ¨åˆé€‚çš„ä½ç½®æ’å…¥ï¼Œé‡Šæ”¾ä¸å¿…è¦çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;å°±è·Ÿå¯¹è±¡çš„&lt;strong&gt;release&lt;/strong&gt;å¯†åˆ‡ç›¸å…³ã€‚&lt;/p&gt;
&lt;h2 id=&quot;autoreleasepool-å¹²äº†å•¥&quot;&gt;&lt;a href=&quot;#autoreleasepool-å¹²äº†å•¥&quot; class=&quot;headerlink&quot; title=&quot;@autoreleasepool å¹²äº†å•¥&quot;&gt;&lt;/a&gt;@autoreleasepool å¹²äº†å•¥&lt;/h2&gt;&lt;p&gt;åœ¨MRCæ—¶ä»£ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å…ˆretainä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“åœ¨ä»€ä¹ˆæ—¶å€™å¯ä»¥releaseå®ƒï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSAutoreleasePool *pool = [[NSAutoreleasePool &lt;span class=&quot;keyword&quot;&gt;alloc&lt;/span&gt;] init]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString* &lt;span class=&quot;keyword&quot;&gt;str&lt;/span&gt; = [[[NSString &lt;span class=&quot;keyword&quot;&gt;alloc&lt;/span&gt;] initWithString:@&lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;] autorelease]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//use str...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[pool release]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//str is released&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ç»™å¯¹è±¡å‘é€â€œ&lt;strong&gt;autorelease&lt;/strong&gt;â€æ¶ˆæ¯ï¼Œç„¶åå½“&lt;strong&gt;NSAutoreleasePool&lt;/strong&gt;ç»“æŸçš„æ—¶å€™ï¼Œâ€œæ ‡è®°è¿‡â€autoreleaseçš„å¯¹è±¡éƒ½ä¼šè¢«â€œ&lt;strong&gt;release&lt;/strong&gt;â€æ‰ï¼Œä¹Ÿå°±æ˜¯ä¼šè¢«é‡Šæ”¾æ‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åœ¨ARCæ—¶ä»£ï¼Œæˆ‘ä»¬ä¸ç”¨æ‰‹åŠ¨å‘é€&lt;strong&gt;autorelease&lt;/strong&gt;æ¶ˆæ¯ï¼ŒARCä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åŠ ã€‚è€Œè¿™ä¸ªæ—¶å€™ï¼Œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;åšçš„äº‹æƒ…ï¼Œè·Ÿ&lt;strong&gt;NSAutoreleasePool&lt;/strong&gt;å°±ä¸€æ¨¡ä¸€æ ·äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ—¶å€™ç”¨-autoreleasepool&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ—¶å€™ç”¨-autoreleasepool&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ—¶å€™ç”¨@autoreleasepool&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ—¶å€™ç”¨@autoreleasepool&lt;/h2&gt;&lt;p&gt;æ ¹æ®&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Appleçš„æ–‡æ¡£&lt;/a&gt;ï¼Œä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™åŸºäºå‘½ä»¤è¡Œçš„çš„ç¨‹åºæ—¶ï¼Œå°±æ˜¯æ²¡æœ‰UIæ¡†æ¶ï¼Œå¦‚AppKitç­‰Cocoaæ¡†æ¶æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;å†™å¾ªç¯ï¼Œå¾ªç¯é‡Œé¢åŒ…å«äº†å¤§é‡ä¸´æ—¶åˆ›å»ºçš„å¯¹è±¡ã€‚ï¼ˆæœ¬æ–‡çš„ä¾‹å­ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ›å»ºäº†æ–°çš„çº¿ç¨‹ã€‚ï¼ˆéCocoaç¨‹åºåˆ›å»ºçº¿ç¨‹æ—¶æ‰éœ€è¦ï¼‰&lt;/li&gt;
&lt;li&gt;é•¿æ—¶é—´åœ¨åå°è¿è¡Œçš„ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;åˆ©ç”¨-autoreleasepoolä¼˜åŒ–å¾ªç¯&quot;&gt;&lt;a href=&quot;#åˆ©ç”¨-autoreleasepoolä¼˜åŒ–å¾ªç¯&quot; class=&quot;headerlink&quot; title=&quot;åˆ©ç”¨@autoreleasepoolä¼˜åŒ–å¾ªç¯&quot;&gt;&lt;/a&gt;åˆ©ç”¨@autoreleasepoolä¼˜åŒ–å¾ªç¯&lt;/h2&gt;&lt;p&gt;åˆ©ç”¨@autoreleasepoolä¼˜åŒ–å¾ªç¯çš„å†…å­˜å ç”¨ï¼Œæˆ‘è§‰å¾—æœ€æœ‰ç”¨çš„ä¸€ç‚¹ï¼Œä¸‹é¢å°±è¯´è¯´è¿™ä¸ªç‚¹ã€‚&lt;br&gt;å¦‚ä¸‹é¢çš„å¾ªç¯ï¼Œæ¬¡æ•°éå¸¸å¤šï¼Œè€Œä¸”å¾ªç¯ä½“é‡Œé¢çš„å¯¹è±¡éƒ½æ˜¯ä¸´æ—¶åˆ›å»ºä½¿ç”¨çš„ï¼Œå°±å¯ä»¥ç”¨&lt;strong&gt;@autoreleasepool&lt;/strong&gt;åŒ…èµ·æ¥ï¼Œè®©æ¯æ¬¡å¾ªç¯ç»“æŸæ—¶ï¼Œå¯ä»¥åŠæ—¶çš„é‡Šæ”¾ä¸´æ—¶å¯¹è±¡çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ¥è‡ªAppleæ–‡æ¡£ï¼Œè§å‚è€ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *urls = &amp;lt;&lt;span class=&quot;meta&quot;&gt;# An array of file URLs #&amp;gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;NSURL&lt;/span&gt; *url &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; urls) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSError&lt;/span&gt; *error;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *fileContents = [&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; stringWithContentsOfURL:url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                        encoding:&lt;span class=&quot;built_in&quot;&gt;NSUTF8StringEncoding&lt;/span&gt; error:&amp;amp;error];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;/* Process the string, creating and autoreleasing more objects. */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¹ˆåšçš„æ•ˆæœæ˜¯æå…¶æ˜¾è‘—åœ°ï¼Œå°±å¦‚æœ¬æ–‡æœ€å¼€å§‹çš„å›¾ä¸€æ ·ï¼Œå¯ä»¥è‡ªå·±æŠŠç¤ºä¾‹å·¥ç¨‹ä¸‹å›æ¥è¿è¡Œä¸‹è¯•è¯•~&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;@autoreleasepool&lt;/strong&gt;çœ‹èµ·æ¥å¾ˆä¸â€œèµ·çœ¼â€ï¼Œå¹³å¸¸å¼€å‘å¾ˆå®¹æ˜“å°±å¿½ç•¥å®ƒäº†ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹ï¼Œç¡®å¦‚æ­¤æœ‰ç”¨~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Using Autorelease Pool Blocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/14677049/what-is-autoreleasepool-objective-c&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;What is autoreleasepool? - Objective-C&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/9086913/objective-c-why-is-autorelease-autoreleasepool-still-needed-with-arc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C: Why is autorelease (@autoreleasepool) still needed with ARC?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.zilongshanren.com/blog/2013/12/20/what-is-autorelease-pool/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;What-is-autorelease-pool?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSAutoreleasePool_Class/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSAutoreleasePool&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ç¤ºä¾‹ä¸­çš„ç¬¬ä¸‰æ–¹åº“&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹ä¸­çš„ç¬¬ä¸‰æ–¹åº“&quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹ä¸­çš„ç¬¬ä¸‰æ–¹åº“&quot;&gt;&lt;/a&gt;ç¤ºä¾‹ä¸­çš„ç¬¬ä¸‰æ–¹åº“&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/kevinzhow/PNChart&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PNChart&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;è¿è¡Œä¸­ç”¨ä»£ç è·å–Appè¿è¡Œæ¶ˆè€—å†…å­˜&quot;&gt;&lt;a href=&quot;#è¿è¡Œä¸­ç”¨ä»£ç è·å–Appè¿è¡Œæ¶ˆè€—å†…å­˜&quot; class=&quot;headerlink&quot; title=&quot;è¿è¡Œä¸­ç”¨ä»£ç è·å–Appè¿è¡Œæ¶ˆè€—å†…å­˜&quot;&gt;&lt;/a&gt;è¿è¡Œä¸­ç”¨ä»£ç è·å–Appè¿è¡Œæ¶ˆè€—å†…å­˜&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/787160/programmatically-retrieve-memory-usage-on-iphone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Programmatically retrieve memory usage on iPhone&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¼€å‘è¿‡iOSã€Macçš„æœ‹å‹åº”è¯¥å¯¹â€œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;â€ä¸é™Œç”Ÿã€‚åªè¦åœ¨Xcodeé‡Œåˆ›å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//iOS program&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; main(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; * argv[]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;UIApplicationMain&lt;/span&gt;(argc, argv, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;NSStringFromClass&lt;/span&gt;([AppDelegate class]));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Command line program&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; main(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *argv[]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ¯ä¸ª&lt;strong&gt;main&lt;/strong&gt;å‡½æ•°çš„ä¸»ä½“éƒ½è¢«&lt;strong&gt;@autoreleasepool&lt;/strong&gt;çš„Blockå—åŒ…åœ¨é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¥ä¸‹æ¥æ‰€æœ‰çš„å¯¹è±¡åˆ›å»ºéƒ½åœ¨è¿™ä¸ªblocké‡Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œ&lt;strong&gt;@autoreleasepool&lt;/strong&gt;çš„ä½œç”¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¼€å‘ä¸­å¯ä»¥ç”¨å®ƒæ¥åšä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ä»¥åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¤§å¹…åº¦é™ä½ç¨‹åºçš„å†…å­˜å ç”¨ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://camo.githubusercontent.com/2c1f07459d33c72de07d8a9305703b2ba40abfc4/687474703a2f2f7a6f72726f6368656e2e71696e6975646e2e636f6d2f626c6f675f776861745f69735f6175746f72656c65617365706f6f6c5f312e706e673f696d61676556696577322f302f682f343030&quot; alt=&quot;autoreleasepoolæµ‹è¯•å†…å­˜å ç”¨å›¾&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•çš„å†…å®¹ï¼š500000æ¬¡å¾ªç¯ï¼Œæ¯æ¬¡å¾ªç¯åˆ›å»ºä¸€ä¸ªNSNumberå®ä¾‹å’Œä¸¤ä¸ªNSStringå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;å›¾ï¼šçº¢çº¿è¡¨ç¤ºæ²¡æœ‰ç”¨&lt;strong&gt;@autoreleasepool&lt;/strong&gt;æ—¶çš„å†…å­˜å ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å›¾ï¼šç»¿çº¿è¡¨ç¤ºç”¨äº†&lt;strong&gt;@autoreleasepool&lt;/strong&gt;ä¼˜åŒ–åçš„å†…å­˜å ç”¨ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•ˆæœæ˜¯ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼&lt;/p&gt;
&lt;p&gt;ä»£ç Githubåœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/AutoReleasePoolTestExample&quot;&gt;AutoReleasePoolTestExample&lt;/a&gt; Xcode 6, iOS 8, iPhone 5æ¨¡æ‹Ÿå™¨.&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰å…³å®å®šä¹‰çš„ç»éªŒä¸æŠ€å·§-ç®€åŒ–ä»£ç -å¢å¼ºLog</title>
    <link href="http://tutuge.me/2015/03/15/%E6%9C%89%E5%85%B3%E5%AE%8F%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%8A%80%E5%B7%A7-%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81-%E5%A2%9E%E5%BC%BALog/"/>
    <id>http://tutuge.me/2015/03/15/æœ‰å…³å®å®šä¹‰çš„ç»éªŒä¸æŠ€å·§-ç®€åŒ–ä»£ç -å¢å¼ºLog/</id>
    <published>2015-03-15T07:34:28.000Z</published>
    <updated>2016-03-20T09:04:09.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å®å®šä¹‰ã€#defineå•¥çš„ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ã€‚&lt;br&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„å¯èƒ½å°±æ˜¯å®šä¹‰ä¸€äº›å¸¸é‡ã€ç®€å•çš„â€œå‡½æ•°â€ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//å®šä¹‰å¸¸é‡&lt;span class=&quot;literal&quot;&gt;PI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define PI 3.1415926&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//å®šä¹‰â€œå‡½æ•°â€MIN&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define MIN(A,B) ((A) &amp;lt; (B) ? (A) : (B))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œè¿™æ ·å®šä¹‰å¸¸é‡ã€å‡½æ•°ï¼Œæœ‰ä¸€å®šçš„é£é™©ã€‚ï¼ˆè§ï¼š&lt;a href=&quot;http://tutuge.me/2015/03/11/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡/&quot;&gt;Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡&lt;/a&gt;, &lt;a href=&quot;http://onevcat.com/2014/01/black-magic-in-macro/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œ&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°±åˆ—å‡ºå‡ æ¡æˆ‘ä¸ªäººåœ¨iOSå¼€å‘å½“ä¸­å¸¸ç”¨çš„ç»éªŒä¸æŠ€å·§ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ç®€åŒ–ä»£ç &quot;&gt;&lt;a href=&quot;#ç®€åŒ–ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ç®€åŒ–ä»£ç &quot;&gt;&lt;/a&gt;ç®€åŒ–ä»£ç &lt;/h2&gt;&lt;p&gt;åœ¨å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¤§é‡çš„å†™ä¸€äº›é‡å¤çš„ï¼Œç”šè‡³å…·æœ‰â€œå±é™©â€çš„ä»£ç ï¼Œç”¨å®å®šä¹‰#defineï¼Œå¾€å¾€å¯ä»¥ç®€åŒ–ä»£ç ï¼Œçœ‹çœ‹ä¸‹é¢å‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;GCDä¸-define&quot;&gt;&lt;a href=&quot;#GCDä¸-define&quot; class=&quot;headerlink&quot; title=&quot;GCDä¸#define&quot;&gt;&lt;/a&gt;GCDä¸#define&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;dispatch_once&lt;/strong&gt;&lt;br&gt;é¡¹ç›®ä¸­å¾€å¾€å°‘ä¸äº†å„ç§å•ä¾‹ç±»ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå¦‚ä¸‹å®šä¹‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (&lt;span class=&quot;keyword&quot;&gt;instancetype)sharedService &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static XXX *&lt;span class=&quot;keyword&quot;&gt;sharedService &lt;/span&gt;= nil&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static &lt;span class=&quot;keyword&quot;&gt;dispatch_once_t &lt;/span&gt;onceToken&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dispatch_once, &lt;/span&gt;^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;sharedService &lt;/span&gt;= [XXX new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &lt;span class=&quot;keyword&quot;&gt;sharedService;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ—¶å€™ï¼Œå°±è¦æ³¨æ„å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dispatch_once_tå¿…é¡»æ˜¯&lt;strong&gt;static&lt;/strong&gt;çš„ï¼Œå¦åˆ™ä¼šå„ç§æŠ¥é”™=ã€‚=ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dispatch_once&lt;/strong&gt;çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»å–onceTokençš„åœ°å€ï¼Œå°±æ˜¯è¦â€œ&lt;strong&gt;&amp;amp;onceToken&lt;/strong&gt;ã€‚â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çœ‹ï¼Œå†™ä¸ªå°å°çš„å•ä¾‹éƒ½è¦è¿™ä¹ˆæ³¨æ„ï¼Œé”™äº†ä¸€ç‚¹éƒ½å¾ˆå±é™©å•Šï¼Œè€Œä¸”æ€»è¦é‡å¤å†™è¿™å‡ è¡Œã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™éœ€è¦è®©å®å®šä¹‰å¸®å¿™ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰å®å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; DISPATCH_ONCE_BLOCK(onceBlock) static dispatch_once_t onceToken; dispatch_once(&amp;amp;onceToken, onceBlock);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+ (instancetype)sharedService &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static XXX *sharedService = nil&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ç›´æ¥ä¸€è¡Œæå®š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    DISPATCH_ONCE_BLOCK(^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sharedService = [XXX new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sharedService&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ˜¯ä¸æ˜¯å˜å¾—æ›´åŠ ç®€æ´ã€â€œå®‰å…¨äº†â€~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;dispatch_async&lt;/strong&gt;&lt;br&gt;é™¤äº†dispatch_onceï¼Œå¦ä¸€ä¸ªå¸¸ç”¨çš„å°±æ˜¯dispatch_asyncã€‚ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åœ¨Mainçº¿ç¨‹ä¸Šè¿è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#define&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_MAIN_THREAD&lt;/span&gt;(mainQueueBlock) &lt;span class=&quot;selector-tag&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_main_queue(), mainQueueBlock);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åœ¨Global Queueä¸Šè¿è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#define&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_GLOBAL_QUEUE_HIGH&lt;/span&gt;(globalQueueBlocl) &lt;span class=&quot;selector-tag&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), globalQueueBlocl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#define&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_GLOBAL_QUEUE_DEFAULT&lt;/span&gt;(globalQueueBlocl) &lt;span class=&quot;selector-tag&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), globalQueueBlocl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#define&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_GLOBAL_QUEUE_LOW&lt;/span&gt;(globalQueueBlocl) &lt;span class=&quot;selector-tag&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_LOW, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), globalQueueBlocl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#define&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_GLOBAL_QUEUE_BACKGROUND&lt;/span&gt;(globalQueueBlocl) &lt;span class=&quot;selector-tag&quot;&gt;dispatch_async&lt;/span&gt;(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), globalQueueBlocl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¸»çº¿ç¨‹ä¸Š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_MAIN_THREAD&lt;/span&gt;(^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ›´æ–°UI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Global Queue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;DISPATCH_ON_GLOBAL_QUEUE_DEFAULT&lt;/span&gt;(^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å¼‚æ­¥è€—æ—¶ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å†ä¹Ÿä¸ç”¨å†™ä¸€å¤§å †â€dispatch_async(dispatch_get_global_queueâ€äº†~çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆæ¸…çˆ½~&lt;/p&gt;
&lt;h3 id=&quot;èƒ½ä¸€è¡Œæå®šï¼Œå¹²å˜›è¿˜è¦å†™å¤šè¡Œ&quot;&gt;&lt;a href=&quot;#èƒ½ä¸€è¡Œæå®šï¼Œå¹²å˜›è¿˜è¦å†™å¤šè¡Œ&quot; class=&quot;headerlink&quot; title=&quot;èƒ½ä¸€è¡Œæå®šï¼Œå¹²å˜›è¿˜è¦å†™å¤šè¡Œ&quot;&gt;&lt;/a&gt;èƒ½ä¸€è¡Œæå®šï¼Œå¹²å˜›è¿˜è¦å†™å¤šè¡Œ&lt;/h3&gt;&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å†™çš„å‡½æ•°ã€æ–¹æ³•éƒ½ä¼šåœ¨èµ·å§‹çš„åœ°æ–¹åŠ ä¸€äº›å…¬å…±çš„åˆ¤æ–­ï¼Œæ¡ä»¶æ»¡è¶³äº†æ‰å¯ä»¥ç»§ç»­å¾€ä¸‹è¿è¡Œï¼Œå¦‚â€œç”¨æˆ·æ˜¯å¦ç™»å½•â€ã€â€œæŸä¸ªæ¨¡å—æ˜¯å¦åŠ è½½å®Œæˆâ€ç­‰ç­‰ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™å¦‚ä¸‹æ ·å­çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;decorator&quot;&gt;doSomething&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (![[XXXAccountService sharedService] isLogin]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//do staff...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;decorator&quot;&gt;doSomething2&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (![[XXXAccountService sharedService] isLogin]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//do staff...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¯æ¬¡éƒ½è¦è¿™ä¹ˆå†™ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆæµªè´¹æ—¶é—´ï¼Ÿè€Œä¸”é‡å¤çš„å¥½å¤š=ã€‚=&lt;br&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç”¨#defineï¼ŒæŠŠ3è¡Œå˜æˆä¸€è¡Œ:&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; CHECK_LOGIN_IN &lt;span class=&quot;meta-keyword&quot;&gt;if&lt;/span&gt; (![[XXXAccountService sharedService] isLogin]) &amp;#123;return;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)doSomething &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CHECK_LOGIN_IN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//do staff...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)doSomething2 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CHECK_LOGIN_IN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//do staff...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶å®#defineçš„åŸç†å°±æ˜¯ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œç›´æ¥åšæ›¿æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œå‘æŒ¥è‡ªå·±çš„æƒ³è±¡ï¼Œç®€åŒ–ä»£ç ~&lt;/p&gt;
&lt;h2 id=&quot;å®å®šä¹‰ä¸Log&quot;&gt;&lt;a href=&quot;#å®å®šä¹‰ä¸Log&quot; class=&quot;headerlink&quot; title=&quot;å®å®šä¹‰ä¸Log&quot;&gt;&lt;/a&gt;å®å®šä¹‰ä¸Log&lt;/h2&gt;&lt;p&gt;æ‰“Logï¼Œæ˜¯ä¸ªæ°¸æ’çš„è¯é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;NSLogå¢å¼ºç‰ˆ&quot;&gt;&lt;a href=&quot;#NSLogå¢å¼ºç‰ˆ&quot; class=&quot;headerlink&quot; title=&quot;NSLogå¢å¼ºç‰ˆ&quot;&gt;&lt;/a&gt;NSLogå¢å¼ºç‰ˆ&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬ä¼šç»å¸¸ç”¨åˆ°&lt;strong&gt;NSLog&lt;/strong&gt;æ‰“Logï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°èƒ½æä¾›çš„ä¿¡æ¯éå¸¸å°‘ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªå¢å¼ºç‰ˆ, æœ€å¥½å®šä¹‰åœ¨é¡¹ç›®çš„pchæ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight livescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define NSLog(format, ...) \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &amp;#123; &lt;span class=&quot;string&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;%@ : %d : %s&amp;gt;-: %@&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [[NSString stringWithUTF8String:__FILE__] lastPathComponent], &lt;span class=&quot;string&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        __LINE__, &lt;span class=&quot;string&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        __FUNCTION__, &lt;span class=&quot;string&quot;&gt;\&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [NSString stringWithFormat:format, &lt;span class=&quot;comment&quot;&gt;##__VA_ARGS__]); \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *argv[])&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@autoreleasepool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Blog: %@&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;http://tutuge.me&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¾“å‡ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;main.&lt;span class=&quot;string&quot;&gt;m :&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;22&lt;/span&gt; : main&amp;gt;-: &lt;span class=&quot;string&quot;&gt;Blog:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//tutuge.me&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œè¿™ä¸‹Logå°±å¸¦ä¸Šäº†æ–‡ä»¶åã€è¡Œå·ã€å‡½æ•°åï¼Œä¸€ä¸‹å­å°±æ¸…æ¥šå¤šäº†~&lt;br&gt;è‡³äºä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªå¥‡æ€ªçš„â€œdo{â€¦}while(0)â€ï¼Œå…¶å®å°±æ˜¯ä¸ºäº†é˜²æ­¢åœ¨ä¸åŒçš„ä½¿ç”¨åœºæ™¯ä¸­å¯¼è‡´è¯­æ³•é”™è¯¯ï¼Œè¯¦ç»†è¯·è§ï¼š&lt;a href=&quot;http://onevcat.com/2014/01/black-magic-in-macro/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºLogå¢åŠ å…¨å±€å¼€å…³&quot;&gt;&lt;a href=&quot;#ä¸ºLogå¢åŠ å…¨å±€å¼€å…³&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºLogå¢åŠ å…¨å±€å¼€å…³&quot;&gt;&lt;/a&gt;ä¸ºLogå¢åŠ å…¨å±€å¼€å…³&lt;/h3&gt;&lt;p&gt;å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šåœ¨è®¸å¤šåœ°æ–¹åŠ ä¸ŠLogï¼Œä½†æ˜¯åœ¨å‘å¸ƒçš„æ—¶å€™ï¼Œåˆä¸æƒ³æ˜¾ç¤ºè¿™äº›Logï¼Œè¿™ä¸ªæ—¶å€™éš¾é“è¦ä¸€ä¸ªä¸€ä¸ªçš„åˆ é™¤æ‰“Logçš„åœ°æ–¹ï¼Ÿ&lt;br&gt;æ‰€ä»¥ï¼Œä¸ºäº†å¢åŠ å¼€å…³ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šé¢çš„å¢å¼ºå‹NSLogæ”¹é€ ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ¤æ–­æ˜¯å¦è¦Log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;ifdef&lt;/span&gt; NEED_DEBUG&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NSLog(format, ...) \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//Logå®šä¹‰...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NSLog(format, ...) do&amp;#123; &amp;#125; while(0)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬éœ€è¦Logçš„æ—¶å€™ï¼Œåœ¨ä¸Šé¢å®šä¹‰çš„ä¹‹å‰åŠ ä¸Šä¸‹é¢è¿™ä¸€è¡Œï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NEED_DEBUG&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å°±å¯ä»¥æ‰“å¼€Logäº†ã€‚ä¸åŠ çš„è¯ï¼Œå°±ä¸ä¼šæœ‰Log~ç®€å•çš„æ¡ä»¶ç¼–è¯‘~&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºLogå¢åŠ ç­‰çº§&quot;&gt;&lt;a href=&quot;#ä¸ºLogå¢åŠ ç­‰çº§&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºLogå¢åŠ ç­‰çº§&quot;&gt;&lt;/a&gt;ä¸ºLogå¢åŠ ç­‰çº§&lt;/h3&gt;&lt;p&gt;å¼€å‘è¿‡Androidçš„åº”è¯¥éƒ½çŸ¥é“ï¼ŒAndroidé‡Œé¢å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨Log.iã€Log.dè¾“å‡ºä¸åŒâ€œç­‰çº§â€çš„Logï¼Œè°ƒè¯•æ›´åŠ æ–¹ä¾¿ï¼ŒNSLogå´ä¸è¡Œã€‚æ‰€ä»¥ï¼Œè¿˜æ˜¯è¦å€ŸåŠ©å®å®šä¹‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Debugç­‰çº§Log, åœ¨æ­¤ä¹‹å‰å®šä¹‰è‡ªå·±çš„NSLog&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;ifdef&lt;/span&gt; LOG_LEVEL_DEBUG&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; DLog(format, ...) NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;DEBUG&amp;gt;: %@&quot;&lt;/span&gt;, [NSString stringWithFormat:format, ##__VA_ARGS__])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; DLog(format, ...) do&amp;#123; &amp;#125; while(0)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Infoç­‰çº§Log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;ifdef&lt;/span&gt; LOG_LEVEL_INFO&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ILog(format, ...) NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;Info&amp;gt;: %@&quot;&lt;/span&gt;, [NSString stringWithFormat:format, ##__VA_ARGS__])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ILog(format, ...) do&amp;#123; &amp;#125; while(0)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Errorç­‰çº§Log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;ifdef&lt;/span&gt; LOG_LEVEL_ERROR&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ELog(format, ...) NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;Error&amp;gt;: %@&quot;&lt;/span&gt;, [NSString stringWithFormat:format, ##__VA_ARGS__])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ELog(format, ...) do&amp;#123; &amp;#125; while(0)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å½“æˆ‘ä»¬åœ¨æ‰“Logçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ ¹æ®éœ€è¦ï¼Œç”¨ä¸åŒç­‰çº§çš„Logï¼Œè€Œä¸”å¯ä»¥æ–¹ä¾¿çš„å®šåˆ¶éœ€è¦è¾“å‡ºå“ªå‡ ç§ï¼Œå¹¶ä¸”ä¹‹å‰çš„â€œå¢å¼ºç‰ˆâ€NSLogä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å®Œæ•´çš„è¯·çœ‹&lt;a href=&quot;https://gist.github.com/zekunyan/2f2356136b9b40348584&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gist&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;å…¶å®ƒ&quot;&gt;&lt;a href=&quot;#å…¶å®ƒ&quot; class=&quot;headerlink&quot; title=&quot;å…¶å®ƒ&quot;&gt;&lt;/a&gt;å…¶å®ƒ&lt;/h2&gt;&lt;p&gt;è¿˜æœ‰ä¸€äº›ç®€å•å¥½ç”¨çš„å®å®šä¹‰ï¼Œåœ¨è¿™å°±åªä¸¾å‡ ä¸ªå…¸å‹çš„ä¾‹å­äº†~&lt;/p&gt;
&lt;h3 id=&quot;æ‰“å°è‡ªå®šä¹‰ç±»å‹ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#æ‰“å°è‡ªå®šä¹‰ç±»å‹ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;æ‰“å°è‡ªå®šä¹‰ç±»å‹ä¿¡æ¯&quot;&gt;&lt;/a&gt;æ‰“å°è‡ªå®šä¹‰ç±»å‹ä¿¡æ¯&lt;/h3&gt;&lt;p&gt;å‡å¦‚æœ‰å¦‚ä¸‹ç»“æ„ä½“å®šä¹‰(è‡ªå®šä¹‰ç±»çš„è¯ï¼Œç›´æ¥é‡å†™descriptionæ–¹æ³•å³å¯):&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å¤æ•°ç»“æ„ä½“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; Complex &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; r; &lt;span class=&quot;comment&quot;&gt;//å®éƒ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; i; &lt;span class=&quot;comment&quot;&gt;//è™šéƒ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; Complex;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®šä¹‰æ‰“å°Complexç±»å‹çš„å®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¾“å‡ºï¼š(1+2i), (1-2i)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NSLogComplex(complex) NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Complex: (%g%s%gi)&quot;&lt;/span&gt;, complex.r, (complex.i &amp;gt; 0 ? &lt;span class=&quot;string&quot;&gt;&quot;+&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;), complex.i)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å¸¸ç”¨å‡½æ•°ç®€åŒ–ã€å•ä¾‹è·å–&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨å‡½æ•°ç®€åŒ–ã€å•ä¾‹è·å–&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨å‡½æ•°ç®€åŒ–ã€å•ä¾‹è·å–&quot;&gt;&lt;/a&gt;å¸¸ç”¨å‡½æ•°ç®€åŒ–ã€å•ä¾‹è·å–&lt;/h3&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è·å–Viewçš„å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetViewWidth(view)  view&lt;span class=&quot;selector-class&quot;&gt;.frame&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.size&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.width&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetViewHeight(view) view&lt;span class=&quot;selector-class&quot;&gt;.frame&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.size&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.height&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetViewX(view)      view&lt;span class=&quot;selector-class&quot;&gt;.frame&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.origin&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.x&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetViewY(view)      view&lt;span class=&quot;selector-class&quot;&gt;.frame&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.origin&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.y&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å±å¹•å¸¸é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetScreenWidth      [[UIScreen mainScreen] bounds]&lt;span class=&quot;selector-class&quot;&gt;.size&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.width&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetScreenHeight     [[UIScreen mainScreen] bounds]&lt;span class=&quot;selector-class&quot;&gt;.size&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.height&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è·å–å›¾ç‰‡èµ„æº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;#def&lt;/span&gt;ine GetImage(imageName) [UIImage imageNamed:[NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;%@&quot;&lt;/span&gt;,imageName]]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç­‰ç­‰~åªè¦ä½ æƒ³å¾—åˆ°~&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å®å®šä¹‰çš„å„ç§Tipè¿˜è¿œè¿œä¸æ­¢è¿™äº›ï¼Œåˆç†ä½¿ç”¨å®ƒï¼Œå¯ä»¥æœ‰æ•ˆæ”¹å–„ä»£ç çš„é˜…è¯»è´¨é‡~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://gcc.gnu.org/onlinedocs/cpp/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;The C Preprocessor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onevcat.com/2014/01/black-magic-in-macro/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å®å®šä¹‰ã€#defineå•¥çš„ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ã€‚&lt;br&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„å¯èƒ½å°±æ˜¯å®šä¹‰ä¸€äº›å¸¸é‡ã€ç®€å•çš„â€œå‡½æ•°â€ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//å®šä¹‰å¸¸é‡&lt;span class=&quot;literal&quot;&gt;PI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define PI 3.1415926&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//å®šä¹‰â€œå‡½æ•°â€MIN&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define MIN(A,B) ((A) &amp;lt; (B) ? (A) : (B))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œè¿™æ ·å®šä¹‰å¸¸é‡ã€å‡½æ•°ï¼Œæœ‰ä¸€å®šçš„é£é™©ã€‚ï¼ˆè§ï¼š&lt;a href=&quot;http://tutuge.me/2015/03/11/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡/&quot;&gt;Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡&lt;/a&gt;, &lt;a href=&quot;http://onevcat.com/2014/01/black-magic-in-macro/&quot;&gt;å®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œ&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°±åˆ—å‡ºå‡ æ¡æˆ‘ä¸ªäººåœ¨iOSå¼€å‘å½“ä¸­å¸¸ç”¨çš„ç»éªŒä¸æŠ€å·§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="æŠ€å·§" scheme="http://tutuge.me/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡</title>
    <link href="http://tutuge.me/2015/03/11/Effective-Objective-C-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-Item-4-%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F/"/>
    <id>http://tutuge.me/2015/03/11/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-4-å¦‚ä½•æ­£ç¡®å®šä¹‰å¸¸é‡/</id>
    <published>2015-03-10T16:07:23.000Z</published>
    <updated>2016-08-07T06:09:31.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å†™åšå®¢æœç„¶æ¯”å…‰çœ‹ä¹¦è¦èŠ±æ—¶é—´=ã€‚=ï¼Œä¹¦éƒ½å¿«çœ‹å®Œäº†ï¼Œæ‰å†™åˆ°ç¬¬4èŠ‚ã€‚ä½†æ˜¯æ€»ç»“ä¸€éï¼Œçš„ç¡®å°è±¡æ·±åˆ»å•Š~~&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çš„ä¸»é¢˜æ˜¯â€œ&lt;strong&gt;å¸¸é‡&lt;/strong&gt;â€ï¼Œéå¸¸å¸¸ç”¨ï¼Œåˆéå¸¸é‡è¦çš„ä¸œè¥¿~è‰¯å¥½çš„ä»£ç è§„èŒƒã€è®¾è®¡ï¼Œå°‘ä¸äº†å„ç§&lt;strong&gt;å¸¸é‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-4-Prefer-Typed-Constants-to-Preprocessor-define&quot;&gt;&lt;a href=&quot;#Item-4-Prefer-Typed-Constants-to-Preprocessor-define&quot; class=&quot;headerlink&quot; title=&quot;Item 4 - Prefer Typed Constants to Preprocessor #define&quot;&gt;&lt;/a&gt;Item 4 - Prefer Typed Constants to Preprocessor #define&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚ç€é‡å¯¹æ¯”äº†å¸¸é‡çš„å®šä¹‰å½¢å¼ï¼Œç±»å‹å¸¸é‡å’Œ#defineçš„åŒºåˆ«ã€å„è‡ªçš„ç‰¹ç‚¹ã€‚æœ€åå¾—å‡ºï¼Œæˆ‘ä»¬åº”è¯¥ç”¨å¸¦æœ‰ç±»å‹çš„å¸¸é‡ï¼Œè€Œä¸æ˜¯#defineã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;åº”ç”¨ä¸­ï¼Œå°‘ä¸äº†å„ç§åŠ¨ç”»ï¼Œä¹Ÿå°±å°‘ä¸äº†è®¾å®šåŠ¨ç”»çš„æ—¶é—´é•¿åº¦ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šè®¾å®šçŸ­ã€ä¸­ã€é•¿å‡ ç§æ—¶é—´å¸¸é‡ï¼Œç”¨äºä¸åŒçš„åœºåˆï¼Œäº†è§£Cè¯­è¨€çš„ç«¥é‹ä¼°è®¡å¯¹â€œ&lt;strong&gt;#define&lt;/strong&gt;â€å®å®šä¹‰ä¸é™Œç”Ÿï¼Œäºæ˜¯ï¼Œå¯èƒ½å°±ä¼šå¦‚ä¸‹è¿™ä¹ˆå®šä¹‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ANIMATION_DURATION_SHORT 0.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ANIMATION_DURATION_MIDDLE 0.6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; ANIMATION_DURATION_LONG 1.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;äºæ˜¯ï¼Œæ‰€æœ‰ç”¨åˆ°åŠ¨ç”»æ—¶é•¿çš„åœ°æ–¹ï¼Œç›´æ¥ç”¨è¿™å‡ ä¸ªå®å®šä¹‰å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¹ä¸€çœ‹ï¼Œä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç±»å‹-ä¸å¯å˜&quot;&gt;&lt;a href=&quot;#ç±»å‹-ä¸å¯å˜&quot; class=&quot;headerlink&quot; title=&quot;ç±»å‹+ä¸å¯å˜&quot;&gt;&lt;/a&gt;ç±»å‹+ä¸å¯å˜&lt;/h3&gt;&lt;p&gt;å…ˆæ¥çœ‹çœ‹å®å®šä¹‰å¹²äº†ä»€ä¹ˆã€‚&lt;br&gt;æ€»çš„æ¥è¯´ï¼Œ#defineå°±æ˜¯â€œæ›¿æ¢â€ï¼Œåœ¨ç¼–è¯‘æ—¶ï¼Œå°†ä¸€åˆ‡å®å®šä¹‰æ›¿æ¢æˆå®šä¹‰åé¢çš„å†…å®¹ã€‚ï¼ˆå‚è€ƒ&lt;a href=&quot;http://baike.baidu.com/view/2076445.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç™¾åº¦ç™¾ç§‘&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;å…³é”®åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®å®šä¹‰ä¸ä¼šæ£€æŸ¥æ›¿æ¢çš„â€œ&lt;strong&gt;ç±»å‹&lt;/strong&gt;â€ï¼Œåªè¦é‡åˆ°ï¼Œå°±åšæ›¿æ¢ã€‚&lt;/li&gt;
&lt;li&gt;å®å®šä¹‰ä¸ä¿è¯â€œ&lt;strong&gt;ä¸å¯å˜&lt;/strong&gt;â€ï¼Œå› ä¸ºå¯ä»¥&lt;strong&gt;é‡å¤å®šä¹‰&lt;/strong&gt;ï¼Œä¸èƒ½ä¿è¯å€¼ä¸å˜ã€‚(è¿™ä¸ªæˆ‘è§‰å¾—æ˜¯æœ€å®¹æ˜“è®©äººå¿½ç•¥çš„åœ°æ–¹)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç”¨å®å®šä¹‰å®šä¹‰å¸¸é‡ï¼Œå¾ˆâ€œå±é™©â€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ­£ç¡®çš„åšæ³•&quot;&gt;&lt;a href=&quot;#æ­£ç¡®çš„åšæ³•&quot; class=&quot;headerlink&quot; title=&quot;æ­£ç¡®çš„åšæ³•&quot;&gt;&lt;/a&gt;æ­£ç¡®çš„åšæ³•&lt;/h2&gt;&lt;p&gt;æ°å½“çš„å¸¸é‡ï¼Œåº”è¯¥å…·å¤‡åˆé€‚çš„å¸¸é‡åå­—ã€æ­£ç¡®çš„ç±»å‹ï¼Œè¿˜æœ‰constã€externç­‰å…³é”®å­—çš„ä¿®é¥°ï¼Œå½“ç„¶ï¼Œè¿˜è¦æ ¹æ®å¸¸é‡é€‚ç”¨çš„â€œ&lt;strong&gt;èŒƒå›´&lt;/strong&gt;â€ï¼Œåšå‡ºæ°å½“çš„å¤„ç†ã€‚ä¸€ä¸‹ä¸¾ä¾‹è¯´æ˜ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åªåœ¨å‡½æ•°ä¸­ç”¨çš„å¸¸é‡&quot;&gt;&lt;a href=&quot;#åªåœ¨å‡½æ•°ä¸­ç”¨çš„å¸¸é‡&quot; class=&quot;headerlink&quot; title=&quot;åªåœ¨å‡½æ•°ä¸­ç”¨çš„å¸¸é‡&quot;&gt;&lt;/a&gt;åªåœ¨å‡½æ•°ä¸­ç”¨çš„å¸¸é‡&lt;/h3&gt;&lt;p&gt;åªåœ¨å‡½æ•°ä¸­ç”¨çš„å¸¸é‡ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)runAnimation &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åŠ¨ç”»æ—¶é—´é•¿åº¦å¸¸é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NSTimeInterval&lt;/span&gt; kAnimationDurationLong = &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;staticã€constå®šä¹‰äº†å®ƒæ˜¯é™æ€ä¸å¯å˜çš„ï¼›&lt;strong&gt;NSTimeInterval&lt;/strong&gt;åˆ™â€œç²¾ç¡®â€æŒ‡å®šäº†å¸¸é‡çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åªåœ¨ä¸€ä¸ªâ€œ-mâ€æ–‡ä»¶ä¸­ä½¿ç”¨çš„å¸¸é‡&quot;&gt;&lt;a href=&quot;#åªåœ¨ä¸€ä¸ªâ€œ-mâ€æ–‡ä»¶ä¸­ä½¿ç”¨çš„å¸¸é‡&quot; class=&quot;headerlink&quot; title=&quot;åªåœ¨ä¸€ä¸ªâ€œ.mâ€æ–‡ä»¶ä¸­ä½¿ç”¨çš„å¸¸é‡&quot;&gt;&lt;/a&gt;åªåœ¨ä¸€ä¸ªâ€œ&lt;strong&gt;.m&lt;/strong&gt;â€æ–‡ä»¶ä¸­ä½¿ç”¨çš„å¸¸é‡&lt;/h3&gt;&lt;p&gt;åœ¨ç±»çš„å®ç°æ–‡ä»¶â€œxxx.mâ€æ–‡ä»¶ä¸­å®šä¹‰å¸¸é‡ï¼Œä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œæ—¢ç„¶æ˜¯ä¸€ä¸ªç±»ä½¿ç”¨çš„ï¼Œé‚£å°±æ”¾åœ¨ç±»çš„å¤´æ–‡ä»¶é‡Œé¢å®šä¹‰ä¸å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½†æ˜¯è¿™ä¹ˆæƒ³æ˜¯é”™çš„=ã€‚=&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å› ä¸ºæ‰€æœ‰è¦ç”¨åˆ°è¿™ä¸ªç±»çš„æ–‡ä»¶ï¼Œéƒ½ä¼šæ— å½¢å½“ä¸­åŒ…å«äº†è¿™äº›å¸¸é‡å£°æ˜ï¼Œå°†ä¸å¿…è¦çš„æ•°æ®æš´éœ²åœ¨å¤–é¢ï¼Œè¿™æ ·æ˜¯è¿åè®¾è®¡åŸåˆ™çš„ï¼Œå¹¶ä¸”ï¼Œå¦‚æœå¸¸é‡åå­—å–å¾—ä¸æ°å½“ï¼Œè¿˜æœ‰å¯èƒ½é€ æˆå†²çªã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåº”è¯¥å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//XXX.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å¿…é¡»è¦static&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NSTimeInterval&lt;/span&gt; kAnimationDurationLong = &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;XXX&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å®šè¦æ”¾åœ¨.mæ–‡ä»¶ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¿…é¡»æ˜¯&lt;strong&gt;static&lt;/strong&gt;ï¼Œè¡¨ç¤ºæ­¤å¸¸é‡ä½œç”¨åŸŸåªåœ¨æ­¤.mæ–‡ä»¶ä¸­ã€‚å¦‚æœä¸åŠ staticçš„è¯ï¼Œå¸¸é‡å°±ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´è·Ÿå…¶ä»–çš„å¸¸é‡å†²çªã€‚&lt;/li&gt;
&lt;li&gt;constï¼Œå½“ç„¶ã€‚&lt;/li&gt;
&lt;li&gt;NSTimeIntervalï¼Œç¡®å®šçš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;kAnimationDurationLongï¼Œâ€œ&lt;strong&gt;k&lt;/strong&gt;â€å¼€å¤´çš„å‘½åï¼Œä¹Ÿç®—æ˜¯Appleçš„è§„èŒƒäº†å§ï¼Œå†…éƒ¨å¸¸é‡ç»Ÿä¸€ä»¥â€œ&lt;strong&gt;k&lt;/strong&gt;â€å¼€å¤´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å…¨å±€å¸¸é‡&quot;&gt;&lt;a href=&quot;#å…¨å±€å¸¸é‡&quot; class=&quot;headerlink&quot; title=&quot;å…¨å±€å¸¸é‡&quot;&gt;&lt;/a&gt;å…¨å±€å¸¸é‡&lt;/h3&gt;&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¸¸è§çš„å…¨å±€å¸¸é‡å°±æ˜¯å‘å¹¿æ’­Notificationæ—¶ç”¨çš„Notificationçš„åå­—ï¼Œå¾€å¾€éƒ½æ˜¯ä¸€äº›å­—ç¬¦ä¸²ï¼Œä¸‹é¢å°±ä»¥è¿™ä¸ªä¸ºä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬çš„ç±»å«â€œ&lt;strong&gt;TTGClass&lt;/strong&gt;â€ï¼Œæˆ‘ä»¬çš„ç±»ä¼šå‘å¤–å‘é€Notificationï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰ä¸€ä¸ªNotificationçš„åå­—å¸¸é‡ä¾›å¤–ç•Œæ³¨å†Œï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//TTGClass.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; TTGClassWorkBeginNotification;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//TTGClass.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; TTGClassWorkBeginNotification = &lt;span class=&quot;string&quot;&gt;@&quot;TTGClassWorkBeginNotification&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…³é”®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤´æ–‡ä»¶ä¸­åªæ˜¯åšå£°æ˜ï¼Œä¸åšå®šä¹‰ã€‚æ‰€ä»¥ç”¨externè¡¨ç¤ºå¸¸é‡åœ¨åˆ«å¤„å®šä¹‰çš„ï¼Œå°½é‡éšè—ç»†èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;åŒ&lt;strong&gt;ç±»å&lt;/strong&gt;åšå¸¸é‡åå­—çš„å¼€å¤´ï¼Œ&lt;strong&gt;è¿™ä¸ªéå¸¸å…³é”®ï¼Œå› ä¸ºObjective-Cé‡Œé¢æ²¡æœ‰åƒJavaé‚£æ ·çš„â€œåŒ…â€æœºåˆ¶ï¼Œæ‰€ä»¥å¿…é¡»é å‘½åæ¥åˆ’åˆ†ä¸åŒçš„ç±»ï¼Œå¸¸é‡å½“ç„¶ä¹Ÿè¦éµå¾ªè¿™ä¸ªè§„åˆ™ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NSStringï¼Œç¡®å®šçš„ç±»å‹ï¼›constï¼Œè¡¨æ˜å¸¸é‡ï¼›Notificationåç¼€ï¼Œè¡¨æ˜ç”¨é€”ã€‚è¿™äº›éƒ½æ˜¯éœ€è¦æ³¨æ„çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;è‰¯å¥½çš„ä»£ç ï¼Œæ€»æ˜¯å°‘ä¸äº†å®šä¹‰å„ç§å¸¸é‡ï¼Œä»¥é¿å…â€œé­”é¬¼æ•°å­—ã€é­”é¬¼å­—ç¬¦ä¸²â€ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…å°‘ç”¨#defineå®šä¹‰å¸¸é‡ï¼Œè€Œæ˜¯ç”¨å¸¦æœ‰ç±»å‹çš„ã€constçš„å¸¸é‡ï¼Œå¹¶ä¸”å°½å¯èƒ½çš„ç¼©å°å¸¸é‡çš„ä½œç”¨åŸŸã€‚&lt;/p&gt;
&lt;p&gt;æš´éœ²çš„ç»†èŠ‚è¶Šå°‘ï¼Œå‡ºé”™çš„æœºä¼šä¹Ÿå°±è¶Šå°ï¼ˆå¿˜äº†ä»å“ªé‡Œçœ‹åˆ°çš„=ã€‚=ï¼‰&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å†™åšå®¢æœç„¶æ¯”å…‰çœ‹ä¹¦è¦èŠ±æ—¶é—´=ã€‚=ï¼Œä¹¦éƒ½å¿«çœ‹å®Œäº†ï¼Œæ‰å†™åˆ°ç¬¬4èŠ‚ã€‚ä½†æ˜¯æ€»ç»“ä¸€éï¼Œçš„ç¡®å°è±¡æ·±åˆ»å•Š~~&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡çš„ä¸»é¢˜æ˜¯â€œ&lt;strong&gt;å¸¸é‡&lt;/strong&gt;â€ï¼Œéå¸¸å¸¸ç”¨ï¼Œåˆéå¸¸é‡è¦çš„ä¸œè¥¿~è‰¯å¥½çš„ä»£ç è§„èŒƒã€è®¾è®¡ï¼Œå°‘ä¸äº†å„ç§&lt;strong&gt;å¸¸é‡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-4-Prefer-Typed-Constants-to-Preprocessor-define&quot;&gt;&lt;a href=&quot;#Item-4-Prefer-Typed-Constants-to-Preprocessor-define&quot; class=&quot;headerlink&quot; title=&quot;Item 4 - Prefer Typed Constants to Preprocessor #define&quot;&gt;&lt;/a&gt;Item 4 - Prefer Typed Constants to Preprocessor #define&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚ç€é‡å¯¹æ¯”äº†å¸¸é‡çš„å®šä¹‰å½¢å¼ï¼Œç±»å‹å¸¸é‡å’Œ#defineçš„åŒºåˆ«ã€å„è‡ªçš„ç‰¹ç‚¹ã€‚æœ€åå¾—å‡ºï¼Œæˆ‘ä»¬åº”è¯¥ç”¨å¸¦æœ‰ç±»å‹çš„å¸¸é‡ï¼Œè€Œä¸æ˜¯#defineã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="ç¿»è¯‘" scheme="http://tutuge.me/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="ç¬”è®°" scheme="http://tutuge.me/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–</title>
    <link href="http://tutuge.me/2015/03/07/UITextView%E7%BC%96%E8%BE%91%E6%97%B6%E6%8F%92%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E6%83%85-%E7%AE%80%E5%8D%95%E7%9A%84%E5%9B%BE%E6%96%87%E6%B7%B7%E7%BC%96/"/>
    <id>http://tutuge.me/2015/03/07/UITextViewç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…-ç®€å•çš„å›¾æ–‡æ··ç¼–/</id>
    <published>2015-03-07T03:04:38.000Z</published>
    <updated>2016-08-07T06:19:54.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦ç”¨UITextViewä½œä¸ºç¼–è¾‘æ–‡æœ¬çš„è¾“å…¥æ§ä»¶ã€‚&lt;br&gt;ä½†æ˜¯å¦‚ä½•åœ¨ç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…å‘¢ï¼Ÿå°±æ˜¯åƒå‘å¾®åšæ—¶é‚£æ ·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç®€å•çš„ç”¨&lt;strong&gt;NSTextAttachment&lt;/strong&gt;ã€&lt;strong&gt;NSAttributedString&lt;/strong&gt;çš„ç‰¹æ€§ï¼Œå®ç°äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨UITextViewä¸­ç¼–è¾‘æ–‡å­—æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;åŒæ—¶å¯ä»¥è¿”å›å¸¦æœ‰è¡¨æƒ…â€œ&lt;strong&gt;æ›¿æ¢ç¬¦&lt;/strong&gt;â€çš„çº¯æ–‡æœ¬å­—ç¬¦ä¸²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä»£ç å·¥ç¨‹åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/UITextViewDIYEmojiExample&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/UITextViewDIYEmojiExample&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/inputEmoji_Sample.gif&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯çŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;/a&gt;èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;NSAttributedStringåŠå…¶å­ç±»ï¼Œç”¨äºæ˜¾ç¤ºå¯Œæ–‡æœ¬ã€‚&lt;/li&gt;
&lt;li&gt;NSTextAttachmentï¼ŒNSAttributedStringçš„ä¸€ç§æ ·å¼ç±»ï¼Œå¯ä»¥åœ¨æ–‡æœ¬ä¸­æ˜¾ç¤ºå›¾ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;NSTextStorageï¼ŒUITextViewä¸­çš„å®é™…çš„æ–‡æœ¬å°è£…ã€‚ï¼ˆè§å‚è€ƒä¸­çš„UITextViewæ–‡æ¡£ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;è¡¨æƒ…ä¸å…¶æ ‡å¿—&quot;&gt;&lt;a href=&quot;#è¡¨æƒ…ä¸å…¶æ ‡å¿—&quot; class=&quot;headerlink&quot; title=&quot;è¡¨æƒ…ä¸å…¶æ ‡å¿—&quot;&gt;&lt;/a&gt;è¡¨æƒ…ä¸å…¶æ ‡å¿—&lt;/h3&gt;&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œæˆ‘ä»¬çš„è‡ªå®šä¹‰è¡¨æƒ…ä¸€å®šæ˜¯æœ‰ä¸€ä¸€å¯¹åº”çš„â€œ&lt;strong&gt;æ ‡å¿—&lt;/strong&gt;â€çš„ï¼Œå¦‚â€œ&lt;strong&gt;[/emoji_haha]&lt;/strong&gt;â€ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¯´ï¼Œä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œæ–¹ä¾¿åœ¨æ•°æ®åº“ã€ç½‘ç»œä¼ è¾“ä¸­ä¿å­˜ã€ä¼ è¾“å¸¦æœ‰è¡¨æƒ…å›¾ç‰‡çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬å¿…é¡»è¦ä¸ºæ¯ç§è¡¨æƒ…å–ç‰¹å®šçš„â€œ&lt;strong&gt;åå­—&lt;/strong&gt;â€ï¼Œæ•°æ®åº“ä¸­å‚¨å­˜çš„ã€ç½‘ç»œä¼ è¾“çš„æ–‡æœ¬å°±åªåŒ…å«è¿™äº›æ ‡å¿—åå­—å°±è¡Œï¼Œåœ¨æ˜¾ç¤ºçš„æ—¶å€™åšå¯¹åº”çš„æ›¿æ¢ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tutuge.me&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_uitextview_input_emoji_emoji_1.png&quot; alt=&quot;è¡¨æƒ…&quot;&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹åº”çš„çº¯æ–‡æœ¬å°±æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tutuge.me[/emoji_1]&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ’å…¥å¹¶æ˜¾ç¤ºè¡¨æƒ…å›¾ç‰‡&quot;&gt;&lt;a href=&quot;#æ’å…¥å¹¶æ˜¾ç¤ºè¡¨æƒ…å›¾ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;æ’å…¥å¹¶æ˜¾ç¤ºè¡¨æƒ…å›¾ç‰‡&quot;&gt;&lt;/a&gt;æ’å…¥å¹¶æ˜¾ç¤ºè¡¨æƒ…å›¾ç‰‡&lt;/h2&gt;&lt;p&gt;æ’å…¥è¡¨æƒ…å¾ˆç®€å•ï¼Œç›´æ¥å®ä¾‹åŒ–&lt;strong&gt;NSTextAttachment&lt;/strong&gt;ç±»ï¼Œå°†éœ€è¦çš„è¡¨æƒ…çš„UIImageå®ä¾‹èµ‹å€¼ç»™NSTextAttachmentçš„imageå±æ€§ï¼Œç„¶åç”¨â€œ&lt;strong&gt;[NSAttributedString attributedStringWithAttachment:]&lt;/strong&gt;â€æ–¹æ³•å®ä¾‹åŒ–ä¸€ä¸ªNSAttributedStringçš„å¯¹è±¡ï¼Œæ’å…¥åˆ°UITextViewçš„textStorageå¯¹åº”çš„ä½ç½®å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSTextAttachment *emojiTextAttachment = [NSTextAttachment &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®è¡¨æƒ…å›¾ç‰‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;emojiTextAttachment.image = emojiImage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ’å…¥è¡¨æƒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[textView.textStorage &lt;span class=&quot;attribute&quot;&gt;insertAttributedString&lt;/span&gt;:[NSAttributedString &lt;span class=&quot;attribute&quot;&gt;attributedStringWithAttachment&lt;/span&gt;:&lt;span class=&quot;attribute&quot;&gt;emojiTextAttachment]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                     atIndex&lt;/span&gt;:&lt;span class=&quot;attribute&quot;&gt;textView.selectedRange.location];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼Œå°±èƒ½åœ¨UITextViewå½“å‰å…‰æ ‡ä½ç½®æ’å…¥è¡¨æƒ…å›¾ç‰‡äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è·å–å¸¦æœ‰è¡¨æƒ…æ ‡å¿—çš„æ–‡æœ¬å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#è·å–å¸¦æœ‰è¡¨æƒ…æ ‡å¿—çš„æ–‡æœ¬å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;è·å–å¸¦æœ‰è¡¨æƒ…æ ‡å¿—çš„æ–‡æœ¬å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;è·å–å¸¦æœ‰è¡¨æƒ…æ ‡å¿—çš„æ–‡æœ¬å­—ç¬¦ä¸²&lt;/h2&gt;&lt;h3 id=&quot;éš¾ç‚¹&quot;&gt;&lt;a href=&quot;#éš¾ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;éš¾ç‚¹&quot;&gt;&lt;/a&gt;éš¾ç‚¹&lt;/h3&gt;&lt;p&gt;NSTextAttachmentè¢«æ’å…¥åˆ°NSAttributedStringä¸­çš„æ—¶å€™ï¼Œ&lt;strong&gt;å°±è¢«å½“æˆäº†ä¸€ä¸ªå­—ç¬¦å¤„ç†ï¼ï¼ï¼&lt;/strong&gt;ã€‚&lt;br&gt;å°±æ˜¯è¯´ï¼Œåªä»UITextViewçš„textä¸­ï¼Œæ˜¯æ‰¾ä¸å›æ–‡æœ¬é‡Œé¢ä¸åŒçš„è¡¨æƒ…æ‰€å¯¹åº”çš„æ ‡å¿—çš„ï¼&lt;/p&gt;
&lt;h3 id=&quot;è§£å†³ç‚¹&quot;&gt;&lt;a href=&quot;#è§£å†³ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³ç‚¹&quot;&gt;&lt;/a&gt;è§£å†³ç‚¹&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬è¦èƒ½éå†å‡ºå½“å‰æ–‡æœ¬ä¸­æ‰€æœ‰çš„è¡¨æƒ…ï¼Œä¹Ÿå°±æ˜¯NSTextAttachmentç±»ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬è¦èƒ½çŸ¥é“éå†å‡ºçš„è¡¨æƒ…ï¼Œå¯¹åº”çš„æ ‡å¿—æ˜¯ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;éå†æ‰€æœ‰çš„NSTextAttachmentç±»å±æ€§&quot;&gt;&lt;a href=&quot;#éå†æ‰€æœ‰çš„NSTextAttachmentç±»å±æ€§&quot; class=&quot;headerlink&quot; title=&quot;éå†æ‰€æœ‰çš„NSTextAttachmentç±»å±æ€§&quot;&gt;&lt;/a&gt;éå†æ‰€æœ‰çš„NSTextAttachmentç±»å±æ€§&lt;/h3&gt;&lt;p&gt;éå†ï¼Œå—¯ï¼Œå…ˆçœ‹çœ‹Appleæœ‰æ²¡æœ‰æä¾›ç›¸åº”çš„æ–¹æ³•ï¼Œèƒ½éå†NSAttributedStringï¼ˆåŠå…¶å­ç±»ï¼‰çš„å±æ€§çš„ã€‚æŸ¥é˜…æ–‡æ¡£ï¼š&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/index.html#//apple_ref/occ/instm/NSAttributedString&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSAttributedString Class Reference&lt;/a&gt;ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼šâ€œ&lt;strong&gt;- enumerateAttribute:inRange:options:usingBlock:&lt;/strong&gt;â€ï¼Œå…¶åŸå‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)enumerateAttribute:(&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)attrName&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   inRange:(&lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt;)enumerationRange&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   options:(&lt;span class=&quot;built_in&quot;&gt;NSAttributedStringEnumerationOptions&lt;/span&gt;)opts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                usingBlock:(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (^)(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; value, &lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt; range, &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; *stop))block&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨å¤„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Executes &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; Block &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; specified attribute run &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; specified range.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œå°±æ˜¯è¿™ä¸ªæ–¹æ³•~å°±èƒ½éå†å‡ºNSTextAttachmentå¯¹è±¡äº†~&lt;/p&gt;
&lt;h3 id=&quot;åˆ›å»ºNSTextAttachmentçš„å­ç±»&quot;&gt;&lt;a href=&quot;#åˆ›å»ºNSTextAttachmentçš„å­ç±»&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºNSTextAttachmentçš„å­ç±»&quot;&gt;&lt;/a&gt;åˆ›å»ºNSTextAttachmentçš„å­ç±»&lt;/h3&gt;&lt;p&gt;å¦‚ä½•ç»‘å®šNSTextAttachmentæ‰€è¡¨ç¤ºçš„è¡¨æƒ…å’Œä¸å…¶å¯¹åº”çš„æ ‡å¿—ï¼Ÿåˆ›å»ºå­ç±»å˜›~ç›´æ¥åœ¨å­ç±»ä¸­å¢åŠ å±æ€§ï¼Œä¿å­˜æ ‡å¿—ä¸å°±è¡Œäº†ã€‚&lt;br&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;EmojiTextAttachment &lt;/span&gt;: NSTextAttachment&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSString *emojiTag;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ’å…¥è¡¨æƒ…çš„ä»£ç åº”è¯¥å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;EmojiTextAttachment *emojiTextAttachment = [EmojiTextAttachment new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¿å­˜è¡¨æƒ…æ ‡å¿—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;emojiTextAttachment.emojiTag = emojiTag&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¾ç½®è¡¨æƒ…å›¾ç‰‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;emojiTextAttachment.image = emojiImage&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ’å…¥è¡¨æƒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[textView.textStorage insertAttributedString:[NSAttributedString attributedStringWithAttachment:emojiTextAttachment]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                      atIndex:textView.selectedRange.location]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;åˆ›å»ºNSAttributedStringçš„Category&quot;&gt;&lt;a href=&quot;#åˆ›å»ºNSAttributedStringçš„Category&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºNSAttributedStringçš„Category&quot;&gt;&lt;/a&gt;åˆ›å»ºNSAttributedStringçš„Category&lt;/h3&gt;&lt;p&gt;æœ€åï¼Œå°±æ˜¯å°†è¿™ä¸ªéå†è¡¨æƒ…ã€æ‹¼æ¥æœ€ç»ˆæ–‡æœ¬å­—ç¬¦ä¸²çš„æ–¹æ³•è®¾ç½®æˆNSAttributedStringçš„è‡ªå®šä¹‰Categoryæ–¹æ³•ï¼Œä»¥æ–¹ä¾¿ç›´æ¥è°ƒç”¨ã€‚&lt;br&gt;å½“ç„¶ï¼Œè¿™é‡Œé¢æœ‰äº›ç»†èŠ‚çš„å¤„ç†ï¼Œå¦‚æ›¿æ¢è¡¨æƒ…æ ‡å¿—æ—¶çš„å­—ç¬¦ä¸²åç§»é‡è®¡ç®—ç­‰ï¼Œçœ‹ä»£ç å§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//NSAttributedString+EmojiExtension.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;NSAttributedString&lt;/span&gt; (&lt;span class=&quot;title&quot;&gt;EmojiExtension&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)getPlainString;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//NSAttributedString+EmojiExtension.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@implementation&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;NSAttributedString&lt;/span&gt; (&lt;span class=&quot;title&quot;&gt;EmojiExtension&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *)getPlainString &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æœ€ç»ˆçº¯æ–‡æœ¬&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;NSMutableString&lt;/span&gt; *plainString = [&lt;span class=&quot;built_in&quot;&gt;NSMutableString&lt;/span&gt; stringWithString:&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.string];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ›¿æ¢ä¸‹æ ‡çš„åç§»é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    __block &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; base = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//éå†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt; enumerateAttribute:&lt;span class=&quot;built_in&quot;&gt;NSAttachmentAttributeName&lt;/span&gt; inRange:&lt;span class=&quot;built_in&quot;&gt;NSMakeRange&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.length)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    options:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                 usingBlock:^(&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt; value, &lt;span class=&quot;built_in&quot;&gt;NSRange&lt;/span&gt; range, &lt;span class=&quot;built_in&quot;&gt;BOOL&lt;/span&gt; *stop) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;//æ£€æŸ¥ç±»å‹æ˜¯å¦æ˜¯è‡ªå®šä¹‰NSTextAttachmentç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (value &amp;amp;&amp;amp; [value isKindOfClass:[EmojiTextAttachment class]]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;comment&quot;&gt;//æ›¿æ¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        [plainString replaceCharactersInRange:&lt;span class=&quot;built_in&quot;&gt;NSMakeRange&lt;/span&gt;(range.location + base, range.length)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                    withString:((EmojiTextAttachment *) value).emojiTag];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                       &lt;span class=&quot;comment&quot;&gt;//å¢åŠ åç§»é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        base += ((EmojiTextAttachment *) value).emojiTag.length - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; plainString;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨&quot;&gt;&lt;/a&gt;ä½¿ç”¨&lt;/h3&gt;&lt;p&gt;ç›´æ¥è°ƒç”¨getPlainStringæ–¹æ³•å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å…¶å®æœ¬æ–‡ä¹Ÿæ˜¯æ¥æºäºæœ€è¿‘çš„é¡¹ç›®éœ€æ±‚ï¼Œåœ¨ç½‘ä¸Šä¸€ç›´æ‰¾ä¸åˆ°æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå°±è‡ªå·±æ‘¸ç´¢å‡ºæ¥ä¸€ä¸ªã€‚è‡³äºå¤æ‚çš„å›¾æ–‡æ··åˆç¼–è¾‘ï¼Œå½“ç„¶è¿˜æ˜¯Core Textæ¥çš„å¼ºå¤§ï¼ˆè‡ªå·±ä¹Ÿåœ¨å­¦ä¹ ä¸­ï¼‰~&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰æ›´å¥½åœ°åŠæ³•ï¼Œä¸€å®šè¦å‘Šè¯‰æˆ‘å•Š~~~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/UIKit/Reference/UITextView_Class/#//apple_ref/occ/instp/UITextView/textStorage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UITextView Class Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/index.html#//apple_ref/occ/instm/NSAttributedString/enumerateAttribute:inRange:options:usingBlock:&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSAttributedString Class Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦ç”¨UITextViewä½œä¸ºç¼–è¾‘æ–‡æœ¬çš„è¾“å…¥æ§ä»¶ã€‚&lt;br&gt;ä½†æ˜¯å¦‚ä½•åœ¨ç¼–è¾‘æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…å‘¢ï¼Ÿå°±æ˜¯åƒå‘å¾®åšæ—¶é‚£æ ·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç®€å•çš„ç”¨&lt;strong&gt;NSTextAttachment&lt;/strong&gt;ã€&lt;strong&gt;NSAttributedString&lt;/strong&gt;çš„ç‰¹æ€§ï¼Œå®ç°äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨UITextViewä¸­ç¼–è¾‘æ–‡å­—æ—¶æ’å…¥è‡ªå®šä¹‰è¡¨æƒ…å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;åŒæ—¶å¯ä»¥è¿”å›å¸¦æœ‰è¡¨æƒ…â€œ&lt;strong&gt;æ›¿æ¢ç¬¦&lt;/strong&gt;â€çš„çº¯æ–‡æœ¬å­—ç¬¦ä¸²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä»£ç å·¥ç¨‹åœ°å€ï¼š&lt;a href=&quot;https://github.com/zekunyan/UITextViewDIYEmojiExample&quot;&gt;https://github.com/zekunyan/UITextViewDIYEmojiExample&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ•ˆæœå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/inputEmoji_Sample.gif&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºè¯„è®ºä¸è§äº†=ã€‚=</title>
    <link href="http://tutuge.me/2015/03/06/%E5%85%B3%E4%BA%8E%E8%AF%84%E8%AE%BA%E4%B8%8D%E8%A7%81%E4%BA%86/"/>
    <id>http://tutuge.me/2015/03/06/å…³äºè¯„è®ºä¸è§äº†/</id>
    <published>2015-03-06T01:09:32.000Z</published>
    <updated>2016-03-20T09:04:03.000Z</updated>
    
    <content type="html">&lt;p&gt;å‰å¤©å‡çº§äº†ä¸€æ¬¡Hexoï¼ŒåŸæ¥çš„ä¸»é¢˜è¯´å•¥ä¹Ÿç”¨ä¸äº†äº†=ã€‚=ï¼ˆå‰ç«¯çŸ¥è¯†ä¸è¶³ï¼Œæ­£åœ¨è¡¥~ï¼‰å¯¼è‡´åªèƒ½æ¢ä¸»é¢˜ï¼Œå¤šè¯´çš„è¯„è®ºå°±è¿™æ ·ä¸è§äº†ã€‚ã€‚ã€‚åŸæ¥æœ‰ç•™è¨€çš„å„ä½ç­’å­ï¼Œæ²¡çœ‹åˆ°ï¼Œä¸å¥½æ„æ€å•Š=ã€‚=&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å‰å¤©å‡çº§äº†ä¸€æ¬¡Hexoï¼ŒåŸæ¥çš„ä¸»é¢˜è¯´å•¥ä¹Ÿç”¨ä¸äº†äº†=ã€‚=ï¼ˆå‰ç«¯çŸ¥è¯†ä¸è¶³ï¼Œæ­£åœ¨è¡¥~ï¼‰å¯¼è‡´åªèƒ½æ¢ä¸»é¢˜ï¼Œå¤šè¯´çš„è¯„è®ºå°±è¿™æ ·ä¸è§äº†ã€‚ã€‚ã€‚åŸæ¥æœ‰ç•™è¨€çš„å„ä½ç­’å­ï¼Œæ²¡çœ‹åˆ°ï¼Œä¸å¥½æ„æ€å•Š=ã€‚=&lt;/p&gt;

    
    </summary>
    
      <category term="å…¶å®ƒ" scheme="http://tutuge.me/categories/%E5%85%B6%E5%AE%83/"/>
    
    
      <category term="æ‚çƒ©" scheme="http://tutuge.me/tags/%E6%9D%82%E7%83%A9/"/>
    
  </entry>
  
  <entry>
    <title>Entityå’ŒModelçš„ä¸åŒ-å…³äºä»£ç çš„æ•°æ®å±‚</title>
    <link href="http://tutuge.me/2015/03/01/Entity%E5%92%8CModel%E7%9A%84%E4%B8%8D%E5%90%8C-%E5%85%B3%E4%BA%8E%E4%BB%A3%E7%A0%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%B1%82/"/>
    <id>http://tutuge.me/2015/03/01/Entityå’ŒModelçš„ä¸åŒ-å…³äºä»£ç çš„æ•°æ®å±‚/</id>
    <published>2015-03-01T15:03:10.000Z</published>
    <updated>2016-03-20T09:03:37.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç»å¸¸éƒ½èƒ½åœ¨ä¸€äº›åšå®¢ã€æ–‡æ¡£ä¸­çœ‹åˆ°â€œ&lt;strong&gt;Model&lt;/strong&gt;â€ã€â€œ&lt;strong&gt;Entity&lt;/strong&gt;â€çš„å­—æ ·ã€‚å¦‚&lt;strong&gt;MVC&lt;/strong&gt;æ¨¡å¼ä¸­çš„â€œ&lt;strong&gt;Må°±æ˜¯Model&lt;/strong&gt;â€ï¼Œâ€œ&lt;strong&gt;MVVMå¯¹åº”çš„Model-View-ViewModel&lt;/strong&gt;â€ï¼Œæ•°æ®åº“æŠ½è±¡å±‚é‡Œé¢çš„â€œ&lt;strong&gt;Model&lt;/strong&gt;â€œç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¬çš„åŒºåˆ«åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®æ²¡æœ‰çœŸæ­£å®˜æ–¹çš„å¯¹Entityå’ŒModelçš„å®šä¹‰ï¼Œåœ¨æ­¤æˆ‘åªæ˜¯è¯´è¯´æˆ‘è‡ªå·±çš„ç†è§£ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯Entity&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯Entity&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯Entity&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯&lt;strong&gt;Entity&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹è¿™ä¸ªå•è¯æ˜¯ä»€ä¹ˆæ„æ€ï¼š&lt;br&gt;&lt;a href=&quot;http://www.iciba.com/entity&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;çˆ±è¯éœ¸&lt;/a&gt;ï¼šn: å®ä½“ï¼Œå®é™…å­˜åœ¨ç‰©ï¼Œæœ¬è´¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€äº›å…·æœ‰â€œ&lt;strong&gt;ç°å®&lt;/strong&gt;â€æ„ä¹‰çš„â€œ&lt;strong&gt;ä¸ªä½“&lt;/strong&gt;â€ï¼Œå¦‚ä¸€ä¸ªç”¨æˆ·ï¼Œä¸€é¦–æ­Œæ›²ï¼Œä¸€æ¡è¯„è®ºç­‰ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯åœ¨é€»è¾‘ä¸Šå®Œæ•´çš„ä¸€ä¸ªæ•´ä½“ï¼Œéƒ½å…·æœ‰ç›¸ä¼¼çš„ç»“æ„ï¼Œä½†æ˜¯å´å› ä¸ºâ€œ&lt;strong&gt;å±æ€§&lt;/strong&gt;â€çš„ä¸åŒè€Œä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹ä¸€ä¸ªå…¸å‹çš„Entityç±»ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Java&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Entityç±»å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;class UserEntity &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public String name&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; age&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public String address&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Entityå¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UserEntity john = new UserEntity()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;john.name = &lt;span class=&quot;string&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;john.age = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;john.address = &lt;span class=&quot;string&quot;&gt;&quot;China Hubei Wuhan&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UserEntity tom = new UserEntity()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tom.name = &lt;span class=&quot;string&quot;&gt;&quot;Tom&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tom.age = &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tom.address = &lt;span class=&quot;string&quot;&gt;&quot;USA Californian&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰€ä»¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Entityç±»ï¼Œæˆ–è€…è¯´&lt;strong&gt;å®ä½“ç±»&lt;/strong&gt;ï¼Œä»£è¡¨äº†ä¸€ç§â€œä¸ªä½“â€ï¼Œç±»ä¸­çš„å±æ€§ï¼ˆå°±æ˜¯å„ç§å˜é‡ï¼‰åˆ™æ˜¯è¿™ä¸ªâ€œä¸ªä½“â€çš„å…·ä½“ä½“ç°ã€‚å¦‚UserEntityç±»ï¼Œé‡Œé¢æœ‰nameã€ageå±æ€§ï¼Œå°±æ˜¯è¯´Entityç±»â€œ&lt;strong&gt;æè¿°&lt;/strong&gt;â€äº†æŸç§ä¸ªä½“ã€‚&lt;/li&gt;
&lt;li&gt;Entityç±»çš„å…·ä½“å¯¹è±¡ï¼Œä»£è¡¨äº†ä¸€ä¸ªå…·ä½“çš„å®ä½“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ä»£ç å½“ä¸­ï¼Œä¸€ä¸ªå…·ä½“çš„Entityç±»å¯¹è±¡æ‰€ä»£è¡¨çš„å®ä½“åº”å½“æ˜¯å”¯ä¸€çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¾€å¾€Entityç±»çš„å®šä¹‰è·Ÿæ•°æ®åº“ä¸­çš„è¡¨å®šä¹‰æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚&lt;/li&gt;
&lt;li&gt;è€ŒEntityçš„å…·ä½“å¯¹è±¡å¾€å¾€å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€è¡Œæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;Entityæ˜¯ä»£ç ä¸­æ“ä½œæ•°æ®çš„â€œ&lt;strong&gt;æœ€å°å•å…ƒ&lt;/strong&gt;â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯Model&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯Model&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯Model&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯Model&lt;/h2&gt;&lt;h3 id=&quot;å„ç§ç”¨æ³•&quot;&gt;&lt;a href=&quot;#å„ç§ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;å„ç§ç”¨æ³•&quot;&gt;&lt;/a&gt;å„ç§ç”¨æ³•&lt;/h3&gt;&lt;p&gt;å…¶å®å¾ˆå¤šæ—¶å€™ï¼ŒModelæœ‰å¦‚ä¸‹å‡ ç§ç”¨æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“æˆEntityç”¨ï¼Œå®Œå…¨ä¸å…·å¤‡å…¶ä»–ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆ&lt;strong&gt;æ•°æ®åº“æ¥å£å±‚&lt;/strong&gt;ï¼Œå°±æ˜¯å°†æ•°æ®åº“çš„è¯»å†™ï¼Œå¢åˆ æ”¹æŸ¥éƒ½å°è£…åœ¨äº†Modelä¸­ï¼Œå¾€å¾€å°±ä¼šæœ‰å¦‚â€œ&lt;strong&gt;getUserByID&lt;/strong&gt;â€è¿™æ ·çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆçº¯ç²¹çš„ä¸šåŠ¡å¤„ç†ç±»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ä»è€…è§ä»ï¼Œæ™ºè€…è§æ™ºï¼Œå…¶å®éƒ½å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­¤è¯´è¯´æˆ‘çš„è®¤è¯†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æˆ‘çš„è®¤è¯†&quot;&gt;&lt;a href=&quot;#æˆ‘çš„è®¤è¯†&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘çš„è®¤è¯†&quot;&gt;&lt;/a&gt;æˆ‘çš„è®¤è¯†&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹Modelå•è¯çš„æ„æ€:&lt;br&gt;&lt;a href=&quot;http://www.iciba.com/model&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;çˆ±è¯éœ¸&lt;/a&gt;ï¼šn: æ¨¡å‹ï¼›æ¨¡å¼ï¼›å…¸å‹ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯æ¨¡å‹ï¼Œè€Œä¸æ˜¯â€œæ•°æ®â€ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—ï¼Œ&lt;strong&gt;Modelåº”è¯¥æ˜¯åˆ©ç”¨Entityå®ä½“ï¼Œæ¥ç»„åˆã€å¤„ç†ã€æ•´åˆæ›´ä¸Šå±‚ã€æ›´æŠ½è±¡æ•°æ®çš„ç±»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯åŸºäºä¸Šé¢çš„â€œ&lt;strong&gt;UserEntity&lt;/strong&gt;â€ï¼Œçœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cs&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;UserListModel&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; UserEntity[] users;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–ç”¨æˆ·åˆ—è¡¨ç­‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;UserEntity &lt;span class=&quot;title&quot;&gt;getUserByName&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;String name&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//æŸ¥æ‰¾...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; transformUserAddressFormat &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//è½¬åŒ–åœ°å€æ ¼å¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å°±æ˜¯è¯´ï¼ŒEntityè¿˜æ˜¯åŸæœ¬çš„æ¦‚å¿µï¼Œåªä¸è¿‡Modelæ˜¯åŸºäºEntityçš„æ›´é«˜å±‚çš„æ•°æ®æŠ½è±¡ä¸å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;è¯´å®è¯ï¼ŒEntityã€Modelï¼Œå®ƒä»¬çš„èŒè´£åˆ°åº•æ˜¯ä»€ä¹ˆï¼ŒçœŸçš„ä¸å¥½è¯´æ˜ç™½ï¼Œå¤§å®¶ä¹Ÿå°±åšä¸ªå‚è€ƒå§=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/3029952/ddd-and-mvc-difference-between-model-and-entity&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DDD and MVC: Difference between â€˜Modelâ€™ and â€˜Entityâ€™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://whatis.techtarget.com/definition/entity&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Whatis.com Entity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blogsh.de/2011/09/08/models-vs-entities&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Models vs. Entities&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç»å¸¸éƒ½èƒ½åœ¨ä¸€äº›åšå®¢ã€æ–‡æ¡£ä¸­çœ‹åˆ°â€œ&lt;strong&gt;Model&lt;/strong&gt;â€ã€â€œ&lt;strong&gt;Entity&lt;/strong&gt;â€çš„å­—æ ·ã€‚å¦‚&lt;strong&gt;MVC&lt;/strong&gt;æ¨¡å¼ä¸­çš„â€œ&lt;strong&gt;Må°±æ˜¯Model&lt;/strong&gt;â€ï¼Œâ€œ&lt;strong&gt;MVVMå¯¹åº”çš„Model-View-ViewModel&lt;/strong&gt;â€ï¼Œæ•°æ®åº“æŠ½è±¡å±‚é‡Œé¢çš„â€œ&lt;strong&gt;Model&lt;/strong&gt;â€œç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¬çš„åŒºåˆ«åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®æ²¡æœ‰çœŸæ­£å®˜æ–¹çš„å¯¹Entityå’ŒModelçš„å®šä¹‰ï¼Œåœ¨æ­¤æˆ‘åªæ˜¯è¯´è¯´æˆ‘è‡ªå·±çš„ç†è§£ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ¬¡å®¡æ ¸è¢«æ‹’çš„ç»å†-å…³äºiCloudåˆ°åº•åº”è¯¥å¤‡ä»½ä»€ä¹ˆæ•°æ®</title>
    <link href="http://tutuge.me/2015/02/28/%E4%B8%80%E6%AC%A1%E5%AE%A1%E6%A0%B8%E8%A2%AB%E6%8B%92%E7%9A%84%E7%BB%8F%E5%8E%86-%E5%85%B3%E4%BA%8EiCloud%E5%88%B0%E5%BA%95%E5%BA%94%E8%AF%A5%E5%A4%87%E4%BB%BD%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE/"/>
    <id>http://tutuge.me/2015/02/28/ä¸€æ¬¡å®¡æ ¸è¢«æ‹’çš„ç»å†-å…³äºiCloudåˆ°åº•åº”è¯¥å¤‡ä»½ä»€ä¹ˆæ•°æ®/</id>
    <published>2015-02-28T10:18:11.000Z</published>
    <updated>2016-03-20T09:04:01.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;é¡¹ç›®æœ€è¿‘ä¸€æ¬¡å®¡æ ¸è¢«æ‹’äº†=ã€‚=&lt;br&gt;ä»”ç»†çœ‹äº†ä¸€ä¸‹åï¼Œå‘ç°æ˜¯æ²¡æœ‰éµå®ˆâ€œ&lt;strong&gt;iOS Data Storage Guidelines&lt;/strong&gt;â€ã€‚&lt;br&gt;åœ¨æ­¤æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¢«æ‹’åŸå› &quot;&gt;&lt;a href=&quot;#è¢«æ‹’åŸå› &quot; class=&quot;headerlink&quot; title=&quot;è¢«æ‹’åŸå› &quot;&gt;&lt;/a&gt;è¢«æ‹’åŸå› &lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹è¢«æ‹’çš„åé¦ˆä¿¡æ¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Apps must follow the iOS &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; Storage Guidelines &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; they will be rejected&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;On&lt;/span&gt; launch &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; content download, your app stores &lt;span class=&quot;number&quot;&gt;12.14&lt;/span&gt; MB, which does &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; comply &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; the iOS &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; Storage Guidelines.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤§è‡´æ„æ€å°±æ˜¯Appä¸‹è½½ä¸œè¥¿ä»¥åï¼Œåœ¨iCloudé‡Œé¢æŸ¥çœ‹æ­¤Appéœ€è¦å¤‡ä»½çš„ä½“ç§¯å˜å¤§äº†ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å†æ ¹æ® &lt;a href=&quot;https://developer.apple.com/icloud/documentation/data-storage/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;iOS Data Storage Guidelines&lt;/strong&gt;&lt;/a&gt;çš„è¯´æ˜ï¼Œå¾—å‡ºå‡ ç‚¹é‡è¦ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªæœ‰&lt;strong&gt;ç”¨æˆ·åˆ›å»ºçš„ï¼Œå¹¶ä¸”ä¸èƒ½è¢«Appé‡ç°çš„æ–‡æ¡£ã€æ•°æ®&lt;/strong&gt;ï¼Œæ‰åº”è¯¥è¢«ä¿å­˜åœ¨â€œ&lt;strong&gt;&lt;application_home&gt;/Documents&lt;/application_home&gt;&lt;/strong&gt;â€è·¯å¾„ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥é‡æ–°äº§ç”Ÿã€ä¸‹è½½çš„æ•°æ®å¯ä»¥æ”¾åœ¨â€œ&lt;strong&gt;&lt;application_home&gt;/Library/Caches&lt;/application_home&gt;&lt;/strong&gt;â€ç›®å½•ä¸‹ï¼Œå¦‚ç”¨äºç¼“å­˜çš„æ•°æ®åº“æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;çº¯ç²¹ç”¨äºç¼“å­˜çš„æ•°æ®å¯ä»¥æ”¾åœ¨â€œ&lt;strong&gt;&lt;application_home&gt;/tmp&lt;/application_home&gt;&lt;/strong&gt;â€ç›®å½•ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡å¯¹NSURLåŠ å‚æ•°ï¼Œæ¥ä¿è¯ç‰¹å®šçš„æ–‡ä»¶å¤¹åŠå…¶å†…å®¹ä¸è¢«iCloudå¤‡ä»½ï¼Œä¹Ÿä¸ä¼šè¢«æ¸…é™¤ï¼Œå¦‚Documentæ–‡ä»¶å¤¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥å¯ä»¥åˆæ­¥å¾—å‡ºè¢«æ‹’çš„åŸå› æ˜¯å› ä¸ºAppä¸­ä¸‹è½½çš„æ–‡ä»¶ä¹Ÿè¢«åŒ…å«åœ¨iCloudå¤‡ä»½å½“ä¸­äº†ï¼Œè€ŒAppleå®¡æ ¸äººå‘˜è§‰å¾—è¿™äº›æ–‡ä»¶ä¸åº”è¯¥è¢«å¤‡ä»½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çœŸæ­£åº”è¯¥å¤‡ä»½çš„æ•°æ®&quot;&gt;&lt;a href=&quot;#çœŸæ­£åº”è¯¥å¤‡ä»½çš„æ•°æ®&quot; class=&quot;headerlink&quot; title=&quot;çœŸæ­£åº”è¯¥å¤‡ä»½çš„æ•°æ®&quot;&gt;&lt;/a&gt;çœŸæ­£åº”è¯¥å¤‡ä»½çš„æ•°æ®&lt;/h3&gt;&lt;p&gt;æ‰€ä»¥ï¼ŒçœŸæ­£éœ€è¦å¤‡ä»½çš„æ–‡ä»¶æ˜¯&lt;strong&gt;ç”¨æˆ·åˆ›å»ºçš„ï¼Œä¸èƒ½é€šè¿‡ç¨‹åºé‡æ–°äº§ç”Ÿçš„&lt;/strong&gt;ï¼Œå¦‚è®°äº‹æœ¬åº”ç”¨ä¸­ç”¨æˆ·åˆ›å»ºçš„æ–‡æœ¬æ•°æ®ï¼Œç»˜ç”»åº”ç”¨ä¸­ç”¨æˆ·ç”»çš„ç”»ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³å½“ä¸­é‡åˆ°çš„å‘&quot;&gt;&lt;a href=&quot;#è§£å†³å½“ä¸­é‡åˆ°çš„å‘&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³å½“ä¸­é‡åˆ°çš„å‘&quot;&gt;&lt;/a&gt;è§£å†³å½“ä¸­é‡åˆ°çš„å‘&lt;/h2&gt;&lt;p&gt;æ—¢ç„¶çŸ¥é“äº†åŸå› ï¼Œé‚£å°±å¥½åŠäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®&lt;strong&gt;iOS Data Storage Guidelines&lt;/strong&gt;çš„ç®€çŸ­è¯´æ˜ï¼Œä¹ä¸€çœ‹ï¼Œ&lt;strong&gt;&lt;application_home&gt;/Library/Caches&lt;/application_home&gt;&lt;/strong&gt;æ˜¯å­˜æ”¾å¯ä»¥é‡æ–°äº§ç”Ÿã€ä¸‹è½½çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ‰ä¸ªâ€œé™·é˜±â€åœ¨è¿™ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç³»ç»Ÿå¯èƒ½æ¸…ç©ºçš„ç›®å½•&quot;&gt;&lt;a href=&quot;#ç³»ç»Ÿå¯èƒ½æ¸…ç©ºçš„ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;ç³»ç»Ÿå¯èƒ½æ¸…ç©ºçš„ç›®å½•&quot;&gt;&lt;/a&gt;ç³»ç»Ÿå¯èƒ½æ¸…ç©ºçš„ç›®å½•&lt;/h3&gt;&lt;p&gt;æ ¹æ®å®˜æ–¹æ–‡æ¡£â€œ&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;strong&gt;File System Programming Guide&lt;/strong&gt;&lt;/a&gt;â€å¯ä»¥æ•´ç†å‡ºä¸€ä¸‹ä¸¤ä¸ªç³»ç»Ÿå¯èƒ½ä¼šæ¸…é™¤çš„ç›®å½•ï¼šï¼ˆåœ¨å‚¨å­˜ç©ºé—´ä¸å¤Ÿæ—¶ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Library/Caches/&lt;/li&gt;
&lt;li&gt;tmp/&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒåƒAppä¸‹è½½çš„æ­Œæ›²ç­‰èµ„æºæ–‡ä»¶æ˜¯ä¸èƒ½æ”¾åœ¨ä¸Šé¢ä¸¤ä¸ªç›®å½•ä¸­çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³ï¼š&quot;&gt;&lt;a href=&quot;#è§£å†³ï¼š&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³ï¼š&quot;&gt;&lt;/a&gt;è§£å†³ï¼š&lt;/h2&gt;&lt;p&gt;æ‰€ä»¥ï¼Œä¸ºäº†ä¿é™©èµ·è§ï¼Œæœ€é è°±çš„è¿˜æ˜¯æ”¾åœ¨&lt;strong&gt;&lt;application_home&gt;/Documents&lt;/application_home&gt;&lt;/strong&gt;ä¸­ï¼Œå¹¶ä¸”é€šè¿‡è®¾ç½®ï¼Œä¸è®©iCloudå¤‡ä»½ã€‚&lt;/p&gt;
&lt;p&gt;Appleå·²ç»æä¾›äº†ç›¸åº”çš„å‡½æ•°ï¼Œå¦‚ä¸‹ï¼ˆiOS 5.1åŠä»¥åçš„ç‰ˆæœ¬ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lua&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)addSkipBackupAttributeToItemAtURL:(NSURL *)URL &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;assert&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;[[NSFileManager defaultManager] fileExistsAtPath: [URL path]]&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSError *&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL success = [URL setResourceValue: [NSNumber numberWithBool: YES]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                  forKey: NSURLIsExcludedFromBackupKey &lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;: &amp;amp;&lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!success)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Error excluding %@ from backup %@&quot;&lt;/span&gt;, [URL lastPathComponent], &lt;span class=&quot;built_in&quot;&gt;error&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; success;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ç‰¹æ€§&quot;&gt;&lt;a href=&quot;#ç‰¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;ç‰¹æ€§&quot;&gt;&lt;/a&gt;ç‰¹æ€§&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;application_home&gt;/Documents&lt;/application_home&gt;&lt;/strong&gt;æ ¹ç›®å½•ä¹Ÿå¯ä»¥é€šè¿‡ä¸Šé¢çš„å‡½æ•°è®¾ç½®æˆä¸å¤‡ä»½ã€‚ï¼ˆå¦‚åº”ç”¨AVPlayerï¼‰&lt;/li&gt;
&lt;li&gt;è®¾ç½®æ˜¯é€’å½’çš„ï¼Œæ‰€ä»¥å…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶éƒ½ä¸ç”¨å†è®¾ç½®ä¸€æ¬¡ï¼Œéƒ½ä¼šè‡ªåŠ¨ä¸è¢«å¤‡ä»½ã€‚ï¼ˆæµ‹è¯•æœ‰æ•ˆï¼Œä½†æ˜¯ä¸ç¡®å®š=ã€‚=ï¼Œå‚è€ƒï¼š&lt;a href=&quot;http://stackoverflow.com/questions/14376883/is-nsurlisexcludedfrombackupkey-recursive&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;is-nsurlisexcludedfrombackupkey-recursive&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¤šçœ‹å®˜æ–¹è¯´æ˜=ã€‚=&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/icloud/documentation/data-storage/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;iOS Data Storage Guidelines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/qa/qa1719/_index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How do I prevent files from being backed up to iCloud and iTunes?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW4&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;File System Programming Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;é¡¹ç›®æœ€è¿‘ä¸€æ¬¡å®¡æ ¸è¢«æ‹’äº†=ã€‚=&lt;br&gt;ä»”ç»†çœ‹äº†ä¸€ä¸‹åï¼Œå‘ç°æ˜¯æ²¡æœ‰éµå®ˆâ€œ&lt;strong&gt;iOS Data Storage Guidelines&lt;/strong&gt;â€ã€‚&lt;br&gt;åœ¨æ­¤æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¢«æ‹’åŸå› &quot;&gt;&lt;a href=&quot;#è¢«æ‹’åŸå› &quot; class=&quot;headerlink&quot; title=&quot;è¢«æ‹’åŸå› &quot;&gt;&lt;/a&gt;è¢«æ‹’åŸå› &lt;/h2&gt;&lt;p&gt;å…ˆçœ‹çœ‹è¢«æ‹’çš„åé¦ˆä¿¡æ¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight lasso&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Apps must follow the iOS &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; Storage Guidelines &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; they will be rejected&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;On&lt;/span&gt; launch &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; content download, your app stores &lt;span class=&quot;number&quot;&gt;12.14&lt;/span&gt; MB, which does &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; comply &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; the iOS &lt;span class=&quot;built_in&quot;&gt;Data&lt;/span&gt; Storage Guidelines.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤§è‡´æ„æ€å°±æ˜¯Appä¸‹è½½ä¸œè¥¿ä»¥åï¼Œåœ¨iCloudé‡Œé¢æŸ¥çœ‹æ­¤Appéœ€è¦å¤‡ä»½çš„ä½“ç§¯å˜å¤§äº†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="å®¡æ ¸" scheme="http://tutuge.me/tags/%E5%AE%A1%E6%A0%B8/"/>
    
  </entry>
  
  <entry>
    <title>Blockç±»å‹å˜é‡-ç¼“å­˜Httpè¯·æ±‚ä¸å›è°ƒ</title>
    <link href="http://tutuge.me/2015/02/19/Block%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F-%E7%BC%93%E5%AD%98Http%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%9B%9E%E8%B0%83/"/>
    <id>http://tutuge.me/2015/02/19/Blockç±»å‹å˜é‡-ç¼“å­˜Httpè¯·æ±‚ä¸å›è°ƒ/</id>
    <published>2015-02-18T19:18:36.000Z</published>
    <updated>2016-03-20T09:02:18.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Objective-Cä¸­çš„Blockså®åœ¨æ˜¯å¤ªå¥½ç”¨äº†ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†â€œä»£ç å—â€å°è£…èµ·æ¥ï¼Œå½“æˆå˜é‡ä½¿ç”¨ã€ä¼ é€’ï¼Œæ‰€ä»¥ï¼Œåœ¨Objective-Cä¸­ï¼ŒiOSä¸­ï¼Œè®¸å¤šçš„å›è°ƒæ˜¯ç”¨Blockæ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;æˆ‘è‡ªå·±åœ¨ä¹‹å‰çš„é¡¹ç›®ä¸­ï¼Œå°±é‡åˆ°è¿‡ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºé¡¹ç›®çš„éœ€è¦ï¼Œæ‰‹æœºç«¯æ‰€æœ‰çš„è·ŸæœåŠ¡å™¨çš„é€šä¿¡éƒ½éœ€è¦â€œåŠ å¯†â€ï¼Œåœ¨ç»è¿‡ä¸€ç•ªè°ƒç ”åï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ç±»ä¼¼OAuthæœºåˆ¶ï¼ˆè‡³äºä»€ä¹ˆæ˜¯OAuthï¼Œå„ä½Googleä¸€ä¸‹å°±æ˜ç™½äº†ï¼Œå¤§éƒ¨åˆ†çš„å…¬å…±APIéƒ½ç”¨åˆ°äº†è¿™ç§æœºåˆ¶ï¼‰ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;ç¼“å­˜Httpè¯·æ±‚åçš„å›è°ƒä»£ç å—&quot;&gt;&lt;a href=&quot;#ç¼“å­˜Httpè¯·æ±‚åçš„å›è°ƒä»£ç å—&quot; class=&quot;headerlink&quot; title=&quot;ç¼“å­˜Httpè¯·æ±‚åçš„å›è°ƒä»£ç å—&quot;&gt;&lt;/a&gt;ç¼“å­˜Httpè¯·æ±‚åçš„å›è°ƒä»£ç å—&lt;/h3&gt;&lt;p&gt;æ—¢ç„¶æ˜¯OAuthæœºåˆ¶ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬æ¯æ¬¡å‘æœåŠ¡å™¨å‘èµ·çš„è¯·æ±‚ï¼Œé™¤äº†è·Ÿä¸šåŠ¡ç›¸å…³çš„å‚æ•°ï¼Œè¿˜éœ€è¦å¸¦ä¸ŠAccessTokenã€UserTokenè¿™ç±»çš„æˆæƒå‚æ•°ï¼Œè€ŒAccessTokenåœ¨æœ¬æ¬¡è¯·æ±‚ä¸­æ˜¯å¦ä¼šè¿‡æœŸï¼Œåœ¨ç»“æœè¿”å›å‰æ˜¯ä¸çŸ¥é“çš„ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†æ›´å¥½åœ°ç”¨æˆ·ä½“éªŒï¼Œä¸è‡³äºè®©ç”¨æˆ·åœ¨æŸä¸ªæ—¶åˆ»çš„æ“ä½œï¼Œå› ä¸ºæˆæƒè¿‡æœŸäº†è€Œâ€œæ²¡æœ‰å“åº”â€ï¼Œæˆ‘ä»¬çš„æ¯æ¬¡Httpè¯·æ±‚éƒ½å¿…é¡»ç¼“å­˜èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„ç¼“å­˜å¯ä¸æ˜¯å•å•æŒ‡ç¼“å­˜è¯·æ±‚çš„å‚æ•°ã€URLï¼Œæ›´é‡è¦çš„æ˜¯ç¼“å­˜Httpè¯·æ±‚æˆåŠŸæˆ–è€…å¤±è´¥æ—¶çš„â€œ&lt;strong&gt;å›è°ƒä»£ç å—&lt;/strong&gt;â€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°&quot;&gt;&lt;a href=&quot;#å®ç°&quot; class=&quot;headerlink&quot; title=&quot;å®ç°&quot;&gt;&lt;/a&gt;å®ç°&lt;/h2&gt;&lt;h3 id=&quot;AFNetworkingçš„Getæ–¹æ³•&quot;&gt;&lt;a href=&quot;#AFNetworkingçš„Getæ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;AFNetworkingçš„Getæ–¹æ³•&quot;&gt;&lt;/a&gt;AFNetworkingçš„Getæ–¹æ³•&lt;/h3&gt;&lt;p&gt;åœ¨iOSçš„é¡¹ç›®ä¸­ï¼ŒAFNetworkingåº”è¯¥ç®—æ˜¯ä½¿ç”¨çš„æœ€å¤šçš„ç½‘ç»œåº“äº†ï¼Œå®ƒçš„Getè¯·æ±‚çš„æ–¹æ³•æ¥å£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight erlang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- &lt;span class=&quot;params&quot;&gt;(AFHTTPRequestOperation *)&lt;/span&gt;GET:&lt;span class=&quot;params&quot;&gt;(NSString *)&lt;/span&gt;URLString&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     parameters:&lt;span class=&quot;params&quot;&gt;(id)&lt;/span&gt;parameters&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        success:&lt;span class=&quot;params&quot;&gt;(void (^)&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(AFHTTPRequestOperation *operation, id responseObject)&lt;/span&gt;)success&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        failure:&lt;span class=&quot;params&quot;&gt;(void (^)&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(AFHTTPRequestOperation *operation, NSError *error)&lt;/span&gt;)failure&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åªæœ‰å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯Urlã€å‚æ•°ã€æˆåŠŸçš„å›è°ƒBlockï¼Œå¤±è´¥çš„å›è°ƒBlockï¼Œçœ‹ï¼Œè¿™é‡Œï¼Œå›è°ƒçš„ä»£ç å—å°±è¢«å°è£…åˆ°äº†Blocké‡Œé¢ï¼Œå¹¶å½“æˆå‚æ•°ä¼ å…¥ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å†æ¬¡å°è£…&quot;&gt;&lt;a href=&quot;#å†æ¬¡å°è£…&quot; class=&quot;headerlink&quot; title=&quot;å†æ¬¡å°è£…&quot;&gt;&lt;/a&gt;å†æ¬¡å°è£…&lt;/h3&gt;&lt;p&gt;ä»‹äºAFNetworkingåªæä¾›äº†æœ€åŸºæœ¬çš„Getã€Postã€Putè¿™äº›æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¾€å¾€æ ¹æ®ä¸šåŠ¡çš„æ¥å£åšäº†å°è£…ï¼Œå¦‚å…ˆå®šä¹‰äº†è¯·æ±‚çš„ç±»å‹æšä¸¾ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight elm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;type&quot;&gt;NS_ENUM&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;NSUInteger&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;HTTP_REQUEST_TYPE&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;type&quot;&gt;ICG_GET&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;type&quot;&gt;ICG_POST&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åå®šä¹‰äº†ç»Ÿä¸€çš„è¯·æ±‚å…¥å£ä¸å›è°ƒå‚æ•°Blockï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚æˆåŠŸåçš„å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (^http_success)(id result);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚å¤±è´¥åçš„å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;typedef &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; (^http_fail)();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç»Ÿä¸€çš„è¯·æ±‚å…¥å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+ (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;executeWithType:&lt;/span&gt;(HTTP_REQUEST_TYPE)type &lt;span class=&quot;string&quot;&gt;api:&lt;/span&gt;(NSString *)api&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;             parameters:&lt;/span&gt;(NSDictionary *)parameters &lt;span class=&quot;string&quot;&gt;success:&lt;/span&gt;(http_success)success &lt;span class=&quot;string&quot;&gt;fail:&lt;/span&gt;(http_fail)fail &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ä¸ºæ¯ä¸ªè¯·æ±‚å¢åŠ AccessTokenã€UserTokenç­‰å…¬å…±å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ç¼“å­˜Httpè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ ¹æ®typeåŒºåˆ†å…·ä½“æ˜¯å“ªä¸€ç§Httpè¯·æ±‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (type) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;ICG_GET:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [HttpUtil &lt;span class=&quot;string&quot;&gt;get:&lt;/span&gt;url &lt;span class=&quot;string&quot;&gt;parameters:&lt;/span&gt;paras &lt;span class=&quot;string&quot;&gt;success:&lt;/span&gt;success &lt;span class=&quot;string&quot;&gt;fail:&lt;/span&gt;fail];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;ICG_POST:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [HttpUtil &lt;span class=&quot;string&quot;&gt;post:&lt;/span&gt;url &lt;span class=&quot;string&quot;&gt;parameters:&lt;/span&gt;paras &lt;span class=&quot;string&quot;&gt;success:&lt;/span&gt;success &lt;span class=&quot;string&quot;&gt;fail:&lt;/span&gt;fail];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;        default:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å†æ¬¡å°è£…çš„å¥½å¤„&quot;&gt;&lt;a href=&quot;#å†æ¬¡å°è£…çš„å¥½å¤„&quot; class=&quot;headerlink&quot; title=&quot;å†æ¬¡å°è£…çš„å¥½å¤„&quot;&gt;&lt;/a&gt;å†æ¬¡å°è£…çš„å¥½å¤„&lt;/h3&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¦å†æ¬¡åšå°è£…ï¼Œå°†åŸºæœ¬çš„Httpè¯·æ±‚ç»Ÿä¸€å…¥å£ï¼Ÿé“ç†å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†èƒ½æ–¹ä¾¿çš„å¯¹æ¯æ¬¡è¯·æ±‚å¢åŠ é¢å¤–çš„å¤„ç†ï¼Œå¹¶ä¸”å¯¹ä¸Šå±‚è°ƒç”¨é€æ˜ã€‚å¦‚:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»Ÿä¸€ä¸ºæ¯ä¸ªè¯·æ±‚å¢åŠ Logã€‚&lt;/li&gt;
&lt;li&gt;ç»Ÿä¸€ä¸ºæ¯ä¸ªè¯·æ±‚å¢åŠ å¦‚AccessTokenè¿™äº›é¢å¤–çš„å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;æ–¹ä¾¿å¯¹Httpè¯·æ±‚åšç¼“å­˜ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ç¼“å­˜Httpè¯·æ±‚çš„æ•°æ®ç»“æ„&quot;&gt;&lt;a href=&quot;#ç¼“å­˜Httpè¯·æ±‚çš„æ•°æ®ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;ç¼“å­˜Httpè¯·æ±‚çš„æ•°æ®ç»“æ„&quot;&gt;&lt;/a&gt;ç¼“å­˜Httpè¯·æ±‚çš„æ•°æ®ç»“æ„&lt;/h3&gt;&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†ç»Ÿä¸€çš„è¯·æ±‚å…¥å£ï¼Œä¸ºäº†ç¼“å­˜ï¼Œæ‰€éœ€è¦åšçš„å°±æ˜¯å°†èƒ½ä»£è¡¨ä¸€æ¬¡è¯·æ±‚çš„æ‰€æœ‰å‚æ•°ç¼“å­˜èµ·æ¥å°±è¡Œäº†ï¼Œå¦‚URLã€è¯·æ±‚å‚æ•°ç­‰ï¼Œå¦‚ä¸‹æ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;RequestHolder &lt;/span&gt;: NSObject&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//URLåœ°å€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSString *url;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSMutableDictionary *paras;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚ç±»å‹ï¼Œå¦‚Getã€Post&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(assign, nonatomic) HTTP_REQUEST_TYPE type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚æˆåŠŸå›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(copy) http_success success;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯·æ±‚å¤±è´¥å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(copy) http_fail fail;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™å‡ ä¸ªå‚æ•°ï¼Œå°±å¯ä»¥å®Œæ•´çš„â€œä»£è¡¨ã€é‡ç°â€ä¸€æ¬¡å…·ä½“çš„Httpè¯·æ±‚ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å¦‚ä½•ç¼“å­˜&quot;&gt;&lt;a href=&quot;#å¦‚ä½•ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•ç¼“å­˜&quot;&gt;&lt;/a&gt;å¦‚ä½•ç¼“å­˜&lt;/h3&gt;&lt;p&gt;åªè¦Appå¼€å¯ï¼ŒHttpè¯·æ±‚å°±ä¼šä¸åœåœ°äº§ç”Ÿï¼Œä¼šæœ‰æºæºä¸æ–­çš„è¯·æ±‚ï¼Œéš¾é“æˆ‘ä»¬æŠŠæ¯æ¬¡è¯·æ±‚éƒ½ç¼“å­˜èµ·æ¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¨éƒ¨éƒ½ç¼“å­˜è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼“å­˜ç­–ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªAppä¸­ï¼Œæ‰€æœ‰çš„Httpè¯·æ±‚çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯Urlï¼Œä¸åŒ…æ‹¬å‚æ•°ï¼Œåº”è¯¥æ˜¯æ•°é‡å›ºå®šçš„ï¼Œå¦‚â€œ/user, /commentâ€ï¼Œå¹¶ä¸”ï¼Œä¸€ä¸ªè¯·æ±‚å¾€å¾€å¯¹åº”çš„æ“ä½œã€åŠŸèƒ½ä¹Ÿæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ï¼Œå®Œå…¨å¯ä»¥ä»¥è¯·æ±‚çš„&lt;strong&gt;Url&lt;/strong&gt;ä¸º&lt;strong&gt;Key&lt;/strong&gt;ï¼Œä»¥æœ¬æ¬¡è¯·æ±‚çš„â€œ&lt;strong&gt;RequestHolder&lt;/strong&gt;â€ä¸º&lt;strong&gt;Value&lt;/strong&gt;ï¼Œç”¨Objective-Cä¸­çš„NSDictionaryæ¥ç¼“å­˜Httpè¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç¼“å­˜è¯·æ±‚çš„æ–¹æ³•å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç¼“å­˜Httpè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;attribute&quot;&gt;cacheHttpRequest&lt;/span&gt;:(HTTP_REQUEST_TYPE)type &lt;span class=&quot;attribute&quot;&gt;url&lt;/span&gt;:(NSString *)&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attribute&quot;&gt;parameters&lt;/span&gt;:(NSMutableDictionary *)parameters &lt;span class=&quot;attribute&quot;&gt;success&lt;/span&gt;:(http_success)success &lt;span class=&quot;attribute&quot;&gt;fail&lt;/span&gt;:(http_fail)&lt;span class=&quot;decorator&quot;&gt;fail&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºç¼“å­˜æ•°æ®ç»“æ„ï¼Œä¿å­˜æœ¬æ¬¡è¯·æ±‚çš„å‚æ•°ã€å›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ICGRequestHolder *requestHolder = [ICGRequestHolder &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    requestHolder.url = &lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    requestHolder.paras = parameters;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    requestHolder.success = [success copy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    requestHolder.fail = [fail copy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    requestHolder.type = type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//ä¿å­˜æœ¬æ¬¡è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_operationQueue &lt;span class=&quot;attribute&quot;&gt;addOperationWithBlock&lt;/span&gt;:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _cachedRequests[&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;] = requestHolder;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼Œå°±èƒ½å®Œæ•´çš„ç¼“å­˜Httpè¯·æ±‚äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»ç¼“å­˜ä¸­æ¢å¤Httpè¯·æ±‚&quot;&gt;&lt;a href=&quot;#ä»ç¼“å­˜ä¸­æ¢å¤Httpè¯·æ±‚&quot; class=&quot;headerlink&quot; title=&quot;ä»ç¼“å­˜ä¸­æ¢å¤Httpè¯·æ±‚&quot;&gt;&lt;/a&gt;ä»ç¼“å­˜ä¸­æ¢å¤Httpè¯·æ±‚&lt;/h3&gt;&lt;p&gt;æ¢å¤è¯·æ±‚å¾ˆç®€å•ï¼Œç›´æ¥éå†æ‰€æœ‰ç¼“å­˜çš„è¯·æ±‚ï¼Œå†æ¬¡å‘èµ·Httpè¯·æ±‚å³å¯ï¼Œå°±ä¸å†è´´ä»£ç äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ é™¤æˆåŠŸçš„Httpè¯·æ±‚&quot;&gt;&lt;a href=&quot;#åˆ é™¤æˆåŠŸçš„Httpè¯·æ±‚&quot; class=&quot;headerlink&quot; title=&quot;åˆ é™¤æˆåŠŸçš„Httpè¯·æ±‚&quot;&gt;&lt;/a&gt;åˆ é™¤æˆåŠŸçš„Httpè¯·æ±‚&lt;/h3&gt;&lt;p&gt;ç¼“å­˜çš„ç›®çš„æ˜¯åœ¨è¯·æ±‚å¤±è´¥æ—¶ï¼Œå¦‚AccessTokenè¶…æ—¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡æ–°è·å–AccessTokenåé‡ç°ä¸Šæ¬¡å¤±è´¥çš„è¯·æ±‚ï¼Œæ‰€ä»¥ï¼Œä¸€æ—¦è¯·æ±‚æˆåŠŸæ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†æˆåŠŸçš„è¯·æ±‚åˆ é™¤ï¼Œå½“ç„¶ï¼Œä¹Ÿæ˜¯åˆ©ç”¨Urlï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;attribute&quot;&gt;removeRequestForKey&lt;/span&gt;:(NSString *)&lt;span class=&quot;decorator&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;url&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æ”¾å…¥é˜Ÿåˆ—æ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [_operationQueue &lt;span class=&quot;attribute&quot;&gt;addOperationWithBlock&lt;/span&gt;:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//åˆ é™¤Urlå¯¹åº”çš„è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [_cachedRequests &lt;span class=&quot;attribute&quot;&gt;removeObjectForKey&lt;/span&gt;:&lt;span class=&quot;attribute&quot;&gt;url];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡åªæ˜¯ç®€å•åœ°åˆ©ç”¨Objective-Cä¸­çš„Blockç‰¹æ€§ï¼Œå®ç°äº†Httpè¯·æ±‚çš„ç¼“å­˜ã€‚ç›®çš„ä¸æ˜¯ä»‹ç»Blockï¼Œæ˜¯ä¸ºäº†åˆ†äº«æˆ‘è‡ªå·±åœ¨é¡¹ç›®ä¸­è¿ç”¨Blockçš„ä¾‹å­ï¼Œå¦‚æœè¯»è€…æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ¬¢è¿ç•™è¨€å•Š~~&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒã€æ¨èé˜…è¯»&quot;&gt;&lt;a href=&quot;#å‚è€ƒã€æ¨èé˜…è¯»&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒã€æ¨èé˜…è¯»&quot;&gt;&lt;/a&gt;å‚è€ƒã€æ¨èé˜…è¯»&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Working with Blocks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;Objective-Cä¸­çš„Blockså®åœ¨æ˜¯å¤ªå¥½ç”¨äº†ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†â€œä»£ç å—â€å°è£…èµ·æ¥ï¼Œå½“æˆå˜é‡ä½¿ç”¨ã€ä¼ é€’ï¼Œæ‰€ä»¥ï¼Œåœ¨Objective-Cä¸­ï¼ŒiOSä¸­ï¼Œè®¸å¤šçš„å›è°ƒæ˜¯ç”¨Blockæ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;æˆ‘è‡ªå·±åœ¨ä¹‹å‰çš„é¡¹ç›®ä¸­ï¼Œå°±é‡åˆ°è¿‡ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºé¡¹ç›®çš„éœ€è¦ï¼Œæ‰‹æœºç«¯æ‰€æœ‰çš„è·ŸæœåŠ¡å™¨çš„é€šä¿¡éƒ½éœ€è¦â€œåŠ å¯†â€ï¼Œåœ¨ç»è¿‡ä¸€ç•ªè°ƒç ”åï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ç±»ä¼¼OAuthæœºåˆ¶ï¼ˆè‡³äºä»€ä¹ˆæ˜¯OAuthï¼Œå„ä½Googleä¸€ä¸‹å°±æ˜ç™½äº†ï¼Œå¤§éƒ¨åˆ†çš„å…¬å…±APIéƒ½ç”¨åˆ°äº†è¿™ç§æœºåˆ¶ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æå‡UITableViewæ€§èƒ½-å¤æ‚é¡µé¢çš„ä¼˜åŒ–</title>
    <link href="http://tutuge.me/2015/02/19/%E6%8F%90%E5%8D%87UITableView%E6%80%A7%E8%83%BD-%E5%A4%8D%E6%9D%82%E9%A1%B5%E9%9D%A2%E7%9A%84%E4%BC%98%E5%8C%96/"/>
    <id>http://tutuge.me/2015/02/19/æå‡UITableViewæ€§èƒ½-å¤æ‚é¡µé¢çš„ä¼˜åŒ–/</id>
    <published>2015-02-18T17:28:41.000Z</published>
    <updated>2016-03-20T09:04:07.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;éšç€Appçš„ç”¨æˆ·ç•Œé¢çš„å†…å®¹è¶Šæ¥è¶Šä¸°å¯Œï¼Œå†å¼ºçš„æ‰‹æœºå¯èƒ½éƒ½æ— æ³•åŒæ—¶æ¸²æŸ“å¤æ‚çš„UIç•Œé¢å’Œä¿è¯æµç•…çš„ä½“éªŒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™äº›ç¨‹åºçŒ¿=ã€‚=åœ¨å†™ä»£ç çš„æ—¶å€™å°±è¦æ³¨æ„ï¼Œå¦‚ä½•å°½å¯èƒ½æé«˜ç”¨æˆ·çš„æ“ä½œæµç•…æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰çš„åšçš„é¡¹ç›®ï¼Œ&lt;a href=&quot;https://itunes.apple.com/us/app/qing-ju-yin-le-quan-guo-zui/id913235479?l=zh&amp;amp;ls=1&amp;amp;mt=8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é’æ¡”éŸ³ä¹iOSå®¢æˆ·ç«¯&lt;/a&gt;é‡Œé¢çš„é¦–é¡µå°±æ˜¯ä¸€ä¸ªç±»ä¼¼å¾®ä¿¡æœ‹å‹åœˆçš„â€œåŠ¨æ€â€é¡µé¢ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_speed_up_uitableview_1_1.png?imageView2/0/h/300&quot; alt=&quot;é’æ¡”åŠ¨æ€é¡µé¢&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½ ï¼Œä½ ä¼šæ€ä¹ˆå®ç°è¿™ä¸ªé¡µé¢å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™è¿˜ç”¨é—®ï¼Œå½“ç„¶æ˜¯ç”¨UITableView+è‡ªå®šä¹‰çš„UITableViewCellã€‚&lt;/p&gt;
&lt;p&gt;UITableViewæ˜¯å¯ä»¥æ»‘åŠ¨çš„ï¼Œä¸ºäº†ä¸è®©ç”¨æˆ·åœ¨æ»‘åŠ¨ä¸­æ„Ÿåˆ°æœ‰å¡é¡¿ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿä¸‹é¢ï¼Œæˆ‘å°±å†™ä¸€ä¸‹æˆ‘è‡ªå·±åœ¨åšé¡¹ç›®æ—¶çš„â€œç»éªŒâ€~&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŒ–&quot;&gt;&lt;/a&gt;ä¼˜åŒ–&lt;/h2&gt;&lt;p&gt;ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªå®šä¹‰ä¸€ç§Cellã€‚&lt;/li&gt;
&lt;li&gt;æå‰è®¡ç®—å¹¶ç¼“å­˜æ¯ä¸ªCellçš„é«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;æå‰åˆ›å»ºçœŸæ­£æ˜¾ç¤ºçš„ã€éœ€è¦åŠ å·¥çš„æ•°æ®å¹¶ç¼“å­˜ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å­˜Viewï¼&lt;/li&gt;
&lt;li&gt;å…¶å®ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åªå®šä¹‰ä¸€ç§Cell&quot;&gt;&lt;a href=&quot;#åªå®šä¹‰ä¸€ç§Cell&quot; class=&quot;headerlink&quot; title=&quot;åªå®šä¹‰ä¸€ç§Cell&quot;&gt;&lt;/a&gt;åªå®šä¹‰ä¸€ç§Cell&lt;/h3&gt;&lt;p&gt;ä¹ä¸€çœ‹ï¼Œè¿™ä¸ªç•Œé¢è‡³å°‘æœ‰3ç§æ ·å¼çš„Cellï¼Œä¸ºä»€ä¹ˆåªå®šä¹‰ä¸€ç§å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h4 id=&quot;åˆ†æç»“æ„&quot;&gt;&lt;a href=&quot;#åˆ†æç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æç»“æ„&quot;&gt;&lt;/a&gt;åˆ†æç»“æ„&lt;/h4&gt;&lt;p&gt;ä»”ç»†åˆ†æä¸€ä¸‹ï¼Œé¡µé¢ä¸­æ¯ä¸ªCellçš„å†…å®¹éƒ½æœ‰å¤´åƒã€æ ‡é¢˜ã€æ­£æ–‡ã€è¯„è®ºã€å…¶å®ƒï¼ˆæ­Œæ›²ã€å›¾ç‰‡ã€æ­Œæ‰‹ï¼‰ã€‚æ‰€ä»¥ï¼Œä»æ•´ä½“ä¸Šçœ‹ï¼Œæ¯ä¸ªCellçš„ç»“æ„æ˜¯ä¸€è‡´çš„ï¼&lt;/p&gt;
&lt;h4 id=&quot;é‡ç”¨-å¤§è‡´å›ºå®šæ•°é‡çš„Cell&quot;&gt;&lt;a href=&quot;#é‡ç”¨-å¤§è‡´å›ºå®šæ•°é‡çš„Cell&quot; class=&quot;headerlink&quot; title=&quot;é‡ç”¨=å¤§è‡´å›ºå®šæ•°é‡çš„Cell&quot;&gt;&lt;/a&gt;é‡ç”¨=å¤§è‡´å›ºå®šæ•°é‡çš„Cell&lt;/h4&gt;&lt;p&gt;å¹¶ä¸”ï¼Œå‡¡æ˜¯è®¤çœŸç ”ç©¶è¿‡UITableViewçš„äººåº”è¯¥éƒ½çŸ¥é“ï¼ŒAppleå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†Cellçš„é‡ç”¨ï¼Œå¦‚ç”¨â€œ&lt;strong&gt;registerNib:forCellReuseIdentifier&lt;/strong&gt;â€æ–¹æ³•æ³¨å†Œè‡ªå®šä¹‰Cellçš„Nibï¼Œç„¶ååœ¨â€œ&lt;strong&gt;cellForRowAtIndexPath&lt;/strong&gt;â€çš„æ—¶å€™ç”¨â€œ&lt;strong&gt;dequeueReusableCellWithIdentifier&lt;/strong&gt;â€è·å–å¯ä»¥é‡ç”¨çš„Cellï¼Œæ‰€ä»¥ï¼Œæ— è®ºUITableViewè¦æ˜¾ç¤ºå†…å®¹æœ‰å¤šå°‘ï¼ŒçœŸæ­£åˆ›å»ºå‡ºçš„Cellå¯èƒ½åªæœ‰5ã€6ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åªåˆ›å»ºä¸€ç§Cellï¼Œè™½ç„¶è¿™æ ·ä¸€ä¸ªCellçš„â€œä½“ç§¯â€å¯èƒ½ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯ä»‹äºCellçš„æ•°é‡ä¸ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥æ¥å—ã€‚&lt;/p&gt;
&lt;h5 id=&quot;åªå®šä¹‰ä¸€ç§Cellçš„å¥½å¤„&quot;&gt;&lt;a href=&quot;#åªå®šä¹‰ä¸€ç§Cellçš„å¥½å¤„&quot; class=&quot;headerlink&quot; title=&quot;åªå®šä¹‰ä¸€ç§Cellçš„å¥½å¤„&quot;&gt;&lt;/a&gt;&lt;strong&gt;åªå®šä¹‰ä¸€ç§Cellçš„å¥½å¤„&lt;/strong&gt;&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å‡å°‘ä»£ç é‡ï¼Œå‡å°‘Nibæ–‡ä»¶çš„æ•°é‡ï¼Œç»Ÿä¸€ä¸€ä¸ªNibæ–‡ä»¶å®šä¹‰Cellï¼Œå®¹æ˜“ä¿®æ”¹ã€ç»´æŠ¤ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäºCellçš„é‡ç”¨ï¼ŒçœŸæ­£è¿è¡Œæ—¶é“ºæ»¡å±å¹•æ‰€éœ€çš„Cellæ•°é‡å¤§è‡´æ˜¯å›ºå®šçš„ï¼Œè®¾ä¸º&lt;strong&gt;N&lt;/strong&gt;ä¸ªã€‚æ‰€ä»¥å¦‚æœå¦‚æœåªæœ‰ä¸€ç§Cellï¼Œé‚£å°±æ˜¯åªæœ‰&lt;strong&gt;N&lt;/strong&gt;ä¸ªCellçš„å®ä¾‹ï¼›ä½†æ˜¯å¦‚æœæœ‰&lt;strong&gt;M&lt;/strong&gt;ç§Cellï¼Œé‚£ä¹ˆè¿è¡Œæ—¶æœ€å¤šå¯èƒ½ä¼šæ˜¯â€œ&lt;strong&gt;M x N = MN&lt;/strong&gt;â€ä¸ªCellçš„å®ä¾‹ï¼Œè™½ç„¶å¯èƒ½å¹¶ä¸ä¼šå ç”¨å¤ªå¤šå†…å­˜ï¼Œä½†æ˜¯èƒ½å°‘ç‚¹ä¸æ˜¯æ›´å¥½å—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;å–„ç”¨hiddenéšè—ï¼ˆæ˜¾ç¤ºï¼‰Subview&quot;&gt;&lt;a href=&quot;#å–„ç”¨hiddenéšè—ï¼ˆæ˜¾ç¤ºï¼‰Subview&quot; class=&quot;headerlink&quot; title=&quot;å–„ç”¨hiddenéšè—ï¼ˆæ˜¾ç¤ºï¼‰Subview&quot;&gt;&lt;/a&gt;å–„ç”¨hiddenéšè—ï¼ˆæ˜¾ç¤ºï¼‰Subview&lt;/h4&gt;&lt;p&gt;æ—¢ç„¶åªå®šä¹‰ä¸€ç§Cellï¼Œé‚£è¯¥å¦‚ä½•æ˜¾ç¤ºä¸åŒç±»å‹çš„å†…å®¹å‘¢ï¼Ÿ&lt;br&gt;ç­”æ¡ˆå°±æ˜¯ï¼ŒæŠŠæ‰€æœ‰ä¸åŒç±»å‹çš„viewéƒ½å®šä¹‰å¥½ï¼Œæ”¾åœ¨cellé‡Œé¢ï¼Œé€šè¿‡hiddenæ˜¾ç¤ºã€éšè—ï¼Œæ¥æ˜¾ç¤ºä¸åŒç±»å‹çš„å†…å®¹ã€‚å¦‚ä¸‹å›¾å®šä¹‰Cellï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_speed_up_uitableview_1_2.jpg?imageView2/0/h/400&quot; alt=&quot;Cellç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­çš„Subview1ã€Subview2ã€Subview3å°±æ˜¯ä¸åŒç±»å‹Cellçš„ä¸åŒä¹‹å¤„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨â€œ&lt;strong&gt;cellForRowAtIndexPath&lt;/strong&gt;â€å‡½æ•°ä¸­ï¼Œè®¾ç½®Cellçš„æ ·å¼ã€å†…å®¹æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡æ˜¾ç¤ºã€éšè—è¿™ä¸‰ä¸ªå­viewæ¥æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ¯•ç«Ÿï¼Œåœ¨ç”¨æˆ·å¿«é€Ÿæ»‘åŠ¨ä¸­ï¼Œåªæ˜¯å•çº¯çš„æ˜¾ç¤ºã€éšè—subviewæ¯”å®æ—¶åˆ›å»ºè¦å¿«å¾—å¤šã€‚&lt;/p&gt;
&lt;h3 id=&quot;æå‰è®¡ç®—å¹¶ç¼“å­˜æ¯ä¸ªCellçš„é«˜åº¦&quot;&gt;&lt;a href=&quot;#æå‰è®¡ç®—å¹¶ç¼“å­˜æ¯ä¸ªCellçš„é«˜åº¦&quot; class=&quot;headerlink&quot; title=&quot;æå‰è®¡ç®—å¹¶ç¼“å­˜æ¯ä¸ªCellçš„é«˜åº¦&quot;&gt;&lt;/a&gt;æå‰è®¡ç®—å¹¶ç¼“å­˜æ¯ä¸ªCellçš„é«˜åº¦&lt;/h3&gt;&lt;p&gt;å¼€å‘è¿‡Androidï¼Œç”¨è¿‡Androidçš„ListViewä»¥åï¼Œå¯¹UITableViewéœ€è¦æå‰è®¡ç®—Cellçš„é«˜åº¦å¾ˆä¸é€‚åº”ã€‚=ã€‚=&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¦ç¡®å®šçš„æ˜¯ï¼Œåœ¨iOSä¸­ï¼Œç³»ç»Ÿä¼šå…ˆè°ƒç”¨â€œ&lt;strong&gt;tableView:heightForRowAtIndexPath:&lt;/strong&gt;â€è·å–æ¯ä¸ªCellå³å°†æ˜¾ç¤ºçš„é«˜åº¦ï¼Œä»è€Œç¡®å®šæ•´ä¸ªUITableViewçš„å¸ƒå±€ã€‚ç„¶åæ‰è°ƒç”¨â€œ&lt;strong&gt;tableView:cellForRowAtIndexPath&lt;/strong&gt;â€è·å–æ¯ä¸ªCellï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯åœ¨è¿™é‡Œå¡«å……ã€è®¾ç½®Cellçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰€ä»¥ï¼Œæ—¢ç„¶é«˜åº¦æ€»ä¼šè¢«ç”¨åˆ°ï¼Œé‚£å°±æ—©æ—©çš„åœ¨è·å–æ•°æ®æ—¶å°±è®¡ç®—å¥½å§ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;åœ¨Modelï¼ˆEntityï¼‰ä¸­è®¡ç®—å¹¶ä¿å­˜Cellçš„é«˜åº¦&quot;&gt;&lt;a href=&quot;#åœ¨Modelï¼ˆEntityï¼‰ä¸­è®¡ç®—å¹¶ä¿å­˜Cellçš„é«˜åº¦&quot; class=&quot;headerlink&quot; title=&quot;åœ¨Modelï¼ˆEntityï¼‰ä¸­è®¡ç®—å¹¶ä¿å­˜Cellçš„é«˜åº¦&quot;&gt;&lt;/a&gt;åœ¨Modelï¼ˆEntityï¼‰ä¸­è®¡ç®—å¹¶ä¿å­˜Cellçš„é«˜åº¦&lt;/h4&gt;&lt;p&gt;å…¶å®ï¼Œåœ¨Modelï¼ˆEntityï¼‰ä¸­ä¿å­˜UIçš„å‚æ•°æ˜¯å¾ˆå¥‡æ€ªçš„=ã€‚=ï¼ˆæœ€å¥½æ”¾åœ¨ViewModelä¸­ï¼Œå°±æ˜¯MVVMæ¨¡å¼çš„ï¼‰ï¼Œæˆ‘ä»¬çš„Entityå¯èƒ½å°±æ˜¯ä¸‹é¢çš„æ ·å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DataEntity&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åŸå§‹æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *content;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Cell é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; cellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¡ç®—é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)calculateCellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼Œå°±ä¸ç”¨åœ¨â€œ&lt;strong&gt;tableView:heightForRowAtIndexPath:&lt;/strong&gt;â€ä¸­æ¯æ¬¡éƒ½è®¡ç®—äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æå‰åˆ›å»ºçœŸæ­£æ˜¾ç¤ºçš„ã€éœ€è¦åŠ å·¥çš„æ•°æ®å¹¶ç¼“å­˜&quot;&gt;&lt;a href=&quot;#æå‰åˆ›å»ºçœŸæ­£æ˜¾ç¤ºçš„ã€éœ€è¦åŠ å·¥çš„æ•°æ®å¹¶ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;æå‰åˆ›å»ºçœŸæ­£æ˜¾ç¤ºçš„ã€éœ€è¦åŠ å·¥çš„æ•°æ®å¹¶ç¼“å­˜&quot;&gt;&lt;/a&gt;æå‰åˆ›å»ºçœŸæ­£æ˜¾ç¤ºçš„ã€éœ€è¦åŠ å·¥çš„æ•°æ®å¹¶ç¼“å­˜&lt;/h3&gt;&lt;p&gt;Cellä¸­æ˜¾ç¤ºçš„å†…å®¹ï¼Œå¾ˆå¤šæ—¶å€™å¯èƒ½å¹¶ä¸æ˜¯ç›´æ¥ä»æœåŠ¡å™¨æ‹¿åˆ°çš„æ•°æ®ï¼Œè€Œæ˜¯ç»è¿‡â€œåŠ å·¥â€çš„æ•°æ®ã€‚å¦‚æœ¬æ–‡ä¸­çš„â€œåŠ¨æ€â€ä¹Ÿï¼Œæ¯ä¸ªCellçš„æ ‡é¢˜ã€æ­£æ–‡éƒ½æœ‰å¯ç‚¹å‡»çš„è¿æ¥Linkã€è¡¨æƒ…å›¾ç‰‡ç­‰å¯Œæ–‡æœ¬å†…å®¹ï¼Œè€Œæˆ‘ä»¬ä¸€èˆ¬ç”¨NSAttributeStringç±»æ¥æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ¯æ¬¡éƒ½ä¼šç”¨åˆ°ï¼Œå€’ä¸å¦‚åœ¨è·å–åˆ°æ•°æ®çš„æ—¶å€™å°±åˆ›å»ºã€åŠ å·¥å¥½è¿™äº›å†…å®¹ï¼Œç­‰åˆ°éœ€è¦ç°å®çš„æ—¶å€™ï¼Œç›´æ¥æ‹¿æ¥ç”¨ä¸å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„Entityç±»å¯èƒ½å˜æˆä¸‹é¢è¿™ä¸ªæ ·å­:&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DataEntity&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åŸå§‹æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *content;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Cell é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;CGFloat&lt;/span&gt; cellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//çœŸæ­£æ˜¾ç¤ºçš„å†…å®¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSAttributedString&lt;/span&gt; *showTitle;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSAttributedString&lt;/span&gt; *showContent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è®¡ç®—é«˜åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)calculateCellHeight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºã€åŠ å·¥çœŸæ­£æ˜¾ç¤ºçš„å†…å®¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)setupShowTitileAndContent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼Œåœ¨â€œ&lt;strong&gt;tableView:cellForRowAtIndexPath&lt;/strong&gt;â€ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿showTitleã€showContentæ¥æ˜¾ç¤ºå°±å¥½ï¼Œä¸ç”¨å†åˆ›å»ºã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç¼“å­˜View&quot;&gt;&lt;a href=&quot;#ç¼“å­˜View&quot; class=&quot;headerlink&quot; title=&quot;ç¼“å­˜View!&quot;&gt;&lt;/a&gt;ç¼“å­˜View!&lt;/h3&gt;&lt;p&gt;ä»€ä¹ˆï¼Ÿç¼“å­˜Viewï¼Ÿï¼&lt;/p&gt;
&lt;p&gt;æ˜¯çš„ï¼Œå½“Cellä¸­çš„éƒ¨åˆ†Viewæ˜¯éå¸¸ç‹¬ç«‹çš„ï¼Œå¹¶ä¸”ä¸ä¾¿äºé‡ç”¨çš„ï¼Œè€Œä¸”â€œä½“ç§¯â€éå¸¸å°ï¼Œåœ¨å†…å­˜å¯æ§çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å°†è¿™äº›viewç¼“å­˜èµ·æ¥ï¼&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å½“ç„¶ä¹Ÿæ˜¯å°†ç¼“å­˜çš„viewæ”¾åœ¨Entityä¸­~ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…¶å®ƒ&quot;&gt;&lt;a href=&quot;#å…¶å®ƒ&quot; class=&quot;headerlink&quot; title=&quot;å…¶å®ƒ&quot;&gt;&lt;/a&gt;å…¶å®ƒ&lt;/h3&gt;&lt;p&gt;å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–çš„ä¼˜åŒ–æ–¹æ³•ï¼Œç®€å•è¯´ä¸€è¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°½é‡è®¾ç½®Cellçš„viewä¸ºopaqueï¼Œé¿å…GPUå¯¹Cellä¸‹é¢çš„å†…å®¹ä¹Ÿè¿›è¡Œç»˜åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…å¤§é‡çš„å›¾ç‰‡ç¼©æ”¾ã€é¢œè‰²æ¸å˜ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;é¿å…åŒæ­¥çš„ä»ç½‘ç»œã€æ–‡ä»¶è·å–æ•°æ®ï¼ˆè¿™ä¸ªæ˜¯å¿…é¡»çš„=ã€‚=ï¼‰&lt;/li&gt;
&lt;li&gt;ç”¨shadowPathåˆ›å»ºé˜´å½±ã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡å‡å°‘subviewçš„æ•°é‡ï¼Œå¦‚å¤šç”¨drawRectç»˜åˆ¶å…ƒç´ ï¼Œæ›¿ä»£ç”¨viewæ˜¾ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡æ˜¾ç¤ºâ€œ&lt;strong&gt;å¤§å°åˆšå¥½åˆé€‚&lt;/strong&gt;â€çš„å›¾ç‰‡èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼“å­˜ä¸€åˆ‡å¯ä»¥ç¼“å­˜çš„ï¼å°±æ˜¯â€œç”¨ç©ºé—´æ›¿æ¢æ—¶é—´â€ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨UITableViewçš„Delegateã€DataSourceæ–¹æ³•ä¸­ï¼Œå‡å°‘ä»»ä½•ä¸å¿…è¦çš„æ“ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒï¼Œæ¨èé˜…è¯»&quot;&gt;&lt;a href=&quot;#å‚è€ƒï¼Œæ¨èé˜…è¯»&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒï¼Œæ¨èé˜…è¯»&quot;&gt;&lt;/a&gt;å‚è€ƒï¼Œæ¨èé˜…è¯»&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.raywenderlich.com/31166/25-ios-app-performance-tips-tricks#tableviews&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;25 iOS App Performance Tips &amp;amp; Tricks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/1352479/tricks-for-improving-iphone-uitableview-scrolling-performance&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tricks for improving iPhone UITableView scrolling performance?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/6172158/how-can-i-speed-up-a-uitableview&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How can I speed up a UITableView?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;éšç€Appçš„ç”¨æˆ·ç•Œé¢çš„å†…å®¹è¶Šæ¥è¶Šä¸°å¯Œï¼Œå†å¼ºçš„æ‰‹æœºå¯èƒ½éƒ½æ— æ³•åŒæ—¶æ¸²æŸ“å¤æ‚çš„UIç•Œé¢å’Œä¿è¯æµç•…çš„ä½“éªŒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™äº›ç¨‹åºçŒ¿=ã€‚=åœ¨å†™ä»£ç çš„æ—¶å€™å°±è¦æ³¨æ„ï¼Œå¦‚ä½•å°½å¯èƒ½æé«˜ç”¨æˆ·çš„æ“ä½œæµç•…æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰çš„åšçš„é¡¹ç›®ï¼Œ&lt;a href=&quot;https://itunes.apple.com/us/app/qing-ju-yin-le-quan-guo-zui/id913235479?l=zh&amp;amp;ls=1&amp;amp;mt=8&quot;&gt;é’æ¡”éŸ³ä¹iOSå®¢æˆ·ç«¯&lt;/a&gt;é‡Œé¢çš„é¦–é¡µå°±æ˜¯ä¸€ä¸ªç±»ä¼¼å¾®ä¿¡æœ‹å‹åœˆçš„â€œåŠ¨æ€â€é¡µé¢ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_speed_up_uitableview_1_1.png?imageView2/0/h/300&quot; alt=&quot;é’æ¡”åŠ¨æ€é¡µé¢&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½ ï¼Œä½ ä¼šæ€ä¹ˆå®ç°è¿™ä¸ªé¡µé¢å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™è¿˜ç”¨é—®ï¼Œå½“ç„¶æ˜¯ç”¨UITableView+è‡ªå®šä¹‰çš„UITableViewCellã€‚&lt;/p&gt;
&lt;p&gt;UITableViewæ˜¯å¯ä»¥æ»‘åŠ¨çš„ï¼Œä¸ºäº†ä¸è®©ç”¨æˆ·åœ¨æ»‘åŠ¨ä¸­æ„Ÿåˆ°æœ‰å¡é¡¿ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿä¸‹é¢ï¼Œæˆ‘å°±å†™ä¸€ä¸‹æˆ‘è‡ªå·±åœ¨åšé¡¹ç›®æ—¶çš„â€œç»éªŒâ€~&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="æ€§èƒ½" scheme="http://tutuge.me/tags/%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>NSStringçš„Copyä¸å†…å­˜åˆ†é…</title>
    <link href="http://tutuge.me/2015/02/18/NSString%E7%9A%84Copy%E4%B8%8E%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"/>
    <id>http://tutuge.me/2015/02/18/NSStringçš„Copyä¸å†…å­˜åˆ†é…/</id>
    <published>2015-02-18T09:00:47.000Z</published>
    <updated>2016-03-20T09:03:45.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸ç®¡æ˜¯ç”¨ä»€ä¹ˆè¯­è¨€å¼€å‘ï¼Œå­—ç¬¦ä¸²åº”è¯¥ç®—æ˜¯ç”¨çš„æœ€å¤šçš„äº†ã€‚åœ¨Objective-Cä¸­ï¼Œå­—ç¬¦ä¸²ç±»æ˜¯NSStringï¼Œä»¥åŠå…¶å­ç±»NSMutableStringç­‰ã€‚æ‰€ä»¥ï¼Œå¯¹äºå­—ç¬¦ä¸²ç±»ï¼Œç¼–ç¨‹è¯­è¨€ã€ç¼–è¯‘å™¨ç­‰å¾€å¾€ä¼šåšç‰¹æ®Šå¤„ç†ã€‚ä¸‹é¢æˆ‘å°±è¯´è¯´æˆ‘è‡ªå·±åœ¨é¡¹ç›®ä¸­å‘ç°çš„NSStringçš„â€œå¥‡æ€ªâ€çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å­—ç¬¦ä¸²å¸¸é‡ï¼Œcopyï¼ŒmutableCopy&quot;&gt;&lt;a href=&quot;#å­—ç¬¦ä¸²å¸¸é‡ï¼Œcopyï¼ŒmutableCopy&quot; class=&quot;headerlink&quot; title=&quot;å­—ç¬¦ä¸²å¸¸é‡ï¼Œcopyï¼ŒmutableCopy&quot;&gt;&lt;/a&gt;å­—ç¬¦ä¸²å¸¸é‡ï¼Œcopyï¼ŒmutableCopy&lt;/h2&gt;&lt;h3 id=&quot;Example&quot;&gt;&lt;a href=&quot;#Example&quot; class=&quot;headerlink&quot; title=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;&lt;p&gt;å…ˆçœ‹çœ‹å¦‚ä¸‹é¢çš„ä»£ç ï¼ŒçŒœçŒœä¼šè¾“å‡ºä»€ä¹ˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *str1 = &lt;span class=&quot;string&quot;&gt;@&quot;abc&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *str2 = &lt;span class=&quot;string&quot;&gt;@&quot;abc&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *str3 = [[&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; alloc] initWithString:&lt;span class=&quot;string&quot;&gt;@&quot;abc&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *str4 = [str1 &lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *str5 = [str1 mutableCopy];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¾“å‡ºå†…å­˜ä¸­çš„åœ°å€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;str1: %p&quot;&lt;/span&gt;, str1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;str2: %p&quot;&lt;/span&gt;, str2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;str3: %p&quot;&lt;/span&gt;, str3);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;str4: %p&quot;&lt;/span&gt;, str4);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;str5: %p&quot;&lt;/span&gt;, str5);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç›´æ¥ç»™å‡ºç»“æœï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åœ°å€å€¼ç”±è¿è¡Œæ—¶å†³å®šï¼Œä¸å”¯ä¸€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;str1:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0x10cd12040&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;str2:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0x10cd12040&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;str3:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0x10cd12040&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;str4:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0x10cd12040&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;str5:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0x7f874b508350&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;//mutable copy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ˜¯ä¸æ˜¯å¾ˆâ€œç¥å¥‡â€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç®€å•è§£é‡Š&quot;&gt;&lt;a href=&quot;#ç®€å•è§£é‡Š&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•è§£é‡Š&quot;&gt;&lt;/a&gt;ç®€å•è§£é‡Š&lt;/h3&gt;&lt;p&gt;NSStringæ˜¯â€œä¸å¯å˜ï¼ˆimmutableï¼‰â€çš„ç±»å‹ï¼Œè¿™ä¸ªæ˜¯å…³é”®ã€‚&lt;br&gt;ä»£ç ä¸­çš„â€œ@â€å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼Œè¿è¡Œæ—¶ä¼šæ£€æµ‹è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯ï¼Œå°±ç›´æ¥å°†è¿™ä¸ªå­—ç¬¦ä¸²çš„åœ°å€èµ‹ç»™å˜é‡ï¼›ä¸å­˜åœ¨çš„è¯ï¼Œåˆ™åˆ›å»ºï¼Œå†èµ‹å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€è¡Œ&lt;/strong&gt;: â€œabcâ€å­—ç¬¦ä¸²ä¸å­˜åœ¨ï¼Œåˆ›å»ºï¼Œå–å¾—å­—ç¬¦ä¸²åœ°å€â€œ0x10cd12040â€ï¼Œèµ‹ç»™str1.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äºŒè¡Œ&lt;/strong&gt;: â€œabcâ€å­—ç¬¦ä¸²å·²ç»å­˜åœ¨ï¼Œç›´æ¥å°†åœ°å€â€œ0x10cd12040â€èµ‹ç»™str2.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸‰è¡Œ&lt;/strong&gt;: ï¼ˆè®°ä½ï¼ŒNSStringæ˜¯ä¸å¯å˜çš„ï¼‰allocå¹¶ä¸ä¼šåˆ†é…æ–°çš„å†…å­˜ï¼Œç›´æ¥å°†å­—ç¬¦ä¸²åœ°å€â€œ0x10cd12040â€èµ‹ç»™str3.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬å››è¡Œ&lt;/strong&gt;: copyï¼Œæ—¢ç„¶æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦åˆ†é…æ–°å†…å­˜ï¼Œç›´æ¥å°†åœ°å€â€œ0x10cd12040â€èµ‹ç»™str4.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äº”è¡Œ&lt;/strong&gt;: mutableCopyå…¶å®å°±æ˜¯åˆ›å»ºä¸€ä¸ªNSMutableStringçš„å®ä¾‹ï¼Œæ—¢ç„¶æ˜¯â€œå¯å˜ï¼ˆmutableï¼‰â€çš„ç±»å‹äº†ï¼Œå½“ç„¶è¦åˆ†é…æ–°çš„å†…å­˜ï¼Œæ‰€ä»¥ï¼Œå­—ç¬¦ä¸²çš„åœ°å€ä¹Ÿå˜æˆæ–°çš„â€œ0x7f874b508350â€ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥è¿™ä¹ˆè¯´ï¼Œç¼–è¯‘å™¨ã€runtimeå……åˆ†åˆ©ç”¨äº†NSStringæ˜¯â€œ&lt;strong&gt;ä¸å¯å˜ï¼ˆimmutableï¼‰&lt;/strong&gt;â€ç±»å‹è¿™ä¸ªç‰¹ç‚¹ï¼Œåªè¦å­—ç¬¦ä¸²å†…å®¹ä¸€è‡´ï¼Œå°±ä¸ä¼šåˆ†é…æ–°çš„å†…å­˜å‚¨å­˜ï¼Œå­—ç¬¦ä¸²åœ¨ç¨‹åºä¸­ä½¿ç”¨é‡éå¸¸å¤§ï¼Œè¿™ä¹ˆåšæ— ç–‘å¯ä»¥å¤§å¤§èŠ‚çœå†…å­˜ï¼Œæå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Property-å’Œ-NSString&quot;&gt;&lt;a href=&quot;#Property-å’Œ-NSString&quot; class=&quot;headerlink&quot; title=&quot;Property å’Œ NSString&quot;&gt;&lt;/a&gt;Property å’Œ NSString&lt;/h2&gt;&lt;p&gt;å…ˆæ¥çœ‹çœ‹ä¸€ä¸ªUserEntityç±»ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//UserEntity.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;UserEntity &lt;/span&gt;: NSObject &amp;lt;NSCopying&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSString *name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åªæœ‰ä¸€ä¸ªåä¸ºnameçš„NSStringç±»å‹Propertyã€‚&lt;br&gt;ç›¸ä¿¡å¤§å®¶å¯¹è¿™ä¸ªä¸é™Œç”Ÿå§ã€‚ä¸€èˆ¬æˆ‘ä»¬çš„åº”ç”¨ä¸­ä¼šæœ‰å¾ˆå¤šEntityç±»å‹ï¼Œæ¯ä¸ªEntityç±»é‡Œé¢è‚¯å®šé¿å…ä¸äº†æœ‰è®¸å¤šNSStringçš„å­—ç¬¦ä¸²ç±»å‹ã€‚è¿™é‡Œçš„nameçš„å±æ€§æ˜¯ï¼šstrongå’Œnonatomicï¼Œstrongè¡¨æ˜nameè¦â€œæŒæœ‰â€ä¸€ä»½nameæ‰€æŒ‡çš„å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼Œnonatomicè¡¨ç¤ºpropertyç±»å‹ä¸ç”¨åŠ é”ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€å’±ä»¬çœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UserEntity *userEntity = [UserEntity new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ›å»ºmutableç±»å‹çš„å­—ç¬¦ä¸²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSMutableString *showName = [[NSMutableString &lt;span class=&quot;keyword&quot;&gt;alloc&lt;/span&gt;] initWithString:@&lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å…ˆä¿å­˜â€œtutugeâ€å­—ç¬¦ä¸²åˆ°userEntityçš„name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;userEntity.name = showName&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¿®æ”¹showName&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[showName appendString:@&lt;span class=&quot;string&quot;&gt;&quot; blog&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¾“å‡ºuserEntityçš„nameå±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Name: %@&quot;&lt;/span&gt;, userEntity.name)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çŒœçŒœä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;figure class=&quot;highlight avrasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Name:&lt;/span&gt; tutuge blog&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæˆ‘ä»¬æ˜æ˜æ˜¯ä¿å­˜çš„â€œtutugeâ€ï¼Œæ€ä¹ˆåˆ°åé¢è¾“å‡ºçš„æ˜¯â€œtutuge blogâ€ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&quot;è®©NSStringç±»å‹çš„Propertyä¸ºCopyå‹&quot;&gt;&lt;a href=&quot;#è®©NSStringç±»å‹çš„Propertyä¸ºCopyå‹&quot; class=&quot;headerlink&quot; title=&quot;è®©NSStringç±»å‹çš„Propertyä¸ºCopyå‹&quot;&gt;&lt;/a&gt;è®©NSStringç±»å‹çš„Propertyä¸ºCopyå‹&lt;/h3&gt;&lt;p&gt;å› ä¸ºnameçš„Propertyå±æ€§æ˜¯strongçš„ï¼Œæ‰€ä»¥èµ‹å€¼åï¼Œå®ƒè·ŸshowNameå‡æŒ‡å‘åŒä¸€ä¸ªNSMutableStringå®ä¾‹ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_nsstring_copy_1_1.jpg&quot; alt=&quot;å†…å­˜ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ”¹å˜äº†showNameï¼Œå½“ç„¶nameè¾“å‡ºçš„å€¼ä¹Ÿå°±å˜äº†ã€‚&lt;br&gt;è¿™ä¸ªæ—¶å€™ï¼Œnameçš„propertyå±æ€§å°±ä¸èƒ½æ˜¯strongäº†ï¼Œåº”è¯¥æ˜¯copyï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//UserEntity.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;attribute&quot;&gt;UserEntity &lt;/span&gt;: NSObject &amp;lt;NSCopying&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(copy, nonatomic) NSString *name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·çš„è¯ï¼Œå½“â€œ&lt;strong&gt;userEntity.name = showName;&lt;/strong&gt;â€è¿™å¥è¿è¡Œåï¼Œå†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_nsstring_copy_1_2.jpg&quot; alt=&quot;å†…å­˜ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œå°±é¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¾ˆæ‰€æ—¶å€™ï¼Œä»£ç å¹¶ä¸æ˜¯çœ‹ä¸Šå»é‚£æ ·â€œè¿è¡Œâ€çš„ï¼Œå¤šè¯•è¯•ï¼Œå¤šæŸ¥é˜…èµ„æ–™ï¼Œå°±èƒ½äº†è§£å…¶ä¸­çš„å¥¥ç§˜äº†~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸ç®¡æ˜¯ç”¨ä»€ä¹ˆè¯­è¨€å¼€å‘ï¼Œå­—ç¬¦ä¸²åº”è¯¥ç®—æ˜¯ç”¨çš„æœ€å¤šçš„äº†ã€‚åœ¨Objective-Cä¸­ï¼Œå­—ç¬¦ä¸²ç±»æ˜¯NSStringï¼Œä»¥åŠå…¶å­ç±»NSMutableStringç­‰ã€‚æ‰€ä»¥ï¼Œå¯¹äºå­—ç¬¦ä¸²ç±»ï¼Œç¼–ç¨‹è¯­è¨€ã€ç¼–è¯‘å™¨ç­‰å¾€å¾€ä¼šåšç‰¹æ®Šå¤„ç†ã€‚ä¸‹é¢æˆ‘å°±è¯´è¯´æˆ‘è‡ªå·±åœ¨é¡¹ç›®ä¸­å‘ç°çš„NSStringçš„â€œå¥‡æ€ªâ€çš„åœ°æ–¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨NSProxyå®ç°æ¶ˆæ¯è½¬å‘-æ¨¡å—åŒ–çš„ç½‘ç»œæ¥å£å±‚è®¾è®¡-åŸåˆ›</title>
    <link href="http://tutuge.me/2015/02/16/%E5%88%A9%E7%94%A8NSProxy%E5%AE%9E%E7%8E%B0%E6%B6%88%E6%81%AF%E8%BD%AC%E5%8F%91-%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E5%B1%82%E8%AE%BE%E8%AE%A1-%E5%8E%9F%E5%88%9B/"/>
    <id>http://tutuge.me/2015/02/16/åˆ©ç”¨NSProxyå®ç°æ¶ˆæ¯è½¬å‘-æ¨¡å—åŒ–çš„ç½‘ç»œæ¥å£å±‚è®¾è®¡-åŸåˆ›/</id>
    <published>2015-02-16T10:52:08.000Z</published>
    <updated>2016-03-20T09:04:05.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2015-12-21: å…¶å®ç”¨CategoryæŒ‰ç…§ä¸šåŠ¡æ‹†åˆ†ç½‘ç»œè¯·æ±‚æ¥å£çš„ä»£ç ä¹Ÿæ˜¯éå¸¸æ£’çš„ï¼Œç›®å‰æˆ‘è‡ªå·±å°±æ˜¯è¿™ä¹ˆåšçš„=ã€‚=ï¼Œæ–‡ç« å°±å½“åšç†Ÿæ‚‰ä¸‹NSProxyå§~&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œæ‰€æœ‰ä¸šåŠ¡çš„ç½‘ç»œæ¥å£æ–¹æ³•ï¼Œå…¨éƒ¨éƒ½å†™åœ¨äº†ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œä¸€å¼€å§‹è¿˜å¥½ï¼Œæ¯•ç«Ÿæ¯ä¸ªæ–¹æ³•çš„ä»£ç ä¹Ÿåªæ˜¯åå‡ è¡Œï¼Œå¢åŠ ã€ä¿®æ”¹ä¹Ÿæ¯”è¾ƒå®¹æ˜“ã€‚ä½†æ˜¯éšç€æ¥å£çš„å¢å¤šï¼Œè¿™ä¸ªæ–‡ä»¶æ…¢æ…¢å±…ç„¶è¶…è¿‡äº†1000è¡Œï¼Œé‡Œé¢å‡ åä¸ªæ–¹æ³•éƒ½å†™åœ¨ä¸€èµ·ï¼Œå®åœ¨æ˜¯ä¸å¥½ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ä¿æŒè¿™æ ·ä¹Ÿæ²¡æœ‰ä»€ä¹ˆï¼Œå¤šç”¨ç”¨Cmd+Få°±èƒ½æ‰¾åˆ°ã€‚ä½†æ˜¯ï¼ŒçœŸæ˜¯è¶Šçœ‹è¶Šä¸é¡ºçœ¼ğŸ˜³ï¼Œ ä»£ç ä¸€å®šè¦æœ‰â€œç¾æ„Ÿâ€å•Š~ğŸ˜&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æŸ¥é˜…äº†å¤§é‡æ–‡ç« åï¼Œç»ˆäºæƒ³å‡ºäº†æœ¬æ–‡å³å°†è¯´æ˜çš„åŠæ³•ï¼Œè¶Šå‘è§‰å¾—Objective-Cçš„â€œæ¶ˆæ¯â€æœºåˆ¶æ˜¯å¤šä¹ˆçš„èµ~ğŸ˜š&lt;/p&gt;
&lt;h2 id=&quot;Github-ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#Github-ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;Github ç¤ºä¾‹&quot;&gt;&lt;/a&gt;Github ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;è´´ä¸Šæœ¬æ–‡ä¸­çš„ç¤ºä¾‹å·¥ç¨‹ï¼š&lt;a href=&quot;https://github.com/zekunyan/HttpProxyExample&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/zekunyan/HttpProxyExample&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;å…ˆæŠ›å‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¾äº’è”ç½‘åº”ç”¨ï¼Œå…ä¸äº†è¦è·ŸæœåŠ¡å™¨æ‰“äº¤é“ï¼Œåœ¨iOSé¡¹ç›®ä¸­ï¼Œæœ€æœ‰åçš„ç½‘ç»œåº“åº”è¯¥å°±æ˜¯&lt;a href=&quot;https://github.com/AFNetworking/AFNetworking&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AFNetworking&lt;/a&gt;äº†ã€‚æ‰€ä»¥ï¼Œå¾ˆå¤šäººå°±ä¼šåˆ©ç”¨AFnetworkingæä¾›çš„Getã€Postç­‰åŸºæœ¬Httpè¯·æ±‚æ¥å£ï¼Œå°è£…è‡ªå·±çš„ç½‘ç»œæ¥å£å±‚ä»£ç ï¼Œæˆ‘è‡ªå·±åœ¨é¡¹ç›®ä¸­ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼ŒAFNetworkingåªæ˜¯æä¾›äº†Getã€Postã€Jsonä¼ è¾“ç­‰åŸºæœ¬çš„Httpè¯·æ±‚æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€æ—¦è½å®åˆ°å…·ä½“çš„ä¸šåŠ¡ç›¸å…³çš„è¯·æ±‚ä¸Šï¼Œæˆ‘ä»¬è¦ä¸ºæ¯ä¸ªè¯·æ±‚ï¼ˆURLï¼‰éƒ½å†™ä¸€ä¸ªå•ç‹¬çš„æ¥å£æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆï¼Œé—®é¢˜å°±æ¥äº†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸šåŠ¡ç›¸å…³çš„æ¥å£é‚£ä¹ˆå¤šï¼Œä¸¾ä¸ªä¾‹å­ï¼Œä»€ä¹ˆâ€œé€šè¿‡ç”¨æˆ·IDè·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯â€ã€â€œè·å–ç”¨æˆ·çš„æ‰€æœ‰è¯„è®ºâ€ç­‰ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¹ˆå¤šæ–¹æ³•è¯¥æ€ä¹ˆç»„ç»‡å‘¢ï¼Ÿå…¨éƒ¨æ”¾åœ¨ä¸€èµ·ï¼Ÿé‚£è¿™ä¸ªæ¥å£ç±»å²‚ä¸æ˜¯ä¼šéå¸¸ä¹±ï¼Ÿä¸æ”¾åœ¨ä¸€èµ·ï¼Ÿé‚£å²‚ä¸æ˜¯ä¼šæœ‰å¾ˆå¤šä¸ªç½‘ç»œè¯·æ±‚ç±»ï¼Ÿ(è‡³äºè¦ä¸è¦ç»Ÿä¸€æ¥å£å…¥å£ï¼Œæˆ‘æƒ³è¿™ä¸ªæ ¹æ®é¡¹ç›®æ¥å†³å®šå§=ã€‚=)&lt;/p&gt;
&lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰ç½‘ç»œæ¥å£éƒ½ä»ç»Ÿä¸€çš„ç±»è°ƒç”¨ï¼Œå¦‚HttpProxyã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ¥å£çš„å…·ä½“å®ç°ï¼ŒæŒ‰ç…§ä¸šåŠ¡åˆ’åˆ†åˆ°ä¸åŒçš„ç±»ä¸­ï¼Œå¦‚â€œ&lt;strong&gt;UserHttpHandler&lt;/strong&gt;â€ã€â€œ&lt;strong&gt;CommentHttpHandler&lt;/strong&gt;â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶å®ï¼ŒæŒ‰ç…§é¢å‘å¯¹è±¡çš„åŸåˆ™ï¼Œå°±æ˜¯æ¥å£ä»£ç†ç±»&lt;strong&gt;HttpProxy&lt;/strong&gt;æ‹¥æœ‰è‹¥å¹²ä¸ªæŒ‰ç…§ä¸šåŠ¡åˆ’åˆ†çš„æ¥å£ï¼ˆInterfaceï¼‰ï¼Œè¿™äº›æ¥å£çš„æ‰€æœ‰æ–¹æ³•ç»„æˆäº†ç½‘ç»œå±‚çš„ä¸åŒçš„Httpè¯·æ±‚ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_http_proxy_1_1.jpg&quot; alt=&quot;è¯·æ±‚ç¤ºæ„å›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œè°ƒç”¨çš„æ—¶å€™ï¼Œæ‰€æœ‰æ¥å£éƒ½ç”¨HttpProxyè°ƒç”¨ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®é™…è°ƒç”¨çš„æ˜¯UserHttpHandlerç±»çš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;getUserWithID&lt;/span&gt;:@&lt;span class=&quot;selector-tag&quot;&gt;100&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å®é™…è°ƒç”¨çš„æ˜¯CommentHttpHandlerç±»çš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;getCommentsWithDate&lt;/span&gt;:&lt;span class=&quot;selector-tag&quot;&gt;date&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å…³é”®&quot;&gt;&lt;a href=&quot;#å…³é”®&quot; class=&quot;headerlink&quot; title=&quot;å…³é”®&quot;&gt;&lt;/a&gt;å…³é”®&lt;/h2&gt;&lt;p&gt;æ ¹æ®å‰é¢çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œå…³é”®å°±æ˜¯ï¼š&lt;strong&gt;æ¶ˆæ¯è½¬å‘ï¼ˆMessage Forwardï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Objective-Cé‡Œé¢æ²¡æœ‰æˆ‘ä»¬ä¼ ç»Ÿçš„â€œæ–¹æ³•è°ƒç”¨â€ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯â€œæ¶ˆæ¯â€ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯é€šè¿‡å‘å¯¹è±¡å‘é€â€œæ¶ˆæ¯â€å®ç°è°ƒç”¨çš„ã€‚è€Œè¿™ä¸ªæœºåˆ¶ï¼Œä¹Ÿå°±ä¸ºæˆ‘ä»¬çš„å®ç°æä¾›äº†æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼šæˆ‘ä»¬è¦å°†å‘ç»™â€œ&lt;strong&gt;HttpProxy&lt;/strong&gt;â€çš„æ¶ˆæ¯ï¼Œè®©HttpProxyè½¬å‘ç»™çœŸæ­£èƒ½æ¥å—è¿™ä¸ªæ¶ˆæ¯çš„å¯¹è±¡ï¼ŒHttpProxyå°±æ˜¯ä¸ª&lt;strong&gt;ä»£ç†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è‹¹æœå·²ç»ç»™æˆ‘ä»¬æä¾›äº†è¿™ä¸ªâ€œä»£ç†â€ç±»äº†-NSProxyã€‚&lt;/p&gt;
&lt;h2 id=&quot;NSProxy&quot;&gt;&lt;a href=&quot;#NSProxy&quot; class=&quot;headerlink&quot; title=&quot;NSProxy&quot;&gt;&lt;/a&gt;NSProxy&lt;/h2&gt;&lt;p&gt;ä»€ä¹ˆæ˜¯NSProxyï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NSProxyæ²¡æœ‰çˆ¶ç±»ï¼Œæ˜¯é¡¶çº§ç±»(æ ¹ç±»)ï¼Œè·ŸNSObjectåŒç­‰åœ°ä½ã€‚&lt;/li&gt;
&lt;li&gt;NSProxyå’ŒNSObjectéƒ½å®ç°äº†â€œ&lt;strong&gt;NSObject&lt;/strong&gt; Protocolâ€ã€‚&lt;/li&gt;
&lt;li&gt;NSProxyè®¾è®¡æ—¶å°±æ˜¯ä»¥â€œæŠ½è±¡ç±»â€è®¾è®¡çš„ï¼Œä¸“é—¨ä¸º&lt;strong&gt;è½¬å‘æ¶ˆæ¯&lt;/strong&gt;è€Œç”Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ç°è¦æ±‚:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»§æ‰¿NSProxyçš„å­ç±»è¦å®ç°è‡ªå·±çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¦‚â€œinitâ€ã€â€œinitWithâ€ã€‚&lt;/li&gt;
&lt;li&gt;é‡å†™&lt;code&gt;- forwardInvocation:&lt;/code&gt;å’Œ&lt;code&gt;- methodSignatureForSelector:&lt;/code&gt;æ–¹æ³•ï¼Œå®Œæˆæ¶ˆæ¯è½¬å‘ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¯¦ç»†å†…å®¹å‚è€ƒAppleçš„&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSProxy_Class/index.html#//apple_ref/occ/instm/NSProxy/forwardInvocation:&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°&quot;&gt;&lt;a href=&quot;#å®ç°&quot; class=&quot;headerlink&quot; title=&quot;å®ç°&quot;&gt;&lt;/a&gt;å®ç°&lt;/h2&gt;&lt;h3 id=&quot;å®šä¹‰&quot;&gt;&lt;a href=&quot;#å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;å®šä¹‰&quot;&gt;&lt;/a&gt;å®šä¹‰&lt;/h3&gt;&lt;p&gt;å…ˆä¸ç®¡HttpProxyï¼Œå’±ä»¬çœ‹çœ‹å…·ä½“çš„æ¥å£ï¼Œå…ˆä¸¾ä¸¤ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//UserHttpHandler.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ç”¨æˆ·ç›¸å…³æ¥å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@protocol&lt;/span&gt; UserHttpHandler &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)&lt;span class=&quot;attribute&quot;&gt;getUserWithID&lt;/span&gt;:(NSNumber *)userID;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//CommentHttpHandler.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¯„è®ºç›¸å…³æ¥å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@protocol&lt;/span&gt; CommentHttpHandler &amp;lt;NSObject&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)&lt;span class=&quot;attribute&quot;&gt;getCommentsWithDate&lt;/span&gt;:(NSDate *)date;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¥½çš„ï¼Œæ¥å£æœ‰äº†ï¼Œæˆ‘ä»¬çš„HttpProxyç±»åº”è¯¥â€œå®ç°â€äº†è¿™ä¸¤ä¸ªæ¥å£ã€‚&lt;br&gt;ç„¶åï¼Œæœ€å¥½æ˜¯å•ä¾‹ç±»ï¼Œæ‰€ä»¥è¿˜è¦æœ‰ä¸ªè·å–å•ä¾‹çš„æ–¹æ³•ã€‚&lt;br&gt;æœ€åï¼Œè¿˜éœ€è¦ä¸€ä¸ªå‘HttpProxyæ³¨å†Œå…·ä½“å®ç°äº†æ¥å£Protocolçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒHttpProxyåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//HttpProxy.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//1. ç»§æ‰¿äº†NSproxyã€‚ 2. â€œå®ç°â€äº†ç½‘ç»œæ¥å£Protocol&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;HttpProxy :&lt;/span&gt; NSProxy &amp;lt;UserHttpHandler, CommentHttpHandler&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è·å–å•ä¾‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+ (instancetype)sharedInstance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ³¨å†Œå…·ä½“å®ç°ç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;registerHttpProtocol:&lt;/span&gt;(Protocol *)httpProtocol &lt;span class=&quot;string&quot;&gt;handler:&lt;/span&gt;(id)handler;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ‰¾åˆ°æ¶ˆæ¯å¯¹åº”çš„å®ç°ç±»å¯¹è±¡&quot;&gt;&lt;a href=&quot;#æ‰¾åˆ°æ¶ˆæ¯å¯¹åº”çš„å®ç°ç±»å¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;æ‰¾åˆ°æ¶ˆæ¯å¯¹åº”çš„å®ç°ç±»å¯¹è±¡&quot;&gt;&lt;/a&gt;æ‰¾åˆ°æ¶ˆæ¯å¯¹åº”çš„å®ç°ç±»å¯¹è±¡&lt;/h3&gt;&lt;p&gt;å¦‚ä½•åœ¨HttpProxyåšæ¶ˆæ¯è½¬å‘æ—¶ï¼Œæ‰¾åˆ°æŸä¸ªæ¶ˆæ¯å¯¹åº”çš„çœŸæ­£çš„å®ç°ç±»å¯¹è±¡å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ€å¥½çš„åŠæ³•å°±æ˜¯ä¿å­˜æ¯ä¸ªæ¥å£æ–¹æ³•åˆ°å…¶å®ç°ç±»å¯¹è±¡çš„æ˜ å°„ï¼Œå¯ä»¥ç”¨Dictionaryä¿å­˜ï¼Œå…³ç³»å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_http_proxy_1_2.jpg&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œ&lt;code&gt;registerHttpProtocol:handler:&lt;/code&gt;æ–¹æ³•çš„èŒè´£å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éå†Protocolçš„æ‰€æœ‰æ–¹æ³•ï¼ˆåˆ©ç”¨Objective-Cçš„&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Runtime&lt;/a&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¿å­˜Protocolæ‰€æœ‰æ–¹æ³•åˆ°å®ç°ç±»çš„å¯¹è±¡çš„æ˜ å°„å…³ç³»ã€‚ï¼ˆç”¨æ–¹æ³•çš„å­—ç¬¦ä¸²è¡¨ç¤ºä½œä¸ºkeyï¼Œå®ç°ç±»å¯¹è±¡ä¸ºvalueï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒHttpProxyåº”è¯¥æŒæœ‰ä¸€ä¸ªDictionaryçš„å®ä¾‹ï¼Œç”¨äºä¿å­˜æ˜ å°„å…³ç³»ï¼ŒHttpProxyçš„å®ç°éƒ¨åˆ†å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//HttpProxy.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@interface&lt;/span&gt; HttpProxy ()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¿å­˜æ˜ å°„å…³ç³»çš„å­—å…¸ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@property&lt;/span&gt;(strong, nonatomic) NSMutableDictionary *selToHandlerMap;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨å†Œæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight nimrod&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;built_in&quot;&gt;void&lt;/span&gt;)registerHttpProtocol:(&lt;span class=&quot;type&quot;&gt;Protocol&lt;/span&gt; *)httpProtocol handler:(id)handler &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    unsigned &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; numberOfMethods = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //è·å–&lt;span class=&quot;type&quot;&gt;Protocol&lt;/span&gt;çš„æ‰€æœ‰æ–¹æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    struct objc_method_description *methods = protocol_copyMethodDescriptionList(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            httpProtocol, &lt;span class=&quot;type&quot;&gt;YES&lt;/span&gt;, &lt;span class=&quot;type&quot;&gt;YES&lt;/span&gt;, &amp;amp;numberOfMethods);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //ä¸º&lt;span class=&quot;type&quot;&gt;Protocol&lt;/span&gt;çš„æ¯ä¸ªæ–¹æ³•æ³¨å†ŒçœŸæ­£çš„å®ç°ç±»å¯¹è±¡handler&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (unsigned &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; numberOfMethods; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        struct objc_method_description &lt;span class=&quot;keyword&quot;&gt;method&lt;/span&gt; = methods[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [_selToHandlerMap setValue:handler forKey:&lt;span class=&quot;type&quot;&gt;NSStringFromSelector&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;method&lt;/span&gt;.name)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å®ç°æ¶ˆæ¯çš„è½¬å‘&quot;&gt;&lt;a href=&quot;#å®ç°æ¶ˆæ¯çš„è½¬å‘&quot; class=&quot;headerlink&quot; title=&quot;å®ç°æ¶ˆæ¯çš„è½¬å‘&quot;&gt;&lt;/a&gt;å®ç°æ¶ˆæ¯çš„è½¬å‘&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬å·²ç»å¯ä»¥æ³¨å†Œæ¥å£ã€ä¿å­˜æ˜ å°„å…³ç³»äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯é‡å†™NSProxyçš„ä¸¤ä¸ªæ–¹æ³•ï¼Œä»¥å®ç°æ¶ˆæ¯çš„è½¬å‘ï¼Œè‡³äºè¿™ä¸¤ä¸ªæ–¹æ³•å…·ä½“ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œè¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//HttpProxy.m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è·å–Method signature&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (NSMethodSignature *)&lt;span class=&quot;string&quot;&gt;methodSignatureForSelector:&lt;/span&gt;(SEL)sel &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è·å–methodçš„å­—ç¬¦ä¸²è¡¨ç¤º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *methodsName = NSStringFromSelector(sel);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//æŸ¥æ‰¾å¯¹åº”å®ç°ç±»å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    id handler = [_selToHandlerMap &lt;span class=&quot;string&quot;&gt;valueForKey:&lt;/span&gt;methodsName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å†æ¬¡æ£€æŸ¥handleræ˜¯å¦å¯ä»¥ç›¸åº”æ­¤æ¶ˆæ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (handler != nil &amp;amp;&amp;amp; [handler &lt;span class=&quot;string&quot;&gt;respondsToSelector:&lt;/span&gt;sel]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [handler &lt;span class=&quot;string&quot;&gt;methodSignatureForSelector:&lt;/span&gt;sel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;methodSignatureForSelector:&lt;/span&gt;sel];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è½¬å‘æ–¹æ³•æ¶ˆæ¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;span class=&quot;string&quot;&gt;forwardInvocation:&lt;/span&gt;(NSInvocation *)invocation &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *methodsName = NSStringFromSelector(invocation.selector);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    id handler = [_selToHandlerMap &lt;span class=&quot;string&quot;&gt;valueForKey:&lt;/span&gt;methodsName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (handler != nil &amp;amp;&amp;amp; [handler &lt;span class=&quot;string&quot;&gt;respondsToSelector:&lt;/span&gt;invocation.selector]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [invocation &lt;span class=&quot;string&quot;&gt;invokeWithTarget:&lt;/span&gt;handler];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [&lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;forwardInvocation:&lt;/span&gt;invocation];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Example&quot;&gt;&lt;a href=&quot;#Example&quot; class=&quot;headerlink&quot; title=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h2&gt;&lt;p&gt;çœ‹çœ‹å¦‚ä½•ä½¿ç”¨HttpProxyï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆå§‹åŒ–ï¼Œæ³¨å†ŒProtocolå¯¹åº”çš„å®ç°ç±»å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;registerHttpProtocol&lt;/span&gt;:@&lt;span class=&quot;selector-tag&quot;&gt;protocol&lt;/span&gt;(UserHttpHandler) &lt;span class=&quot;selector-tag&quot;&gt;handler&lt;/span&gt;:&lt;span class=&quot;selector-attr&quot;&gt;[UserHttpHandlerImp new]&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;registerHttpProtocol&lt;/span&gt;:@&lt;span class=&quot;selector-tag&quot;&gt;protocol&lt;/span&gt;(CommentHttpHandler) &lt;span class=&quot;selector-tag&quot;&gt;handler&lt;/span&gt;:&lt;span class=&quot;selector-attr&quot;&gt;[CommentHttpHandlerImp new]&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è°ƒç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;getUserWithID&lt;/span&gt;:@&lt;span class=&quot;selector-tag&quot;&gt;100&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-attr&quot;&gt;[[HttpProxy sharedInstance]&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;getCommentsWithDate&lt;/span&gt;:&lt;span class=&quot;selector-attr&quot;&gt;[NSDate new]&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ‰€æœ‰çš„ä»£ç åŠç¤ºä¾‹éƒ½æäº¤åˆ°Githubäº†ï¼Œ&lt;a href=&quot;https://github.com/zekunyan/HttpProxyExample&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HttpProxyExample&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯åˆ©ç”¨Objective-Cçš„â€œæ¶ˆæ¯â€æœºåˆ¶ï¼Œç»§æ‰¿NSProxyæŠ½è±¡ç±»ï¼Œå®ç°è‡ªå·±å®šä¹‰çš„è½¬å‘æœºåˆ¶ï¼Œå°†ç½‘ç»œæ¥å£å±‚çš„å„ä¸ªæ–¹æ³•çš„å®ç°ä¸å£°æ˜åˆ†ç¦»ï¼Œæå‡é¡¹ç›®ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œæ›´åŠ æ¨¡å—åŒ–ã€‚å¦‚ä¸‹å›¾è¡¨ç¤º:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_ios_http_proxy_1_3.jpg&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šï¼Œå°±æ˜¯æˆ‘è‡ªå·±åœ¨é¡¹ç›®ä¸­ï¼Œåˆ©ç”¨NSProxyè®¾è®¡å¹¶å®ç°çš„ç½‘ç»œæ¥å£å±‚ç»“æ„ã€‚ğŸ’ª&lt;/p&gt;
&lt;p&gt;ä»äº†è§£NSProxyã€Runtimeåˆ°è®¾è®¡ã€å®ç°å‡ºè¿™ä¸ªç½‘ç»œå±‚æ¶æ„ï¼Œç€å®èŠ±äº†ç‚¹æ—¶é—´ï¼Œæ”¶è·çœŸæ˜¯ä¸å°‘ã€‚å…¶å®åƒè¿™ç§çº¯ä»£ç å±‚æ¬¡çš„é‡æ„ï¼Œå¾ˆå¤šäººä¼šè§‰å¾—â€œåƒåŠ›ä¸è®¨å¥½â€ğŸ˜¨ï¼Œä½†æˆ‘è§‰å¾—ï¼Œæ­£æ˜¯è¿™æ ·ï¼Œæ‰èƒ½çœŸæ­£è®©è‡ªå·±æå‡ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç æ˜¯å…·æœ‰ç¾æ„Ÿçš„ï¼å—¯ï¼ğŸ˜&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSProxy_Class/index.html#//apple_ref/occ/instm/NSProxy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSProxy Class Reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://objectivetoast.com/2014/05/12/nsproxy-nsobjects-lesser-known-sibling/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NSProxy, NSObjectâ€™s Lesser-Known Sibling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Introduction/Introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Objective-C Runtime Programming Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ›´æ–°&quot;&gt;&lt;a href=&quot;#æ›´æ–°&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°&quot;&gt;&lt;/a&gt;æ›´æ–°&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;2015-12-21: å…¶å®ç”¨CategoryæŒ‰ç…§ä¸šåŠ¡æ‹†åˆ†ç½‘ç»œè¯·æ±‚æ¥å£çš„ä»£ç ä¹Ÿæ˜¯éå¸¸æ£’çš„ï¼Œç›®å‰æˆ‘è‡ªå·±å°±æ˜¯è¿™ä¹ˆåšçš„=ã€‚=ï¼Œæ–‡ç« å°±å½“åšç†Ÿæ‚‰ä¸‹NSProxyå§~&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¹‹å‰åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œæ‰€æœ‰ä¸šåŠ¡çš„ç½‘ç»œæ¥å£æ–¹æ³•ï¼Œå…¨éƒ¨éƒ½å†™åœ¨äº†ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œä¸€å¼€å§‹è¿˜å¥½ï¼Œæ¯•ç«Ÿæ¯ä¸ªæ–¹æ³•çš„ä»£ç ä¹Ÿåªæ˜¯åå‡ è¡Œï¼Œå¢åŠ ã€ä¿®æ”¹ä¹Ÿæ¯”è¾ƒå®¹æ˜“ã€‚ä½†æ˜¯éšç€æ¥å£çš„å¢å¤šï¼Œè¿™ä¸ªæ–‡ä»¶æ…¢æ…¢å±…ç„¶è¶…è¿‡äº†1000è¡Œï¼Œé‡Œé¢å‡ åä¸ªæ–¹æ³•éƒ½å†™åœ¨ä¸€èµ·ï¼Œå®åœ¨æ˜¯ä¸å¥½ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ä¿æŒè¿™æ ·ä¹Ÿæ²¡æœ‰ä»€ä¹ˆï¼Œå¤šç”¨ç”¨Cmd+Få°±èƒ½æ‰¾åˆ°ã€‚ä½†æ˜¯ï¼ŒçœŸæ˜¯è¶Šçœ‹è¶Šä¸é¡ºçœ¼ğŸ˜³ï¼Œ ä»£ç ä¸€å®šè¦æœ‰â€œç¾æ„Ÿâ€å•Š~ğŸ˜&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æŸ¥é˜…äº†å¤§é‡æ–‡ç« åï¼Œç»ˆäºæƒ³å‡ºäº†æœ¬æ–‡å³å°†è¯´æ˜çš„åŠæ³•ï¼Œè¶Šå‘è§‰å¾—Objective-Cçš„â€œæ¶ˆæ¯â€æœºåˆ¶æ˜¯å¤šä¹ˆçš„èµ~ğŸ˜š&lt;/p&gt;
&lt;h2 id=&quot;Github-ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#Github-ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;Github ç¤ºä¾‹&quot;&gt;&lt;/a&gt;Github ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;è´´ä¸Šæœ¬æ–‡ä¸­çš„ç¤ºä¾‹å·¥ç¨‹ï¼š&lt;a href=&quot;https://github.com/zekunyan/HttpProxyExample&quot;&gt;https://github.com/zekunyan/HttpProxyExample&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-3</title>
    <link href="http://tutuge.me/2015/02/14/Effective-Objective-C-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-Item-3/"/>
    <id>http://tutuge.me/2015/02/14/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-3/</id>
    <published>2015-02-14T08:51:51.000Z</published>
    <updated>2016-03-20T09:03:33.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;item 3è®²çš„æ˜¯Objective-Cé‡Œé¢çš„â€œå­—é¢é‡è¯­æ³•â€-â€œLiteral Syntaxâ€ï¼Œä¸ªäººè§‰å¾—éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-3-Prefer-Literal-Syntax-over-the-Equivalent-Methods&quot;&gt;&lt;a href=&quot;#Item-3-Prefer-Literal-Syntax-over-the-Equivalent-Methods&quot; class=&quot;headerlink&quot; title=&quot;Item 3 - Prefer Literal Syntax over the Equivalent Methods&quot;&gt;&lt;/a&gt;Item 3 - Prefer Literal Syntax over the Equivalent Methods&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚è®²äº†Objective-Cä¸­çš„â€œå­—é¢é‡è¯­æ³•â€ï¼Œå¹¶ä¸”å»ºè®®æˆ‘ä»¬æ›´å¤šçš„ä½¿ç”¨è¿™ç§è¯­æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„ç­‰ä»·çš„å‡½æ•°æ–¹æ³•ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¼•å­&quot;&gt;&lt;a href=&quot;#å¼•å­&quot; class=&quot;headerlink&quot; title=&quot;å¼•å­&quot;&gt;&lt;/a&gt;å¼•å­&lt;/h2&gt;&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨Objective-Cç¼–ç¨‹çš„æ—¶å€™ï¼Œæ€»ä¼šç»å¸¸ä½¿ç”¨åˆ°å‡ ç§Foundationæ¡†æ¶ä¸­çš„åŸºæœ¬ç±»ï¼Œå¦‚NSStringã€NSNumberã€NSArrayã€NSDictionaryï¼Œæˆ–è€…æ˜¯å®ƒä»¬çš„å­ç±»ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä¼šè¿™ä¹ˆå†™ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString *&lt;span class=&quot;keyword&quot;&gt;str&lt;/span&gt; = @&lt;span class=&quot;string&quot;&gt;&quot;a string&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸çŸ¥é“å„ä½å†™è¿™å¥çš„æ—¶å€™æœ‰æ²¡æœ‰è§‰å¾—å¥‡æ€ªï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨å…ˆâ€œallocâ€ï¼Œå†â€œinitWithXXXâ€è¿™ä¹ˆæ¥åˆ›å»ºå‘¢ã€‚æ˜¯çš„ï¼Œè¿™é‡Œåˆ›å»ºå­—ç¬¦ä¸²ï¼Œå°±ç”¨åˆ°äº†Objective-Cæä¾›çš„â€œå­—é¢é‡è¯­æ³•â€-â€œLiteral Syntaxâ€ï¼Œè€Œè¿™ç§è¯­æ³•çš„â€œæ ‡å¿—â€å°±æ˜¯â€œ@â€ç¬¦å·ã€‚&lt;br&gt;æœ‰äº†å­—é¢é‡è¯­æ³•ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ¯æ¬¡åˆ›å»ºä¸€äº›åŸºæœ¬ç±»å‹çš„æ—¶å€™ï¼Œå†™ä¸€å¤§å †allocã€initäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;NSNumber&quot;&gt;&lt;a href=&quot;#NSNumber&quot; class=&quot;headerlink&quot; title=&quot;NSNumber&quot;&gt;&lt;/a&gt;NSNumber&lt;/h2&gt;&lt;p&gt;å­—ç¬¦ä¸²å¯ä»¥ç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºï¼Œæ•°å­—ç±»NSNumberè‚¯å®šä¹Ÿå¯ä»¥ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;intNum = &lt;span class=&quot;meta&quot;&gt;@1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;floatNum = &lt;span class=&quot;meta&quot;&gt;@1.1f;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;doubleNum = &lt;span class=&quot;meta&quot;&gt;@1.1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;boolNum = &lt;span class=&quot;meta&quot;&gt;@YES;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;charNum = &lt;span class=&quot;meta&quot;&gt;@&#39;a&#39;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//ä¸ç”¨å­—é¢é‡è¯­æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;intNumber = [[NSNumber alloc] initWithInt:1];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿~&lt;/p&gt;
&lt;h2 id=&quot;NSArray&quot;&gt;&lt;a href=&quot;#NSArray&quot; class=&quot;headerlink&quot; title=&quot;NSArray&quot;&gt;&lt;/a&gt;NSArray&lt;/h2&gt;&lt;h3 id=&quot;åˆ›å»º&quot;&gt;&lt;a href=&quot;#åˆ›å»º&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»º&quot;&gt;&lt;/a&gt;åˆ›å»º&lt;/h3&gt;&lt;p&gt;æ•°ç»„ç®—æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç»“æ„äº†ï¼Œå¦‚æœæ²¡æœ‰å­—é¢é‡è¯­æ³•ï¼Œåˆ›å»ºæ•°ç»„å¯èƒ½æ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSArray *numbers = [[NSArray alloc] &lt;span class=&quot;symbol&quot;&gt;initWithObjects:&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;@1&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;@1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;variable&quot;&gt;@2&lt;/span&gt;.0f, &lt;span class=&quot;variable&quot;&gt;@YES&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨å­—é¢é‡è¯­æ³•çš„è¯ï¼Œå°±æ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSArray &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;numbers = &lt;span class=&quot;meta&quot;&gt;@[&lt;/span&gt;&lt;span class=&quot;meta&quot;&gt;@1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@1.1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@2.0f,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@YES];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å­˜å–å€¼&quot;&gt;&lt;a href=&quot;#å­˜å–å€¼&quot; class=&quot;headerlink&quot; title=&quot;å­˜å–å€¼&quot;&gt;&lt;/a&gt;å­˜å–å€¼&lt;/h3&gt;&lt;p&gt;åˆ›å»ºäº†æ•°ç»„ï¼Œè‚¯å®šè¦ä»æ•°ç»„é‡Œé¢å–å€¼ï¼Œç”¨NSArrayçš„æ–¹æ³•å°±æ˜¯è¿™æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//å–&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;aNumber = [numbers objectAtIndex:2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//å­˜&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSMutableArray &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;mutableArray = [[NSMutableArray alloc] initWithArray:&lt;span class=&quot;meta&quot;&gt;@[&lt;/span&gt;&lt;span class=&quot;meta&quot;&gt;@1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@2,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@3]];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[mutableArray replaceObjectAtIndex:1 withObject:&lt;span class=&quot;meta&quot;&gt;@4];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è·ŸCè¯­è¨€ã€Javaè¿™äº›è¯­æ³•å¾ˆä¸ä¸€æ ·å•Šï¼Œäººå®¶éƒ½æ˜¯é€šè¿‡ä¸­æ‹¬å·â€œ[]â€ç›´æ¥ç”¨ä¸‹æ ‡å–å€¼å°±å¯ä»¥ã€‚æœ‰äº†å­—é¢é‡åŒè¯­æ³•ï¼ŒObjective-Cä¹Ÿå¯ä»¥è¿™æ ·:&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//å–&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;aNumber = numbers[2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//å­˜&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSMutableArray &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;mutableArray = [[NSMutableArray alloc] initWithArray:&lt;span class=&quot;meta&quot;&gt;@[&lt;/span&gt;&lt;span class=&quot;meta&quot;&gt;@1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@2,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@3]];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mutableArray[1] = &lt;span class=&quot;meta&quot;&gt;@4;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;è¦æ³¨æ„çš„åœ°æ–¹&quot;&gt;&lt;a href=&quot;#è¦æ³¨æ„çš„åœ°æ–¹&quot; class=&quot;headerlink&quot; title=&quot;è¦æ³¨æ„çš„åœ°æ–¹&quot;&gt;&lt;/a&gt;è¦æ³¨æ„çš„åœ°æ–¹&lt;/h3&gt;&lt;p&gt;ä¼ ç»Ÿçš„é€šè¿‡â€œinitWithObjectsâ€æ–¹æ³•åˆ›å»ºæ•°ç»„çš„æ—¶å€™ï¼Œæ˜¯æ ¹æ®æœ€åçš„â€œnilâ€åˆ¤æ–­æ•°ç»„æ˜¯å¦ç»“æŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨äºåˆå§‹åŒ–æ•°ç»„çš„å…ƒç´ ä¸­æœ‰â€œnilâ€å€¼ä¹Ÿä¸ä¼šå¯¼è‡´å¼‚å¸¸ï¼ˆExceptionï¼‰ï¼Œå¦‚ä¸‹è¯­å¥ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *number1 = @&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *number2 = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;//ç©ºæŒ‡é’ˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSNumber&lt;/span&gt; *number3 = @&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//åˆ›å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; *numbers = [[&lt;span class=&quot;built_in&quot;&gt;NSArray&lt;/span&gt; alloc] initWithObjects:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  number1, number2, number3, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è¾“å‡ºä¸º1ï¼Œå› ä¸ºnumber2ï¼Œåˆ›å»ºåˆ°number2å°±æˆªæ­¢äº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;@&quot;numbers count: %d&quot;&lt;/span&gt;, numbers.count);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºï¼Œå°±æ˜¯å‡ºé—®é¢˜ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;number1 = &lt;span class=&quot;meta&quot;&gt;@1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;number2 = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;number3 = &lt;span class=&quot;meta&quot;&gt;@3;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//åˆ›å»ºå‡ºç°å¼‚å¸¸ï¼ï¼ï¼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSArray &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;numbers = &lt;span class=&quot;meta&quot;&gt;@[number1,&lt;/span&gt; number2, number3];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(&lt;span class=&quot;meta&quot;&gt;@&quot;numbers&lt;/span&gt; count: %d&lt;span class=&quot;string&quot;&gt;&quot;, numbers.count);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å› ä¸ºå­—é¢é‡è¯­æ³•åªæ˜¯å•çº¯çš„å°†ä¸­æ‹¬å·ä¸­çš„å…ƒç´ å…¨éƒ¨åŠ åˆ°æ•°ç»„ä¸­ï¼Œä½†æ˜¯ï¼ŒObjective-Cä¸­çš„æ•°ç»„æ˜¯ä¸å¯ä»¥å­˜æ”¾nilå€¼çš„ï¼Œæ‰€ä»¥ç¨‹åºä¼šè¿è¡Œæ—¶æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;h2 id=&quot;NSDictionary&quot;&gt;&lt;a href=&quot;#NSDictionary&quot; class=&quot;headerlink&quot; title=&quot;NSDictionary&quot;&gt;&lt;/a&gt;NSDictionary&lt;/h2&gt;&lt;h3 id=&quot;åˆ›å»º-1&quot;&gt;&lt;a href=&quot;#åˆ›å»º-1&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»º&quot;&gt;&lt;/a&gt;åˆ›å»º&lt;/h3&gt;&lt;p&gt;å¦‚æœä¸ç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºå­—å…¸ï¼Œä¼ ç»Ÿçš„åˆ›å»ºå‡½æ•°ç®€ç›´ä»¤äººåŒªå¤·æ‰€æ€ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// number1-&amp;gt;&lt;span class=&quot;meta&quot;&gt;@1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// number2-&amp;gt;&lt;span class=&quot;meta&quot;&gt;@2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSDictionary &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;dict = [[NSDictionary alloc] initWithObjectsAndKeys:&lt;span class=&quot;meta&quot;&gt;@1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@&quot;number1&quot;,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@2,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@&quot;number2&quot;,&lt;/span&gt; nil];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ªï¼Œ&lt;strong&gt;valueåœ¨å‰é¢ï¼Œkeyåœ¨åé¢&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œè¿˜æ˜¯ç”¨æ–°çš„è¯­æ³•å§ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSDictionary &lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;dict = &lt;span class=&quot;meta&quot;&gt;@&amp;#123;&lt;/span&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;number1&quot;&lt;/span&gt; : &lt;span class=&quot;meta&quot;&gt;@1,&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@&quot;number2&quot;&lt;/span&gt; : &lt;span class=&quot;meta&quot;&gt;@2&amp;#125;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·æ‰ç¬¦åˆâ€œå¸¸è¯†â€å˜›ï¼Œkeyåœ¨å‰ï¼Œvalueåœ¨åé¢ï¼Œè·ŸJSONçš„å®šä¹‰ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å­˜å–å€¼-1&quot;&gt;&lt;a href=&quot;#å­˜å–å€¼-1&quot; class=&quot;headerlink&quot; title=&quot;å­˜å–å€¼&quot;&gt;&lt;/a&gt;å­˜å–å€¼&lt;/h3&gt;&lt;p&gt;å–å€¼çš„è¯­æ³•è·ŸNSArrayçš„è¯­æ³•å¾ˆæƒ³ï¼Œåªä¸è¿‡æ˜¯å°†ä¸‹æ ‡æ•°å­—å˜æˆäº†keyï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//ä¼ ç»Ÿ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber *number1 = [dict objectForKey:@&lt;span class=&quot;string&quot;&gt;&quot;number1&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[dict setValue:@&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; forKey:@&lt;span class=&quot;string&quot;&gt;&quot;number1&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å­—é¢é‡è¯­æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSNumber *number2 = dict[@&lt;span class=&quot;string&quot;&gt;&quot;number1&quot;&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dict[@&lt;span class=&quot;string&quot;&gt;&quot;number1&quot;&lt;/span&gt;] = @&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ³¨æ„&quot;&gt;&lt;a href=&quot;#æ³¨æ„&quot; class=&quot;headerlink&quot; title=&quot;æ³¨æ„&quot;&gt;&lt;/a&gt;æ³¨æ„&lt;/h3&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œè·Ÿåˆ›å»ºæ•°ç»„ä¸€æ ·ï¼ŒNSDictionaryçš„valueä¸èƒ½ä¸ºnilå€¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨å­—é¢é‡è¯­æ³•å¯ä»¥è®©ä»£ç æ›´åŠ æ¸…æ™°ã€ç®€å•ï¼Œæ¯•ç«Ÿï¼Œæ›´å°‘çš„ä»£ç ï¼Œæœ‰æ—¶å€™æ„å‘³ç€æ›´å°‘çš„é”™è¯¯ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;item 3è®²çš„æ˜¯Objective-Cé‡Œé¢çš„â€œå­—é¢é‡è¯­æ³•â€-â€œLiteral Syntaxâ€ï¼Œä¸ªäººè§‰å¾—éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-3-Prefer-Literal-Syntax-over-the-Equivalent-Methods&quot;&gt;&lt;a href=&quot;#Item-3-Prefer-Literal-Syntax-over-the-Equivalent-Methods&quot; class=&quot;headerlink&quot; title=&quot;Item 3 - Prefer Literal Syntax over the Equivalent Methods&quot;&gt;&lt;/a&gt;Item 3 - Prefer Literal Syntax over the Equivalent Methods&lt;/h2&gt;&lt;p&gt;æœ¬èŠ‚è®²äº†Objective-Cä¸­çš„â€œå­—é¢é‡è¯­æ³•â€ï¼Œå¹¶ä¸”å»ºè®®æˆ‘ä»¬æ›´å¤šçš„ä½¿ç”¨è¿™ç§è¯­æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„ç­‰ä»·çš„å‡½æ•°æ–¹æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="ç¿»è¯‘" scheme="http://tutuge.me/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="ç¬”è®°" scheme="http://tutuge.me/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-2</title>
    <link href="http://tutuge.me/2015/02/06/Effective-Objective-C-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-Item-2/"/>
    <id>http://tutuge.me/2015/02/06/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-2/</id>
    <published>2015-02-06T08:43:46.000Z</published>
    <updated>2016-03-20T09:03:31.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬äºŒå¼¹æ¥äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-2-Minimize-Importing-Headers-in-Headers&quot;&gt;&lt;a href=&quot;#Item-2-Minimize-Importing-Headers-in-Headers&quot; class=&quot;headerlink&quot; title=&quot;Item 2 - Minimize Importing Headers in Headers&quot;&gt;&lt;/a&gt;Item 2 - Minimize Importing Headers in Headers&lt;/h2&gt;&lt;p&gt;è¿™ä¸€èŠ‚è®²çš„æ˜¯å°½é‡åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­å‡å°‘å…¶å®ƒå¤´æ–‡ä»¶çš„å¼•å…¥ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¤´æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#å¤´æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å¤´æ–‡ä»¶&quot;&gt;&lt;/a&gt;å¤´æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;Objective-Cå’ŒCè¯­è¨€ã€C++å¾ˆåƒï¼Œéƒ½å°†ç±»çš„å®ç°ä¸å£°æ˜åˆ†å¼€ï¼Œç”¨.håç¼€åæ–‡ä»¶è¡¨ç¤ºå£°æ˜æ–‡ä»¶ï¼Œç”¨.mæ–‡ä»¶å®ç°ç±»ã€‚å½“è¦ç”¨åˆ°è¿™ä¸ªç±»çš„æ—¶å€™ï¼Œåªéœ€è¦å¼•å…¥å¤´æ–‡ä»¶å³å¯ï¼Œè‡³äºç¼–è¯‘å™¨ã€è¿è¡Œæ—¶æ˜¯å¦‚ä½•çŸ¥é“å¤´æ–‡ä»¶é‡Œé¢çš„ç±»å¯¹åº”çš„å®ç°åœ¨å“ªé‡Œï¼Œåœ¨è¿™äº†ä¸åšè¯´æ˜ã€‚ä¸€ä¸‹ç”¨ä¾‹å­è¯´æ˜ï¼Œå…ˆçœ‹çœ‹ä¸‹é¢çš„ç±»ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Wheel.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//è½¦è½®ç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Wheel&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *manufacturer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; radius;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¬¬äºŒä¸ªç±»&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Engine.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å‘åŠ¨æœºç±»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Engine&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;copy&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSString&lt;/span&gt; *manufacturer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;assign&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) &lt;span class=&quot;built_in&quot;&gt;NSUInteger&lt;/span&gt; power;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åå°±æ˜¯è½¦ç±»Carï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Car.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//æ±½è½¦ç±»ï¼Œåªæœ‰ä¸€ä¸ªè½®å­ï¼Œä¸è¦å¥‡æ€ª=ã€‚=&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) Wheel *wheel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) Engine *engine;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨æ„åˆ°å°‘äº†ä»€ä¹ˆä¸œè¥¿æ²¡æœ‰ï¼Ÿ&lt;br&gt;æ˜¯çš„ï¼Œå†™è¿‡Cè¯­è¨€ã€C++çš„ç«¥é‹ä¸€ä¸‹å°±èƒ½å‘ç°ï¼ŒCarç±»æ²¡æœ‰å¼•å…¥Engineå’ŒWheelçš„å¤´æ–‡ä»¶ï¼Œè‚¯å®šä¼šç¼–è¯‘å‡ºé”™çš„ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“Engineã€Wheelç±»æ˜¯å•¥ã€‚&lt;br&gt;é‚£å¥½ï¼Œæˆ‘ä»¬åŠ ä¸Šä¸‹é¢ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Wheel.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-id&quot;&gt;#import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Engine.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å—¯ã€‚è¿™æ ·å°±ä¸ä¼šå‡ºé”™äº†ã€‚ä½†æ˜¯è¿™æ ·çœŸçš„å¥½å—ï¼ŸObjective-Cç»™æˆ‘ä»¬æä¾›äº†@classå…³é”®å­—ï¼Œå°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰ç½®å£°æ˜ï¼ˆforward-declarationï¼‰&quot;&gt;&lt;a href=&quot;#å‰ç½®å£°æ˜ï¼ˆforward-declarationï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å‰ç½®å£°æ˜ï¼ˆforward declarationï¼‰&quot;&gt;&lt;/a&gt;å‰ç½®å£°æ˜ï¼ˆforward declarationï¼‰&lt;/h2&gt;&lt;p&gt;ä½•ä¸ºå‰ç½®å£°æ˜ï¼Ÿçœ‹çœ‹ä¸‹é¢çš„Carç±»çš„å¤´æ–‡ä»¶ä¾‹å­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Car.h&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å‰ç½®å£°æ˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Wheel&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Engine&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) Wheel *wheel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@property&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;strong&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;nonatomic&lt;/span&gt;) Engine *engine;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;@classå°±æ˜¯ç±»çš„å‰ç½®å£°æ˜ï¼ˆforward declarationï¼‰ï¼Œå°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨â€œå—¨ï¼Œä¸ç”¨æ‰¾äº†ï¼ŒWheelç±»å’ŒEngineç±»æ˜¯è‚¯å®šå­˜åœ¨çš„ï¼Œç”¨åˆ°çš„æ—¶å€™å†æ‰¾â€ã€‚æœ‰äº†å‰ç½®å£°æ˜ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ˜¾å¼çš„å¼•å…¥Wheelç±»å’ŒEngineç±»äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œåœ¨Carç±»çš„å®ç°æ–‡ä»¶.mæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ˜¾å¼çš„å¼•å…¥Wheelå’ŒEngineç±»çš„ï¼Œå› ä¸ºåœ¨è¿™é‡Œæˆ‘ä»¬è¦å…·ä½“ç”¨åˆ°è¿™ä¸¤ä¸ªç±»äº†ï¼Œå½“ç„¶è¦çŸ¥é“ç±»çš„ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä½•ä¸è¦importï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä½•ä¸è¦importï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä½•ä¸è¦importï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä½•ä¸è¦importï¼Ÿ&lt;/h3&gt;&lt;p&gt;ä¸ºä»€ä¹ˆä¸ç›´æ¥importå‘¢ï¼Ÿå› ä¸ºå¦‚æœç›´æ¥ç”¨importå¼•å…¥Wheelå’ŒEngineçš„å£°æ˜ï¼Œé‚£ä¹ˆä»»ä½•importå¼•å…¥äº†Carç±»çš„æ–‡ä»¶ï¼Œä¹ŸåŒæ—¶ä¼šå¼•å…¥Wheelã€Engineç±»çš„å£°æ˜ï¼Œè€Œä¸”æœ€ç»ˆæˆ‘ä»¬å¯èƒ½å¹¶ä¸ä¸€å®šä¼šç›´æ¥è·ŸWheelã€Engineç±»æ‰“äº¤é“ï¼Œè¿™æ ·ä¸å°±å¼•å…¥äº†â€œæ²¡æœ‰ç”¨â€çš„ç±»äº†å—ï¼Ÿè€Œä¸”è¿™æ ·åšå¾ˆå¯èƒ½é€ æˆæ–‡ä»¶å¼•å…¥æˆâ€œç¯â€ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶importå¯ä»¥é¿å…é‡å¤å£°æ˜é€ æˆç¼–è¯‘å‡ºé”™ï¼Œä¼ ç»Ÿçš„Cè¯­è¨€ã€C++åœ¨å£°æ˜çš„æ—¶å€™ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼é¿å…é‡å¤å£°æ˜ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;ifndef&lt;/span&gt; _WHEEL_H_&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; _WHEEL_H_&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å£°æ˜å†…å®¹...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯æ—¢ç„¶Objective-Cæœ‰@classè¿™ç§å‰ç½®å£°æ˜çš„åŠæ³•ï¼Œä¸ºä½•ä¸ç”¨å‘¢ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¿…é¡»ç”¨importçš„æ—¶å€™&quot;&gt;&lt;a href=&quot;#å¿…é¡»ç”¨importçš„æ—¶å€™&quot; class=&quot;headerlink&quot; title=&quot;å¿…é¡»ç”¨importçš„æ—¶å€™&quot;&gt;&lt;/a&gt;å¿…é¡»ç”¨importçš„æ—¶å€™&lt;/h2&gt;&lt;p&gt;å½“ç„¶ï¼Œ@classè¿™æ ·çš„å‰ç½®å£°æ˜å¹¶ä¸èƒ½è§£å†³ä¸€åˆ‡å¤´æ–‡ä»¶å¼•å…¥çš„é—®é¢˜ï¼Œå¦‚ä¸‹è¿™æ ·çš„ç±»ï¼Œå°±å¿…é¡»è¦ç”¨importï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;Foundation/Foundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Car çš„å£°æ˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&quot;Car.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Driver protocolçš„å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#import &lt;span class=&quot;meta-string&quot;&gt;&quot;Driver.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BigCar&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;Car&lt;/span&gt; &amp;lt;&lt;span class=&quot;title&quot;&gt;Driver&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ˜¯çš„ï¼Œå½“ç±»éœ€è¦è¢«ç»§æ‰¿ã€å®šä¹‰çš„protocoléœ€è¦å®ç°çš„æ—¶å€™ï¼Œå°±éœ€è¦importç›¸å…³çš„å¤´æ–‡ä»¶äº†ï¼ˆprotocolçš„å®ç°å¦‚æœè·Ÿç±»çš„ä½¿ç”¨è€…æ²¡æœ‰å…³è”ï¼Œå¯ä»¥å®šä¹‰åœ¨ç±»çš„å®ç°æ–‡ä»¶ä¸­çš„â€œæ‰©å±•categoryâ€ä¸­ï¼‰,å½“ç„¶ï¼Œè¿˜æœ‰@protocolè¿™æ ·çš„protocolçš„å‰ç½®å£°æ˜ï¼Œæ€ä¹ˆç”¨å°±ç•™ç»™è¯»è€…è‡ªå·±æŸ¥é˜…ç›¸å…³èµ„æ–™äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¤§è´¹å‘¨ç« çš„è®²äº†è¿™ä¹ˆå¤šï¼Œå…¶å®ç›®çš„å°±æ˜¯ä¸€ä¸ªï¼šå°½é‡å°‘åœ¨å¤´æ–‡ä»¶é‡Œé¢å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆçš„ç›®çš„å°±æ˜¯&lt;strong&gt;åªæš´éœ²æœ€å°‘çš„ç»†èŠ‚&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†™ä»£ç æœ‰æ®µæ—¶é—´äº†ï¼Œä¸€ç›´éƒ½åœ¨ç¢ç£¨è¿™å¥è¯ï¼Œå¸Œæœ›è¯»è€…ä¹Ÿèƒ½å¥½å¥½ä½“ä¼š~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç¬¬äºŒå¼¹æ¥äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-2-Minimize-Importing-Headers-in-Headers&quot;&gt;&lt;a href=&quot;#Item-2-Minimize-Importing-Headers-in-Headers&quot; class=&quot;headerlink&quot; title=&quot;Item 2 - Minimize Importing Headers in Headers&quot;&gt;&lt;/a&gt;Item 2 - Minimize Importing Headers in Headers&lt;/h2&gt;&lt;p&gt;è¿™ä¸€èŠ‚è®²çš„æ˜¯å°½é‡åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­å‡å°‘å…¶å®ƒå¤´æ–‡ä»¶çš„å¼•å…¥ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="ç¿»è¯‘" scheme="http://tutuge.me/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="ç¬”è®°" scheme="http://tutuge.me/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-1</title>
    <link href="http://tutuge.me/2015/02/05/Effective-Objective-C-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-Item-1/"/>
    <id>http://tutuge.me/2015/02/05/Effective-Objective-C-è¯»ä¹¦ç¬”è®°-Item-1/</id>
    <published>2015-02-04T17:17:08.000Z</published>
    <updated>2016-06-16T16:16:51.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸€ç›´éƒ½åœ¨åšé¡¹ç›®ï¼Œæ²¡ä»€ä¹ˆæ—¶é—´ä½œæ€»ç»“ï¼Œæ„Ÿè§‰å¾ˆä¸æ˜¯æ»‹å‘³ã€‚ç°åœ¨æ”¾å‡äº†ï¼Œå—¯ï¼Œç»ˆäºæœ‰æ—¶é—´äº†~~å“ˆå“ˆï¼ˆå¤©ç”Ÿç¨‹åºçŒ¿ä¸€æšå¥½ä¸å¥½=ã€‚=ï¼‰&lt;br&gt;æœ€è¿‘å¼€å§‹è¯»è‹±æ–‡ç‰ˆçš„Effective Objective-C 2.0ï¼Œè§‰å¾—ä¸é”™ï¼Œå°±æ€»ç»“äº›ä¸œè¥¿ï¼Œåˆ†äº«ç»™å„ä½è¯»è€…å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-1-Familiarize-Yourself-with-Objective-Câ€™s-Roots&quot;&gt;&lt;a href=&quot;#Item-1-Familiarize-Yourself-with-Objective-Câ€™s-Roots&quot; class=&quot;headerlink&quot; title=&quot;Item 1 - Familiarize Yourself with Objective-Câ€™s Roots&quot;&gt;&lt;/a&gt;Item 1 - Familiarize Yourself with Objective-Câ€™s Roots&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€ç« çš„ç›®çš„ï¼Œå°±æ˜¯è®©å¤§å®¶ç†Ÿæ‚‰Objective-Cï¼Œè‡ªç„¶ï¼Œæ ‡é¢˜çš„æ„æ€ä¹Ÿå°±æ˜¯â€œäº†è§£Objective-Cçš„åŸºæœ¬æ¦‚å¿µâ€ï¼Œä¸å¤šè¯´ï¼Œå¼€å†™ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;æ¶ˆæ¯ä¸è¿è¡Œæ—¶&quot;&gt;&lt;a href=&quot;#æ¶ˆæ¯ä¸è¿è¡Œæ—¶&quot; class=&quot;headerlink&quot; title=&quot;æ¶ˆæ¯ä¸è¿è¡Œæ—¶&quot;&gt;&lt;/a&gt;æ¶ˆæ¯ä¸è¿è¡Œæ—¶&lt;/h2&gt;&lt;p&gt;æ€»çš„æ¥è¯´ï¼ŒObjective-Cè·ŸC++ã€Javaè¿™äº›é¢å‘å¯¹è±¡çš„è¯­è¨€æ˜¯éå¸¸ç›¸ä¼¼çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è®¸å¤šä¸åŒçš„åœ°æ–¹ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡çœ‹åˆ°Objective-Cçš„è¯­æ³•ï¼Œä¸€å®šè§‰å¾—éå¸¸å¥‡æ€ªï¼Œå› ä¸ºObjective-Cä½¿ç”¨çš„æ˜¯åŸºäºæ¶ˆæ¯ï¼ˆMessageï¼‰çš„æ¡†æ¶ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„æ–¹æ³•ã€å‡½æ•°è°ƒç”¨ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Objective-C&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Person *person = [Person new]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[person setName:@&lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt; age:&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//Java&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Person person = new Person()&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;person.setNameAndAge(&lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//C++&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Person *person = new Person&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;person-&amp;gt;setNameAndAge(&lt;span class=&quot;string&quot;&gt;&quot;tutuge&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¾ˆå¥‡æ€ªæ˜¯ä¸æ˜¯ï¼Œå„ç§ä¸­æ‹¬å·ã€‚ä½†æ˜¯æˆ‘è§‰å¾—ï¼ŒObjectiveâ€”Cè¿™ä¹ˆè®¾è®¡å°±æ˜¯ä¸ºäº†æ—¶åˆ»æé†’ä½ ï¼Œâ€œæˆ‘æ˜¯åŸºäºæ¶ˆæ¯æœºåˆ¶çš„ï¼â€ã€‚æ¶ˆæ¯ï¼Œçš„ç¡®æ˜¯Objective-Cä¸Javaã€C++è¿™ç§è¯­è¨€æœ€å¤§çš„ä¸åŒï¼Œè€Œä¸”ï¼Œè¿™ç§ä¸åŒè¿œä¸æ­¢åœ¨è¯­æ³•ä¸Šé¢ã€‚ç®€å•æ¥è¯´å¦‚ä¸‹ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºæ¶ˆæ¯çš„è°ƒç”¨ï¼š&lt;/strong&gt; æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨éƒ½æ˜¯åœ¨â€œè¿è¡Œæ—¶â€å†³å®šçš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºæ–¹æ³•çš„è°ƒç”¨ï¼š&lt;/strong&gt; æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨éƒ½æ˜¯åœ¨â€œç¼–è¯‘æ—¶â€å†³å®šçš„ï¼Œå°±æ˜¯ç¼–è¯‘å™¨ç¼–è¯‘æ—¶å†³å®šçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶å®ï¼Œè¿è¢«è°ƒæ–¹æ³•çš„å¯¹è±¡ç±»å‹ï¼Œéƒ½æ˜¯åœ¨è¿è¡Œæ—¶å†³å®šçš„ã€‚æ‰€ä»¥è¯´ï¼ŒObjective-Cçš„è¿è¡Œæ—¶ç³»ç»Ÿï¼Œæ‹…è´Ÿäº†ç»å¤§éƒ¨åˆ†çš„å·¥ä½œã€‚è¿™ä¹ˆè®¾è®¡çš„ä¼˜ç‚¹ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå°±æ˜¯å½“è¿è¡Œæ—¶ç³»ç»Ÿå‡çº§æ—¶ï¼ŒåŸæœ‰çš„ä»£ç ä¸ç”¨é‡æ–°ç¼–è¯‘å³å¯â€œäº«å—â€å‡çº§å¸¦æ¥çš„å¥½å¤„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Cçš„è¶…é›†&quot;&gt;&lt;a href=&quot;#Cçš„è¶…é›†&quot; class=&quot;headerlink&quot; title=&quot;Cçš„è¶…é›†&quot;&gt;&lt;/a&gt;Cçš„è¶…é›†&lt;/h2&gt;&lt;p&gt;Objective-Cæ˜¯Cè¯­è¨€çš„è¶…é›†ï¼Œæ‰€ä»¥Cè¯­è¨€æ‰€å…·æœ‰çš„ä¸€åˆ‡ç‰¹æ€§ï¼ŒObjective-Céƒ½å¯ä»¥å…¼å®¹ï¼Œå……åˆ†ç†è§£Cè¯­è¨€çš„å†…å­˜æ¨¡å‹ï¼Œå¯¹ç†è§£Objective-Cå¾ˆæœ‰å¸®åŠ©ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString *&lt;span class=&quot;keyword&quot;&gt;str&lt;/span&gt; = @&lt;span class=&quot;string&quot;&gt;&quot;a string&quot;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸€è¡Œä»£ç è·ŸCè¯­è¨€æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œï¼ˆå¿½ç•¥@ç¬¦å·=ã€‚=ï¼‰ï¼ŒåŸç†è·ŸCè¯­è¨€ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯stræŒ‡é’ˆæ˜¯NSStringç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘äº†ä¸€å—å­˜ç€å­—ç¬¦ä¸²â€œa stringâ€çš„å†…å­˜åŒºåŸŸã€‚ä¸åŒçš„æ˜¯ï¼Œåœ¨Objective-Cé‡Œï¼Œæ‰€æœ‰çš„å¯¹è±¡åªå¯ä»¥å£°æ˜ä¸ºæŒ‡é’ˆç±»å‹ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç æ˜¯ä¸åˆç†çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight hsp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString &lt;span class=&quot;keyword&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸ºäº†æ›´å……åˆ†çš„ç†è§£ï¼Œå’±ä»¬çœ‹çœ‹å¦‚ä¸‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;NSString&lt;/span&gt; *&lt;span class=&quot;keyword&quot;&gt;str1 &lt;/span&gt;= &lt;span class=&quot;comment&quot;&gt;@&quot;a string&quot;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;NSString&lt;/span&gt; *&lt;span class=&quot;keyword&quot;&gt;str2 &lt;/span&gt;= &lt;span class=&quot;keyword&quot;&gt;str1;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç†Ÿæ‚‰Cè¯­è¨€çš„æœ‹å‹åº”è¯¥çŸ¥é“è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Œå†…å­˜å½“ä¸­åªæœ‰ä¸€å—åŒºåŸŸå‚¨å­˜ç€â€œa stringâ€è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œstr1ã€str2éƒ½æ˜¯æŒ‡å‘ç€è¿™ä¸ªåŒºåŸŸçš„å­—ç¬¦ä¸²æŒ‡é’ˆã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/blog_effective_objective_c_item_1_1.jpg&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;str1ã€str2éƒ½åœ¨æ ˆå†…å­˜ä¸Šåˆ†é…çš„ï¼Œå°±æ˜¯å­—ç¬¦ä¸²ï¼ˆNSStringï¼‰ç±»å‹çš„æŒ‡é’ˆã€‚&lt;/li&gt;
&lt;li&gt;â€œa stringâ€å­—ç¬¦ä¸²å®é™…å‚¨å­˜åœ¨å †å†…å­˜ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;str1ã€str2å‡æŒ‡å‘åŒä¸€å—å†…å­˜åŒºåŸŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤å¤„çš„æ ˆå†…å­˜ã€å †å†…å­˜è·ŸCè¯­è¨€ä¸­çš„æ¦‚å¿µä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯ï¼Œåœ¨Objective-Cä¸­ï¼Œæˆ‘ä»¬ä¸ç”¨æ‰‹åŠ¨å»mallocã€freeå†…å­˜ï¼ŒObjective-Cä½¿ç”¨å†…å­˜è®¡æ•°è®¡æ•°å¸®æˆ‘ä»¬ç®¡ç†å†…å­˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»“æ„ä½“ï¼ŒåŸºæœ¬ç±»å‹&quot;&gt;&lt;a href=&quot;#ç»“æ„ä½“ï¼ŒåŸºæœ¬ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;ç»“æ„ä½“ï¼ŒåŸºæœ¬ç±»å‹&quot;&gt;&lt;/a&gt;ç»“æ„ä½“ï¼ŒåŸºæœ¬ç±»å‹&lt;/h2&gt;&lt;p&gt;åœ¨Objective-Cä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å˜é‡éƒ½æ˜¯æŒ‡é’ˆç±»å‹çš„ï¼Œåƒintã€floatã€doubleè¿™äº›ä¾æ—§æ˜¯ä¼ ç»Ÿçš„â€œæ ˆä¸Šåˆ†é…â€çš„ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰ç»“æ„ä½“structã€æšä¸¾enumã€è”åˆunionç­‰ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight objectivec&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;CGPoint&lt;/span&gt; point = &lt;span class=&quot;built_in&quot;&gt;CGPointMake&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;CGRect&lt;/span&gt; frame = &lt;span class=&quot;built_in&quot;&gt;CGRectMake&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™çš„CGPointã€CGRectéƒ½æ˜¯ç»“æ„ä½“ï¼Œä½†æ˜¯éƒ½æ˜¯ç›´æ¥åœ¨æ ˆä¸Šåˆ†é…å†…å­˜çš„ï¼Œä»¥å‡å°‘è¿‡åº¦ä½¿ç”¨Objective-Cç±»å‹çš„ç±»ï¼ˆå‡å°‘è¿è¡Œæ—¶çš„å‹åŠ›ï¼‰ï¼Œå„ä½è¯»è€…ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;é›¶æ•£çš„è¯´äº†ä¸€äº›Objective-Cçš„ç‰¹ç‚¹ï¼Œè¿œè¿œä¸è¶³ä»¥è®²æ˜ç™½Objective-Cï¼Œæˆ‘è¿™åªæ˜¯æ ¹æ®Effective Objective-Cè¿™æœ¬ä¹¦ç»™ä¸ªå¼•å­ï¼Œè¿˜æ˜¯æ¨èAppleçš„å®˜æ–¹æ•™ç¨‹ã€æ–‡æ¡£ï¼Œè¦æƒ³æŒæ¡æ‰å®ï¼Œè¿˜æ˜¯è¦ä¸€æ­¥ä¸€æ­¥æ¥~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸€ç›´éƒ½åœ¨åšé¡¹ç›®ï¼Œæ²¡ä»€ä¹ˆæ—¶é—´ä½œæ€»ç»“ï¼Œæ„Ÿè§‰å¾ˆä¸æ˜¯æ»‹å‘³ã€‚ç°åœ¨æ”¾å‡äº†ï¼Œå—¯ï¼Œç»ˆäºæœ‰æ—¶é—´äº†~~å“ˆå“ˆï¼ˆå¤©ç”Ÿç¨‹åºçŒ¿ä¸€æšå¥½ä¸å¥½=ã€‚=ï¼‰&lt;br&gt;æœ€è¿‘å¼€å§‹è¯»è‹±æ–‡ç‰ˆçš„Effective Objective-C 2.0ï¼Œè§‰å¾—ä¸é”™ï¼Œå°±æ€»ç»“äº›ä¸œè¥¿ï¼Œåˆ†äº«ç»™å„ä½è¯»è€…å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Item-1-Familiarize-Yourself-with-Objective-Câ€™s-Roots&quot;&gt;&lt;a href=&quot;#Item-1-Familiarize-Yourself-with-Objective-Câ€™s-Roots&quot; class=&quot;headerlink&quot; title=&quot;Item 1 - Familiarize Yourself with Objective-Câ€™s Roots&quot;&gt;&lt;/a&gt;Item 1 - Familiarize Yourself with Objective-Câ€™s Roots&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€ç« çš„ç›®çš„ï¼Œå°±æ˜¯è®©å¤§å®¶ç†Ÿæ‚‰Objective-Cï¼Œè‡ªç„¶ï¼Œæ ‡é¢˜çš„æ„æ€ä¹Ÿå°±æ˜¯â€œäº†è§£Objective-Cçš„åŸºæœ¬æ¦‚å¿µâ€ï¼Œä¸å¤šè¯´ï¼Œå¼€å†™ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
      <category term="ç¿»è¯‘" scheme="http://tutuge.me/tags/%E7%BF%BB%E8%AF%91/"/>
    
      <category term="ç¬”è®°" scheme="http://tutuge.me/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iOSé¡¹ç›®çš„ç›®å½•ç»“æ„-åŸåˆ›</title>
    <link href="http://tutuge.me/2015/02/01/iOS%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-%E5%8E%9F%E5%88%9B/"/>
    <id>http://tutuge.me/2015/02/01/iOSé¡¹ç›®çš„ç›®å½•ç»“æ„-åŸåˆ›/</id>
    <published>2015-01-31T18:27:21.000Z</published>
    <updated>2016-08-07T06:11:25.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨åšiOSçš„é¡¹ç›®ï¼ˆ&lt;a href=&quot;https://itunes.apple.com/cn/app/qing-ju-yin-le-quan-guo-zui/id913235479?mt=8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é’æ¡”éŸ³ä¹App&lt;/a&gt;ï¼‰ï¼Œéšç€ä»£ç é‡çš„ä¸Šå‡ï¼Œé€æ¸æ„è¯†åˆ°é¡¹ç›®çš„æ•´ä½“ç›®å½•ç»“æ„åˆ’åˆ†æ˜¯å¤šä¹ˆé‡è¦ï¼Œæ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œèƒ½å¤Ÿæ›´å¥½çš„åº”å¯¹æ–°çš„éœ€æ±‚ï¼Œæ›´å®¹æ˜“é‡æ„ã€‚è™½ç„¶ä¸€ç›´éƒ½æ˜¯ä¸€ä¸ªäººåœ¨åš=ã€‚=ï¼Œä½†æ˜¯è¿˜æ˜¯æ·±æ·±åœ°ä½“ä¼šåˆ°ç›®å½•ç»“æ„çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä¾‹å­&quot;&gt;&lt;a href=&quot;#ä¾‹å­&quot; class=&quot;headerlink&quot; title=&quot;ä¾‹å­&quot;&gt;&lt;/a&gt;ä¾‹å­&lt;/h2&gt;&lt;p&gt;è¯´å†å¤šéƒ½ä¸å¦‚æ¥ä¸ªä¾‹å­å®åœ¨ï¼Œå¦‚ä¸‹ï¼š(VCæŒ‡çš„æ˜¯viewController)&lt;/p&gt;
&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---General&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---AppDelegate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Application&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Constant&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---UI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---VC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Category&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Entity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---BaseEntity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---UserEntity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---CommentEntity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Http&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Api&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Manager&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---CodeHandler&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---ErrorHandler&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---HttpHandler&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---UserHttpHandler&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---CommentHttpHandler&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---DB&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---DBHelper&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---DBService&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Util&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---StringUtil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---NumberUtil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---TimeUtil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Service&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---AccountService&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---ShareService&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Lib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Umeng&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---QQSDK&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---SVProgressHUD&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;|---Module&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Login&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---VC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---XIB&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Comment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---VC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---XIB&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;|---Business&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;|---Feeds&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¹ä¸€çœ‹å¥½å¤šï¼Œåˆ«è¢«å“åˆ°=ã€‚=ï¼Œå®¹æˆ‘ç»†ç»†è®²è§£ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯¦ç»†è®²è§£&quot;&gt;&lt;a href=&quot;#è¯¦ç»†è®²è§£&quot; class=&quot;headerlink&quot; title=&quot;è¯¦ç»†è®²è§£&quot;&gt;&lt;/a&gt;è¯¦ç»†è®²è§£&lt;/h2&gt;&lt;h3 id=&quot;General&quot;&gt;&lt;a href=&quot;#General&quot; class=&quot;headerlink&quot; title=&quot;General&quot;&gt;&lt;/a&gt;General&lt;/h3&gt;&lt;p&gt;Generalå¥½ç†è§£ï¼Œæ”¾çš„å°±æ˜¯å¦‚AppDelegateä¹‹ç±»çš„ã€é¡¹ç›®ä¸­æœ€æ™®é€šçš„ã€æœ€å¸¸ç”¨çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AppDelegate&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;Appçš„Delegateç±»å®ç°ï¼Œè¿™ä¸ªå¿…é¡»æœ‰ï¼Œå°±ä¸ç”¨è¯´äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Application&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;å¦‚æœè‡ªå®šä¹‰å®ç°äº†Applicationç±»ï¼Œå°±æ”¾åœ¨è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Constant&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œå¸¸é‡ï¼Œé¡¹ç›®ç”¨åˆ°çš„æ‰€æœ‰å…¬å…±å¸¸é‡ï¼Œå¦‚enumæšä¸¾ç±»å‹çš„ã€Notificationçš„Tagï¼Œå¸¸ç”¨çš„é¢œè‰²ã€å­—ç¬¦ä¸²ç­‰ç­‰ç­‰ï¼Œéƒ½å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚åˆ’åˆ†ä¸åŒçš„Groupï¼Œæ”¾åˆ°Constanté‡Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UI&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;é¡¹ç›®ä¸­è‡ªå®šä¹‰çš„UIViewã€UIViewControllerå­ç±»ä¹‹ç±»çš„ä»£ç ï¼Œå°±å¯¹åº”æ”¾åœ¨UIä¸‹çš„Viewã€VCä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Category&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;å¯¹ç³»ç»Ÿç±»åšçš„æ‰©å±•ï¼Œå„ç§Categoryï¼Œå¦‚&lt;code&gt;NSString+XXXExtension&lt;/code&gt;è¿™ç§ï¼Œå°±ç»Ÿä¸€æ”¾åœ¨Categoryç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚è¿˜æœ‰å…¶ä»–çš„é€šç”¨ç»„ä»¶ï¼Œä¹Ÿä¸å¦¨æ”¾åˆ°è¿™é‡Œï¼Œåšç»Ÿä¸€çš„ç®¡ç†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Entity&quot;&gt;&lt;a href=&quot;#Entity&quot; class=&quot;headerlink&quot; title=&quot;Entity&quot;&gt;&lt;/a&gt;Entity&lt;/h3&gt;&lt;p&gt;Entityï¼Œä¹Ÿæœ‰äººå–œæ¬¢å«Modelï¼ˆå…³äºEntityå’ŒModelçš„åŒºåˆ«ï¼Œæ¨èçœ‹çœ‹&lt;a href=&quot;http://blogsh.de/2011/09/08/models-vs-entities/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œä¸ªäººè§‰å¾—ç ”ç©¶ç ”ç©¶Entityå’ŒModelæ¦‚å¿µçš„åŒºåˆ«è¿˜æ˜¯å¾ˆæœ‰å¥½å¤„çš„ï¼‰ï¼Œå°±æ˜¯ç¨‹åºä¸­çš„â€œå®ä½“â€ï¼Œå¦‚ä¸€ä¸ªç”¨æˆ·ã€ä¸€æ¡è¯„è®ºã€ä¸€é¦–æ­Œç­‰ç­‰ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹â€œä¸ªä½“â€çš„é›†åˆã€æ‰“åŒ…ï¼Œå…·ä½“çš„è‡ªå·±æŸ¥æŸ¥å§ï¼Œç½‘ä¸Šä¸€å¤§å †çš„ï¼Œæ„Ÿè§‰è·ŸJavaBeançš„æ¦‚å¿µæ¯”è¾ƒåƒã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æ¥è¯´ï¼Œæ¯ä¸ªEntityç±»éƒ½æ¯”è¾ƒç®€å•ï¼ŒåªåŒ…å«è‹¥å¹²ä¸ªå±æ€§ã€‚ä½†æ˜¯æœ‰æ—¶å€™å¯èƒ½è¦åšç»Ÿä¸€çš„å¤„ç†ï¼Œå¦‚ï¼Œåœ¨ä»æœåŠ¡å™¨å–å›çš„JSONæ•°æ®è§£åŒ…æˆå…·ä½“çš„Entityç±»ï¼Œå¹¶ä¸”æ‰§è¡Œä¸€ç³»åˆ—åˆå§‹åŒ–æ“ä½œç­‰ç­‰ï¼Œæ‰€ä»¥å¯èƒ½è¦å¯¹æ‰€æœ‰çš„Entityç±»åšç»Ÿä¸€å¤„ç†ã€‚æ‰€ä»¥è¯´ï¼Œå¯ä»¥å®šåˆ¶ç›¸åº”çš„BaseEntityåŸºç±»ï¼Œåˆ©ç”¨æ¨¡æ¿æ–¹æ³•ç­‰åŠæ³•ï¼Œå®šåˆ¶ç»Ÿä¸€çš„åˆå§‹åŒ–æµç¨‹ï¼ˆå¥½åƒæ‰¯è¿œäº†=ã€‚=ï¼Œè¿™ä¸ªåé¢ä¼šè¯¦ç»†å†™ç¯‡ä¸œè¥¿åˆ†äº«ç»™å¤§å®¶ï¼‰ï¼ŒBaseEntityå°±æ˜¯æ”¾è¿™äº›åŸºç±»çš„ä¸œè¥¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†BaseEntityåï¼Œå¯¹åº”çš„å„ä¸ªä¸šåŠ¡ä¸­çš„å…·ä½“Entityï¼Œå¦‚UserEntityã€CommentEntityï¼Œå°±å¯ä»¥åˆ†é—¨åˆ«ç±»çš„å»ºç«‹å•ç‹¬çš„Groupå­˜æ”¾ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Http&quot;&gt;&lt;a href=&quot;#Http&quot; class=&quot;headerlink&quot; title=&quot;Http&quot;&gt;&lt;/a&gt;Http&lt;/h3&gt;&lt;p&gt;è¿™ä¸ªGroupé‡Œé¢æ”¾è·Ÿç½‘ç»œè¯·æ±‚ç›¸å…³çš„ä¸œè¥¿ï¼Œè¯¦ç»†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Api&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;äº’è”ç½‘åº”ç”¨å°‘ä¸äº†è·ŸæœåŠ¡å™¨æ‰“äº¤é“çš„å„ç§ç½‘ç»œæ¥å£ï¼Œæ‰€ä»¥æˆ‘åœ¨é¡¹ç›®ä¸­æŠŠæ‰€æœ‰çš„APIå¯¹åº”çš„ç›¸å¯¹URLåœ°å€ã€å‚æ•°æ³¨é‡Šè¦æ±‚ç­‰ç­‰éƒ½æ”¾åœ¨äº†è¿™é‡Œï¼Œå¥½ç»Ÿä¸€ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Manager&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;å®šä¹‰æœ€åŸºæœ¬çš„ç½‘ç»œè¯·æ±‚ï¼Œå¦‚GETã€POSTã€PUTç­‰è¯·æ±‚çš„åŸºæœ¬å°è£…ï¼Œè·å–å›¾ç‰‡çš„åŸºæœ¬å°è£…ã€‚&lt;br&gt;ä¸€èˆ¬æ¥è¯´å°±æ˜¯å®šåˆ¶ç»Ÿä¸€çš„åŸºæœ¬è¯·æ±‚æ¥å£ï¼Œå¯¹ä¸Šå±‚æä¾›ä¸€è‡´ã€ç¨³å®šçš„æœåŠ¡ï¼ŒçœŸæ­£çš„ç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥è‡ªå·±ç”¨iOSåŸç”Ÿçš„Apiå†™ï¼Œä¹Ÿå¯ä»¥ç”¨AFNetworkingç­‰ç¬¬ä¸‰æ–¹åº“åšå°è£…ï¼Œå›¾ç‰‡ä¹Ÿå¯ä»¥çµæ´»çš„ç”¨AFNetworkingã€SDWebImageè¿™äº›ä¼˜ç§€çš„åº“å®ç°ã€‚è¿˜æœ‰å°±æ˜¯ï¼Œå¯ä»¥æ–¹ä¾¿çš„ç»Ÿä¸€å¯¹è¯·æ±‚åšå¤„ç†ï¼Œå¦‚é”™è¯¯å¤„ç†ã€Httpçš„Codeã€çŠ¶æ€å¤„ç†ç­‰ç­‰ã€‚è¿˜å¯ä»¥ç»Ÿä¸€çš„å¢åŠ è¯·æ±‚å‚æ•°ï¼Œå¦‚ç»Ÿä¸€ä¸ºæ¯ä¸ªè¯·æ±‚éƒ½å¢åŠ ç”¨æˆ·çš„IDã€tokenä»€ä¹ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CodeHandler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤§éƒ¨åˆ†çš„APIè®¾è®¡éƒ½ä¼šæœ‰ç›¸åº”çš„çŠ¶æ€ç ã€Codeï¼Œä¸ºäº†æ–¹ä¾¿æ‰©å±•ï¼Œå¯ä»¥æŠŠè¿™äº›å¤„ç†Codeçš„ç±»å•ç‹¬æ”¾åœ¨è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ErrorHandler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå°±å°‘ä¸äº†äº†ï¼Œå¯¹Httpçš„é”™è¯¯è¿›è¡Œå•ç‹¬å¤„ç†ï¼ŒåŠ Logä»€ä¹ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HttpHandler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªGroupé‡Œé¢æ”¾çš„æ˜¯çœŸæ­£å®ç°æ¥å£çš„ç±»ï¼Œå¦‚ä»€ä¹ˆUserHttpHandlerã€CommentHttpHandlerä¹‹ç±»çš„ï¼Œå°±æ˜¯å…·ä½“å®ç°äº†æ¥å£è°ƒç”¨ã€å¤„ç†è¿”å›æ•°æ®ã€å›è°ƒçš„ç±»ã€‚&lt;/p&gt;
&lt;p&gt;Httpé‡Œé¢çš„å„ä¸ªGroupçš„ç±»å…¶å®éƒ½æ˜¯ç›¸äº’å…³è”çš„ï¼Œè®¾è®¡çš„æ—¶å€™å¯ä»¥å®šåˆ¶ç»Ÿä¸€çš„æ¥å£ï¼ˆProtocolï¼‰ï¼Œç„¶ååˆ›å»ºç±»å®ç°ï¼ˆconformï¼‰è¿™äº›æ¥å£ï¼Œä¹Ÿå°±æ˜¯é¢å‘æ¥å£çš„ç¼–ç¨‹ï¼Œä»¥æœ€å¤§é™åº¦çš„å‡å°‘æ¥å£å±‚çš„å„ä¸ªèŒèƒ½ä¹‹é—´çš„è€¦åˆï¼Œæ–¹ä¾¿æ‰©å±•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;DB&quot;&gt;&lt;a href=&quot;#DB&quot; class=&quot;headerlink&quot; title=&quot;DB&quot;&gt;&lt;/a&gt;DB&lt;/h3&gt;&lt;p&gt;ä»‹äºiOSçš„SQLiteä¸æ˜¯é‚£ä¹ˆå¥½ç”¨ï¼Œæ‰€ä»¥éå¸¸æœ‰å¿…è¦ä¸ºæ“ä½œæ•°æ®åº“çš„ç±»å»ºç«‹å•ç‹¬çš„åœ°ç›˜=ã€‚=&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DBHelper&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;æ”¾åŸºç¡€çš„æ“ä½œæ•°æ®åº“çš„ç±»ï¼Œå¦‚ç®€å•çš„æŸ¥æ‰¾ã€æ’å…¥ã€æ›´æ–°ã€äº‹åŠ¡æ›´æ–°ç­‰ç­‰æ“ä½œï¼Œä¸ºè´Ÿè½½çš„æ•°æ®åº“ä¸šåŠ¡é€»è¾‘å°è£…åº•å±‚æ¥å£ã€‚æ¯”å¦‚å¯¹æµè¡Œçš„FMDBè¿›è¡Œå°è£…ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DBService&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ”¾å…·ä½“çš„æ•°æ®åº“ä¸šåŠ¡å®ç°ç±»ï¼Œè‡³äºä¸ºä»€ä¹ˆå«â€œServiceâ€ï¼Œå› ä¸ºæˆ‘ä¹Ÿæƒ³ä¸å‡ºä»€ä¹ˆå¥½çš„åå­—äº†=ã€‚= æŒ‰ç…§è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ç»„ç»‡å³å¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Util&quot;&gt;&lt;a href=&quot;#Util&quot; class=&quot;headerlink&quot; title=&quot;Util&quot;&gt;&lt;/a&gt;Util&lt;/h3&gt;&lt;p&gt;æ”¾å¸¸ç”¨çš„å·¥å…·ç±»çš„åœ°æ–¹ã€‚å¦‚å­—ç¬¦ä¸²æ“ä½œçš„ç±»StringUtilã€æ—¶é—´è®¡ç®—æ ¼å¼åŒ–ç±»TimeUtilç­‰ï¼ŒæŒ‰å…·ä½“éœ€æ±‚è€Œå®šï¼Œè¿™ä¸ªå°±ä¸ç”¨å¤šè¯´äº†å§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Service&quot;&gt;&lt;a href=&quot;#Service&quot; class=&quot;headerlink&quot; title=&quot;Service&quot;&gt;&lt;/a&gt;Service&lt;/h3&gt;&lt;p&gt;é¡¹ç›®çš„éœ€æ±‚å¤šäº†ï¼Œä¸šåŠ¡é€»è¾‘çš„ä»£ç å°±ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ€»ä¸èƒ½éƒ½æ”¾åœ¨view controlleré‡Œé¢å§ã€‚ä¸€äº›å¤šå¤„ç”¨åˆ°çš„ï¼Œæˆ–è€…éå¸¸ç‹¬ç«‹çš„ä¸šåŠ¡ä»£ç ï¼Œå®Œå…¨å¯ä»¥æŠ½ç¦»å‡ºæ¥ï¼Œå®ç°ä¸ºå•ç‹¬çš„ã€è·Ÿç•Œé¢æ— å…³çš„ä¸šåŠ¡ç±»ã€‚å› ä¸ºåšçš„äº‹å¾ˆæ‚ï¼Œæ‰€ä»¥å¹²è„†å°±å«Serviceäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AccountService&lt;/strong&gt;ã€&lt;strong&gt;ShareService&lt;/strong&gt;å°±æ˜¯è¿™ç§ç±»ã€‚è€Œä¸”å¤§éƒ¨åˆ†çš„Serviceéƒ½åº”è¯¥æ˜¯å•ä¾‹ç±»ï¼Œå¦‚&lt;strong&gt;AccountService&lt;/strong&gt;ç±»å¯èƒ½ç»´æŠ¤ç€ç¨‹åºè¿è¡ŒæœŸé—´çš„è´¦æˆ·ä¿¡æ¯ï¼Œ&lt;strong&gt;ShareService&lt;/strong&gt;å¯¹ç¨‹åºçš„åˆ†äº«åŠŸèƒ½åšäº†ç»Ÿä¸€å¤„ç†ç­‰ç­‰ï¼Œå…·ä½“æ€ä¹ˆç”¨å°±éšå„ä½äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Lib&quot;&gt;&lt;a href=&quot;#Lib&quot; class=&quot;headerlink&quot; title=&quot;Lib&quot;&gt;&lt;/a&gt;Lib&lt;/h3&gt;&lt;p&gt;Libï¼Œæ”¾å„ç§ç¬¬ä¸‰æ–¹åº“ï¼Œå› é¡¹ç›®éœ€è¦ä¿®æ”¹è¿‡çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ç­‰ï¼Œåƒä»€ä¹ˆå‹ç›Ÿã€QQSDKä¹‹ç±»çš„å°±å¯ä»¥æ”¾è¿™ã€‚å½“ç„¶ï¼Œä¸€äº›ä¸ä¼šåšæ”¹åŠ¨çš„åº“æœ€å¥½è¿˜æ˜¯ç”¨CocoaoPodåšç»Ÿä¸€ç®¡ç†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Module&quot;&gt;&lt;a href=&quot;#Module&quot; class=&quot;headerlink&quot; title=&quot;Module&quot;&gt;&lt;/a&gt;Module&lt;/h3&gt;&lt;p&gt;ç»ˆäºè®²åˆ°äº†æœ€é‡è¦çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;iOSå·¥ç¨‹ä¸­æœ€å¤šçš„æ–‡ä»¶å¾€å¾€å°±æ˜¯å„ç§Viewã€ViewControllerç±»ï¼Œä»¥å‰æ€»æ˜¯çœ‹åˆ°æœ‰äººåªåˆ›å»ºä¸¤ä¸ªGroupï¼Œä¸€ä¸ªå«Viewsï¼Œå¦ä¸€ä¸ªå«ViewControllersï¼Œç„¶åæ‰€æœ‰çš„Viewsã€ViewControlleréƒ½å¾€é‡Œé¢å¡ï¼Œç„¶åéšç€éœ€æ±‚çš„å¢åŠ ï¼Œè¿™ä¸¤ä¸ªGroupä¹Ÿè‡ƒè‚¿ä¸å ªã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŠæ³•æ€»æ˜¯æœ‰çš„ã€‚å°±æ˜¯ä¸ºå·¥ç¨‹åˆ’åˆ†æ¨¡å—-Module&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä½•åˆ’åˆ†Moduleï¼Ÿæˆ‘è®¤ä¸ºï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹ä¸¤ç‚¹å»ºç«‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»¥é¡µé¢è·³è½¬åˆ†æ”¯åˆ’åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥åŠŸèƒ½åˆ’åˆ†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä»¥é¡µé¢è·³è½¬åˆ†æ”¯åˆ’åˆ†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯æŒ‰ç…§åº”ç”¨çš„é¡µé¢è®¾è®¡ä¸ä¸šåŠ¡é€»è¾‘ï¼Œä»æœ€é¡¶çº§å¼€å§‹ï¼Œä¸€çº§ä¸€çº§é¡µé¢å¾€ä¸‹è·³è½¬ï¼Œæ‰¾å‡ºå…¶ä¸­çš„ç‹¬ç«‹åˆ†æ”¯ï¼Œå½’ä¸ºä¸€ä¸ªModuleæ¨¡å—ã€‚&lt;br&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œåº”ç”¨ä¸»ç•Œé¢æœ‰4ä¸ªTabé¡µï¼Œå°±å…ˆåˆ†å‡ºå››ä¸ªModuleï¼Œç„¶åä¸€çº§ä¸€çº§å¾€ä¸‹è·³è½¬ï¼Œé‡åˆ°åˆ†æ”¯å°±å»ºç«‹æ–°çš„Moduleï¼Œå¦‚æ­¤é€’å½’çš„å»ºç«‹ï¼Œå°±èƒ½å¤§è‡´åˆ’åˆ†å‡ºå„ä¸ªModuleã€‚å½“ç„¶ï¼Œè¿™ä¹ˆåšæ˜¯æœ€ç²—ç³™çš„ï¼Œè¿˜è¦æ ¹æ®æƒ…å†µï¼Œå°†ä¸åŒçš„åˆ†æ”¯Moduleåˆå¹¶æˆä¸€ä¸ªModuleï¼Œç®€åŒ–ä»£ç çš„ç»„æˆã€‚æˆ‘åœ¨è¿™åªæ˜¯æä¾›ä¸ªåˆ’åˆ†Moduleçš„æ–¹æ³•ï¼Œå…·ä½“æ€ä¹ˆè®¾è®¡å°±çœ‹å„ä½è¯»è€…äº†=ã€‚=&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»¥åŠŸèƒ½åˆ’åˆ†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå¥½ç†è§£ï¼Œæ— éå°±æ˜¯æ ¹æ®å‰æœŸé¡¹ç›®çš„åŠŸèƒ½æ¨¡å—åˆ’åˆ†å·¥ç¨‹çš„ä»£ç Moduleç»„æˆã€‚å¦‚ä»€ä¹ˆç”¨æˆ·è®¾ç½®Moduleã€è¯„è®ºModuleã€ç™»å½•Moduleç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥æ•°ï¼Œå°±æ˜¯è¦ç”¨Moduleå°†å·¥ç¨‹çš„ä»£ç åˆ†ç±»ç®¡ç†ï¼Œæ¯ä¸ªModuleå…·æœ‰å¤§è‡´ç›¸åŒçš„ç»“æ„ï¼Œå¦‚éƒ½å¯èƒ½æœ‰æœ¬Moduleç”¨åˆ°çš„Viewã€ViewControllerï¼Œè‡ªå®šä¹‰çš„ç±»Classç­‰ç­‰ï¼Œå°±æ˜¯è¯´ï¼ŒæŒ‰ç…§èŒèƒ½å¯¹ä»£ç åˆ’åˆ†ï¼Œé¿å…å°†æ‰€æœ‰çš„ç±»éƒ½å †åœ¨ä¸€èµ·ï¼Œä¹Ÿå¥½åº”å¯¹æ–°çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å•°å•°å—¦å—¦è¯´äº†ä¸€å¤§å †ï¼Œæƒ³å¿…å„ä½éƒ½çœ‹çƒ¦äº†å§=ã€‚=åˆšå¼€å§‹å†™åšå®¢ï¼Œå†™åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œåˆä¼šå¼•å‡ºå¦ä¸€å—ï¼Œå†™ç€å†™ç€å®¹æ˜“å†™åäº†ã€‚&lt;/p&gt;
&lt;p&gt;å†™ä¹‹å‰æˆ‘ä¹Ÿå¤§è‡´æœäº†ä¸€ä¸‹ï¼Œå‘ç°ç½‘ä¸Šç›¸å…³çš„èµ„æ–™å¥½å°‘ï¼Œä½†æ˜¯å®é™…çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œé¡¹ç›®å·¥ç¨‹çš„ç›®å½•ç»“æ„éå¸¸é‡è¦ï¼Œæ— è®ºæ˜¯å¯¹å¼€å‘è¿˜æ˜¯å¯¹åæœŸçš„ç»´æŠ¤ï¼Œæ‰€ä»¥æƒ³ç€åº”è¯¥å†™ç¯‡ä¸œè¥¿ï¼Œåˆ†äº«æˆ‘è‡ªå·±çš„ç»éªŒç»™å¤§å®¶ï¼Œæœ‰å•¥é—®é¢˜ï¼Œå¤šææ„è§å•Š~~~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨åšiOSçš„é¡¹ç›®ï¼ˆ&lt;a href=&quot;https://itunes.apple.com/cn/app/qing-ju-yin-le-quan-guo-zui/id913235479?mt=8&quot;&gt;é’æ¡”éŸ³ä¹App&lt;/a&gt;ï¼‰ï¼Œéšç€ä»£ç é‡çš„ä¸Šå‡ï¼Œé€æ¸æ„è¯†åˆ°é¡¹ç›®çš„æ•´ä½“ç›®å½•ç»“æ„åˆ’åˆ†æ˜¯å¤šä¹ˆé‡è¦ï¼Œæ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œèƒ½å¤Ÿæ›´å¥½çš„åº”å¯¹æ–°çš„éœ€æ±‚ï¼Œæ›´å®¹æ˜“é‡æ„ã€‚è™½ç„¶ä¸€ç›´éƒ½æ˜¯ä¸€ä¸ªäººåœ¨åš=ã€‚=ï¼Œä½†æ˜¯è¿˜æ˜¯æ·±æ·±åœ°ä½“ä¼šåˆ°ç›®å½•ç»“æ„çš„é‡è¦æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://tutuge.me/categories/iOS/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="iOS" scheme="http://tutuge.me/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>Androidå¼€æºåº“-LinkTextView-åŸåˆ›</title>
    <link href="http://tutuge.me/2014/11/02/LinkTextView-Android%E5%BC%80%E6%BA%90%E5%BA%93-%E5%8E%9F%E5%88%9B/"/>
    <id>http://tutuge.me/2014/11/02/LinkTextView-Androidå¼€æºåº“-åŸåˆ›/</id>
    <published>2014-11-01T18:34:46.000Z</published>
    <updated>2016-08-07T06:12:55.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿‘æ¥å› ä¸ºé¡¹ç›®çš„ç¼˜æ•…ï¼Œä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•åœ¨Androidçš„TextViewé‡Œé¢ç»‘å®šå¯ä»¥ç‚¹å‡»çš„é“¾æ¥ï¼Œå¹¶ä¸”å®šåˆ¶é“¾æ¥çš„é¢œè‰²ï¼ŒåŒ…æ‹¬æ­£å¸¸çŠ¶æ€ã€æŒ‰ä¸‹å»æ—¶çš„æ–‡å­—ã€èƒŒæ™¯çš„é¢œè‰²ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰ç‚¹å‡»åçš„å›è°ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä»¥åæ–¹ä¾¿è‡ªå·±ï¼Œä¹Ÿä¸ºäº†æ–¹ä¾¿æ›´å¤šçš„äººï¼Œå°±æŠŠè¿™äº›å°è£…æˆäº†ä¸€ä¸ªç®€å•çš„å¼€æºåº“ï¼Œä¹Ÿç®—æ˜¯æˆ‘è‡ªå·±çš„&lt;strong&gt;&lt;em&gt;ç¬¬ä¸€ä¸ªå¼€æºåº“&lt;/em&gt;&lt;/strong&gt;å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;LinkTextView&quot;&gt;&lt;a href=&quot;#LinkTextView&quot; class=&quot;headerlink&quot; title=&quot;LinkTextView&quot;&gt;&lt;/a&gt;LinkTextView&lt;/h2&gt;&lt;p&gt;åç§°ï¼š&lt;a href=&quot;https://github.com/zekunyan/LinkTextView&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;LinkTextView&lt;/a&gt;ã€‚å–œæ¬¢çš„è¯å°±Starä¸€ä¸‹å§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Example&quot;&gt;&lt;a href=&quot;#Example&quot; class=&quot;headerlink&quot; title=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/LinkTextView_Sample.gif&quot; alt=&quot;ç¤ºä¾‹&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;åŠŸèƒ½ï¼š&quot;&gt;&lt;a href=&quot;#åŠŸèƒ½ï¼š&quot; class=&quot;headerlink&quot; title=&quot;åŠŸèƒ½ï¼š&quot;&gt;&lt;/a&gt;åŠŸèƒ½ï¼š&lt;br&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;å¯ä»¥æ–¹ä¾¿çš„å¯¹TextViewé‡Œé¢çš„æ–‡å­—å¢åŠ å¯ç‚¹å‡»é“¾æ¥ï¼Œå¹¶ä¸”ç»‘å®šå›è°ƒã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸ºæ¯ä¸ªé“¾æ¥&lt;strong&gt;å•ç‹¬&lt;/strong&gt;è®¾ç½®&lt;strong&gt;æ–‡å­—&lt;/strong&gt;ã€é“¾æ¥&lt;strong&gt;èƒŒæ™¯&lt;/strong&gt;çš„&lt;strong&gt;æ­£å¸¸&lt;/strong&gt;ã€&lt;strong&gt;æŒ‰ä¸‹&lt;/strong&gt;çŠ¶æ€ä¸‹çš„é¢œè‰²ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸ºæ¯ä¸ªé“¾æ¥ç»‘å®šä»»æ„ç±»å‹çš„â€œé™„ä»¶â€å¯¹è±¡ï¼Œä½œä¸ºç‚¹å‡»é“¾æ¥æ—¶çš„å›è°ƒå‚æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;è®²è§£&quot;&gt;&lt;a href=&quot;#è®²è§£&quot; class=&quot;headerlink&quot; title=&quot;è®²è§£&quot;&gt;&lt;/a&gt;è®²è§£&lt;/h2&gt;&lt;p&gt;ä¸‹é¢åˆ†é‡ç‚¹è®²è§£ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;1-ä¸ºæ–‡å­—å¢åŠ å¯ç‚¹å‡»é“¾æ¥ï¼Œç»‘å®šå›è°ƒã€‚&quot;&gt;&lt;a href=&quot;#1-ä¸ºæ–‡å­—å¢åŠ å¯ç‚¹å‡»é“¾æ¥ï¼Œç»‘å®šå›è°ƒã€‚&quot; class=&quot;headerlink&quot; title=&quot;1. ä¸ºæ–‡å­—å¢åŠ å¯ç‚¹å‡»é“¾æ¥ï¼Œç»‘å®šå›è°ƒã€‚&quot;&gt;&lt;/a&gt;1. ä¸ºæ–‡å­—å¢åŠ å¯ç‚¹å‡»é“¾æ¥ï¼Œç»‘å®šå›è°ƒã€‚&lt;/h3&gt;&lt;p&gt;ä¸ºæ–‡å­—å¢åŠ é“¾æ¥ï¼Œå·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆäº†ï¼ŒçœŸæ˜¯ä¸€æœä¸€å¤§æŠŠï¼Œä¸è¿‡åœ¨è¿™é‡Œè¿˜æ˜¯ç®€å•è®²ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨è¿‡TextViewåº”è¯¥éƒ½çŸ¥é“è¿™ä¸ªæ¥å£ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setText&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(CharSequence text)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…¶ä¸­CharSequenceæ¥å£çš„å­æ¥å£é‡Œé¢æœ‰Spannableï¼Œè€Œç”±è¿™ä¸ªæ¥å£æ´¾ç”Ÿå‡ºæ¥çš„ç±»SpannableStringï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹TextViewé‡Œé¢çš„æ–‡å­—åšé™„åŠ æ•ˆæœçš„åŸå› ã€‚å¦‚æ”¹å˜é¢œè‰²ã€å¢åŠ è¶…é“¾æ¥ç­‰ï¼Œæœ‰å…´è¶£çš„å„ä½å¯ä»¥å»ä»”ç»†æŸ¥æŸ¥ã€‚ä¸‹é¢ç®€å•çš„è¯´è¯´æ€ä¹ˆåŠ å¯ç‚¹å‡»çš„é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é¦–å…ˆåˆ›å»ºSpannableString&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SpannableString text = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SpannableString(&lt;span class=&quot;string&quot;&gt;&quot;LinkTextView dadada&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;ç»‘å®šClickableSpanå›è°ƒ&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ClickableSpan clickableSpan = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ClickableSpan() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;//ç‚¹å‡»äº†é“¾æ¥ï¼Œåšä½ æƒ³å¹²çš„äº‹å§=ã€‚=&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;text.setSpan(clickableSpan, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;æœ€åå†setText&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;textView.setText(text);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹ï¼Œç»‘å®šå¯ä»¥ç‚¹å‡»çš„é“¾æ¥å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;2-æ”¹å˜æ­£å¸¸ã€æŒ‰ä¸‹æ—¶çš„æ–‡å­—ã€é“¾æ¥èƒŒæ™¯é¢œè‰²ã€‚&quot;&gt;&lt;a href=&quot;#2-æ”¹å˜æ­£å¸¸ã€æŒ‰ä¸‹æ—¶çš„æ–‡å­—ã€é“¾æ¥èƒŒæ™¯é¢œè‰²ã€‚&quot; class=&quot;headerlink&quot; title=&quot;2. æ”¹å˜æ­£å¸¸ã€æŒ‰ä¸‹æ—¶çš„æ–‡å­—ã€é“¾æ¥èƒŒæ™¯é¢œè‰²ã€‚&quot;&gt;&lt;/a&gt;2. æ”¹å˜æ­£å¸¸ã€æŒ‰ä¸‹æ—¶çš„æ–‡å­—ã€é“¾æ¥èƒŒæ™¯é¢œè‰²ã€‚&lt;/h3&gt;&lt;p&gt;å¾€å¾€ç³»ç»Ÿé»˜è®¤çš„é“¾æ¥é¢œè‰²æ˜¯ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚çš„ï¼Œæ‰€ä»¥æœ€å¥½èƒ½å¯¹é“¾æ¥çš„æ–‡å­—ã€èƒŒæ™¯çš„æŒ‰ä¸‹ã€æ¾å¼€æ—¶çš„é¢œè‰²åšå®šåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;ä½†æ˜¯å¥½å‘=ã€‚=ï¼ŒGoogleå±…ç„¶æ²¡æœ‰ä¸ºClickableSpanå¢åŠ æŒ‰ä¸‹æ—¶çš„å›è°ƒ&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£å°±åªå¥½è‡ªå·±é€ è½®å­äº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;é¦–å…ˆ&quot;&gt;&lt;a href=&quot;#é¦–å…ˆ&quot; class=&quot;headerlink&quot; title=&quot;é¦–å…ˆ&quot;&gt;&lt;/a&gt;é¦–å…ˆ&lt;/h4&gt;&lt;p&gt;å¿…é¡»è¦èƒ½è·å–åˆ°é“¾æ¥æŒ‰ä¸‹æ—¶çš„å›è°ƒï¼Œåº”è¯¥æ˜¯onTouchä»€ä¹ˆçš„ï¼Œäºæ˜¯ï¼Œå°±æŸ¥åˆ°äº†ç±»ï¼šLinkMovementMethodã€‚&lt;br&gt;åœ¨TextViewä¸­å¯ä»¥ç”¨æ–¹æ³•ï¼špublic final void setMovementMethod (MovementMethod movement)è®¾å®šç›‘å¬ï¼Œè€ŒLinkMovementMethodç±»é‡Œé¢å°±å¯ä»¥ç›‘å¬åˆ°é“¾æ¥çš„onTouchï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LinkMovementMethodçš„onTouchå°±æ˜¯ä»‹ä¸ªæ ·å­çš„&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt;	 &lt;span class=&quot;title&quot;&gt;onTouchEvent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TextView textView, Spannable spannable, MotionEvent event)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡eventæ¥åˆ¤æ–­æ˜¯æŒ‰ä¸‹è¿˜æ˜¯ç§»åŠ¨ç­‰ç­‰æ“ä½œã€‚&lt;br&gt;ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œè¿™é‡Œçš„spannableæ˜¯æ•´ä¸ªTextViewå…¨éƒ¨çš„æ–‡å­—ï¼Œæ‰€ä»¥ï¼Œåªèƒ½é€šè¿‡eventé‡Œé¢çš„xã€yåæ ‡ï¼Œæ‰¾åˆ°å…·ä½“ç‚¹å‡»çš„æ˜¯å“ªä¸ªé“¾æ¥ã€‚è¿™é‡Œï¼Œè¦æ„Ÿè°¢stack overflowä¸Šçš„å¤§ç¥çš„&lt;a href=&quot;http://stackoverflow.com/questions/20856105/change-the-text-color-of-a-clickablespan-when-pressed&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å¸–å­&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„æ‰¾ç‚¹å‡»é“¾æ¥çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; TouchableSpan &lt;span class=&quot;title&quot;&gt;getPressedSpan&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TextView textView, Spannable spannable, MotionEvent event)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è·å–ç‚¹å‡»çš„xã€yåæ ‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) event.getX();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; y = (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) event.getY();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å‡å»Padding&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    x -= textView.getTotalPaddingLeft();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    y -= textView.getTotalPaddingTop();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//åŠ ä¸Šæ»šåŠ¨çš„åç§»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    x += textView.getScrollX();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    y += textView.getScrollY();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è·å–ç¬¬å‡ è¡Œã€ä»¥åŠåç§»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Layout layout = textView.getLayout();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; line = layout.getLineForVertical(y);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; off = layout.getOffsetForHorizontal(line, x);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//è·å–çœŸæ­£ç‚¹å‡»çš„é“¾æ¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TouchableSpan[] link = spannable.getSpans(off, off, TouchableSpan.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TouchableSpan touchedSpan = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (link.length &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        touchedSpan = link[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; touchedSpan;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆ°æ­¤ï¼Œæˆ‘ä»¬å·²ç»èƒ½è·å–åˆ°é“¾æ¥çš„ç‚¹å‡»çŠ¶æ€ï¼Œå¹¶ä¸”æ•æ‰åˆ°å…·ä½“ç‚¹å‡»çš„ClickableSpanã€‚&lt;/p&gt;
&lt;h4 id=&quot;æ¥ç€&quot;&gt;&lt;a href=&quot;#æ¥ç€&quot; class=&quot;headerlink&quot; title=&quot;æ¥ç€&quot;&gt;&lt;/a&gt;æ¥ç€&lt;/h4&gt;&lt;p&gt;å°±æ˜¯æ”¹å˜é“¾æ¥çš„æ–‡å­—ã€èƒŒæ™¯é¢œè‰²ã€‚&lt;/p&gt;
&lt;p&gt;ClickableSpançš„æ–¹æ³•é‡Œé¢ï¼Œé™¤äº†&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View widget)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;updateDrawState&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TextPaint textPaint)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯æ›´æ–°æ–‡å­—æ¸²æŸ“æ•ˆæœçš„ã€‚æˆ‘ä»¬ç”¨å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼Œå°±èƒ½å®ç°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setColor&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; color)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bgColorå±æ€§&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;æœ€å&quot;&gt;&lt;a href=&quot;#æœ€å&quot; class=&quot;headerlink&quot; title=&quot;æœ€å&quot;&gt;&lt;/a&gt;æœ€å&lt;/h4&gt;&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥æ•æ‰åˆ°é“¾æ¥çš„ç‚¹å‡»çŠ¶æ€ï¼Œèƒ½è·å–åˆ°çœŸæ­£çš„ç‚¹å‡»çš„é“¾æ¥ï¼Œè¿˜æœ‰èƒ½åˆ·æ–°é“¾æ¥çš„é¢œè‰²äº†ï¼Œç›¸ä¿¡èªæ˜çš„ä½ ä¸€å®šèƒ½è‡ªå·±ç¢ç£¨å‡ºæ¥ï¼Œæ€ä¹ˆæ ·å®ç°æ–‡ç« å¼€å¤´çš„æ•ˆæœã€‚=v=&lt;/p&gt;
&lt;h4 id=&quot;æœ¬æ–‡å‚è€ƒ&quot;&gt;&lt;a href=&quot;#æœ¬æ–‡å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬æ–‡å‚è€ƒ&quot;&gt;&lt;/a&gt;æœ¬æ–‡å‚è€ƒ&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;Androidå®˜æ–¹æ–‡æ¡£ã€‚&lt;/li&gt;
&lt;li&gt;StackOverFlowçš„ï¼š&lt;a href=&quot;http://stackoverflow.com/questions/20856105/change-the-text-color-of-a-clickablespan-when-pressed&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Change the text color of a ClickableSpan when pressedã€‚&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿‘æ¥å› ä¸ºé¡¹ç›®çš„ç¼˜æ•…ï¼Œä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹å¦‚ä½•åœ¨Androidçš„TextViewé‡Œé¢ç»‘å®šå¯ä»¥ç‚¹å‡»çš„é“¾æ¥ï¼Œå¹¶ä¸”å®šåˆ¶é“¾æ¥çš„é¢œè‰²ï¼ŒåŒ…æ‹¬æ­£å¸¸çŠ¶æ€ã€æŒ‰ä¸‹å»æ—¶çš„æ–‡å­—ã€èƒŒæ™¯çš„é¢œè‰²ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰ç‚¹å‡»åçš„å›è°ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä»¥åæ–¹ä¾¿è‡ªå·±ï¼Œä¹Ÿä¸ºäº†æ–¹ä¾¿æ›´å¤šçš„äººï¼Œå°±æŠŠè¿™äº›å°è£…æˆäº†ä¸€ä¸ªç®€å•çš„å¼€æºåº“ï¼Œä¹Ÿç®—æ˜¯æˆ‘è‡ªå·±çš„&lt;strong&gt;&lt;em&gt;ç¬¬ä¸€ä¸ªå¼€æºåº“&lt;/em&gt;&lt;/strong&gt;å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;LinkTextView&quot;&gt;&lt;a href=&quot;#LinkTextView&quot; class=&quot;headerlink&quot; title=&quot;LinkTextView&quot;&gt;&lt;/a&gt;LinkTextView&lt;/h2&gt;&lt;p&gt;åç§°ï¼š&lt;a href=&quot;https://github.com/zekunyan/LinkTextView&quot;&gt;LinkTextView&lt;/a&gt;ã€‚å–œæ¬¢çš„è¯å°±Starä¸€ä¸‹å§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Example&quot;&gt;&lt;a href=&quot;#Example&quot; class=&quot;headerlink&quot; title=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://zorrochen.qiniudn.com/LinkTextView_Sample.gif&quot; alt=&quot;ç¤ºä¾‹&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://tutuge.me/categories/Android/"/>
    
    
      <category term="åŸåˆ›" scheme="http://tutuge.me/tags/%E5%8E%9F%E5%88%9B/"/>
    
      <category term="Android" scheme="http://tutuge.me/tags/Android/"/>
    
      <category term="å¼€æº" scheme="http://tutuge.me/tags/%E5%BC%80%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ç¯‡Blog</title>
    <link href="http://tutuge.me/2014/11/01/%E7%AC%AC%E4%B8%80%E7%AF%87Blog/"/>
    <id>http://tutuge.me/2014/11/01/ç¬¬ä¸€ç¯‡Blog/</id>
    <published>2014-10-31T16:13:15.000Z</published>
    <updated>2016-08-07T06:21:05.000Z</updated>
    
    <content type="html">&lt;p&gt;æ‹–äº†å¾ˆä¹…ï¼Œç»ˆäºå¼€å§‹å†™åšå®¢äº†ã€‚&lt;br&gt;ä¸€ç›´è§‰å¾—è‡ªå·±çš„çŸ¥è¯†å‚¨å¤‡ä¸å¤Ÿï¼Œä¸€ç›´éƒ½åœ¨å­¦ä¹ ï¼Œä¸€ç›´éƒ½åœ¨ç§¯ç´¯ã€‚ï¼ˆå…¶å®å°±æ˜¯æ‡’å¥½å—=ã€‚=ï¼‰&lt;/p&gt;
&lt;p&gt;è¯´ç‚¹å•¥å‘¢ï¼Œæƒ³åˆ°å•¥å°±è¯´å•¥å§~&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ä»å°å°±å–œæ¬¢æ¨¡å‹ã€ä¹é«˜ç§¯æœ¨ï¼Œå–œæ¬¢æ‹†ä¸œè¥¿ï¼Œå°è±¡æœ€æ·±çš„å°±æ˜¯æŠŠå®¶é‡Œçš„é«˜çº§å½•éŸ³æœºæ‹†äº†ï¼Œè£…ä¸å›å»ï¼Œå¡åˆ°äº†åºŠåº•ä¸‹ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šäº†å­¦ä¹‹åï¼Œåˆå¼€å§‹æ£é¼“å››é©±è½¦ï¼Œè‡ªå·±åšé©¬è¾¾ï¼Œç»•çº¿åœˆï¼Œå®¶é‡Œé›¶ä»¶ä¸€å¤§å †ï¼Œä¸²è”ä¸€å †ç”µæ± ï¼Œç»„è£…é¥æ§è½¦ï¼Œå”¯ä¸€çš„é—æ†¾ï¼Œå°±æ˜¯æ²¡æœ‰åšæˆé¥æ§é£æœºï¼ˆæ²¡é’±=ã€=ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œå®¶é‡Œæœ‰äº†ç”µè„‘ï¼ï¼ï¼è¿™è¦æ„Ÿè°¢è€çˆ¹ï¼Œå½“æ—¶èŠ±äº†ä¸€ä¸‡å¤šï¼Œæ¶²æ™¶æ˜¾ç¤ºå™¨ï¼Œåˆšä¸Šå¸‚çš„å¥”è…¾4å•Šï¼&lt;/p&gt;
&lt;p&gt;äºæ˜¯ï¼Œæˆ‘åˆå¼€å§‹æ‹†ç”µè„‘ã€‚ã€‚ã€‚æ¢æ˜¾å¡ã€è¶…é¢‘ï¼Œè·‘åˆ†ï¼Œå†è¶…é¢‘ï¼Œå†è·‘åˆ†ï¼Œ3DMarkå°±æ˜¯ä¿ºçš„ç¥–å®—å•Š~&lt;/p&gt;
&lt;p&gt;ç»ˆäºï¼Œèµ°ä¸Šäº†&lt;strong&gt;ç¼–ç¨‹&lt;/strong&gt;è¿™æ¡â€œ&lt;strong&gt;ä¸å½’è·¯&lt;/strong&gt;â€ï¼Œä¹‰æ— åé¡¾ï¼Œä¸€ç›´åˆ°äº†ç°åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨Dev-C++æŠ˜è…¾Cè¯­è¨€ï¼Œæ•°æ®ç»“æ„ã€ç®—æ³•ï¼Œæ¥ç€åˆæ˜¯C++ï¼ŒWindow APIï¼ŒQTï¼ˆè¿™ä¸ªçœŸè§‰å¾—ä¸é”™ï¼‰ï¼ŒMFCï¼ˆè½¯ä»¶è¯¾è®¾ï¼‰ï¼ŒJavaï¼ŒPythonï¼ŒAndroidï¼ˆä¸Šçº¿äº†å‡ ä¸ªå°åº”ç”¨ï¼Œæ‹¿äº†Googleå…¨å›½å¤§å­¦ç”ŸAndroidåº”ç”¨å¼€å‘å¤§èµ›åä¸­åœ°åŒºä¸‰ç­‰å¥–ï¼‰ï¼ŒiOSï¼ˆä¸Šçº¿åº”ç”¨ï¼Œé’æ¡”éŸ³ä¹ï¼‰ï¼ŒLinuxï¼Œè¿˜æœ‰å„ç§MySQLã€MongoDBç­‰æ•°æ®åº“çš„çº ç»“ï¼Œçœ‹å„ç§åšå®¢ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å¤©çœ‹çš„å¾ˆå¤šï¼Œæƒ³çš„ä¹Ÿä¸å°‘ï¼Œä½†æ˜¯ç»ˆç©¶ä¸å¤Ÿç²¾é€šï¼Œè·¯è¿˜å¾ˆé•¿å•Š~&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæœ€æ„Ÿè°¢çš„å°±æ˜¯æˆ‘çš„å¥³æœ‹å‹~é™ˆå› ç´ ~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æ‹–äº†å¾ˆä¹…ï¼Œç»ˆäºå¼€å§‹å†™åšå®¢äº†ã€‚&lt;br&gt;ä¸€ç›´è§‰å¾—è‡ªå·±çš„çŸ¥è¯†å‚¨å¤‡ä¸å¤Ÿï¼Œä¸€ç›´éƒ½åœ¨å­¦ä¹ ï¼Œä¸€ç›´éƒ½åœ¨ç§¯ç´¯ã€‚ï¼ˆå…¶å®å°±æ˜¯æ‡’å¥½å—=ã€‚=ï¼‰&lt;/p&gt;
&lt;p&gt;è¯´ç‚¹å•¥å‘¢ï¼Œæƒ³åˆ°å•¥å°±è¯´å•¥å§~&lt;/p&gt;
    
    </summary>
    
      <category term="å…¶å®ƒ" scheme="http://tutuge.me/categories/%E5%85%B6%E5%AE%83/"/>
    
    
      <category term="æ‚çƒ©" scheme="http://tutuge.me/tags/%E6%9D%82%E7%83%A9/"/>
    
  </entry>
  
</feed>
