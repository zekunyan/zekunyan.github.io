<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>å¼€æºé¡¹ç›®-æ‹¼å›¾éªŒè¯æ§ä»¶TTGPuzzleVerifyçš„å®ç° | iOSï¼ŒAndroidç¨‹åºçŒ¿ï¼Œå–œæ¬¢Macã€Linuxã€å„ç§å¼€æºæŠ€æœ¯ï¼Œå„ç§è¯­è¨€</title>
    <meta name="author" content="ç‡•æ³½å ƒ">
    
    <meta name="description" content="ç¨‹åºçŒ¿">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="å¼€æºé¡¹ç›®-æ‹¼å›¾éªŒè¯æ§ä»¶TTGPuzzleVerifyçš„å®ç°"/>
    <meta property="og:site_name" content="åœŸåœŸå“¥çš„æŠ€æœ¯Blog"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="åœŸåœŸå“¥çš„æŠ€æœ¯Blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="blue-grey">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">åœŸåœŸå“¥çš„æŠ€æœ¯Blog</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            åˆ†ç±»
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            å…³äº
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            æœç´¢
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav blue-grey darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="http://7nj2iz.com1.z0.glb.clouddn.com/avatar_comic_big.png" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">åœŸåœŸå“¥</p>
                        <p class="desc">iOS/Android/æŠ€æœ¯å®…</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    é¦–é¡µ
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    å½’æ¡£
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    åˆ†ç±»
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    å…³äº
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    æœç´¢
                </a>
            </li>
        
    </ul>

    <ul class="side-nav blue-grey darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/iOS/">
                    iOS <span class="right">37 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Android/">
                    Android <span class="right">1 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Mac/">
                    Mac <span class="right">1 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/æœåŠ¡ç«¯/">
                    æœåŠ¡ç«¯ <span class="right">2 ç¯‡</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/å…¶å®ƒ/">
                    å…¶å®ƒ <span class="right">2 ç¯‡</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">æœç´¢</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    
<nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper blue-grey">
        <span class="breadcrumb">å½“å‰ä½ç½®ï¼ˆåˆ†ç±»ç›®å½•ï¼‰</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/iOS/">iOS</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>å¼€æºé¡¹ç›®-æ‹¼å›¾éªŒè¯æ§ä»¶TTGPuzzleVerifyçš„å®ç°</h1>
    


            </div>
            <time class="teal-link-context" datetime="2016-12-25T10:15:40.000Z"><a href="/2016/12/25/TTGPuzzleVerify/">2016-12-25</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            
    <div class="tags-row">
        
            <a href="/tags/åŸåˆ›/" class="chip teal accent-4">åŸåˆ›</a>
        
            <a href="/tags/iOS/" class="chip teal accent-4">iOS</a>
        
            <a href="/tags/å¼€æº/" class="chip teal accent-4">å¼€æº</a>
        
    </div>


            <div class="toc teal-link-context hide-on-med-and-down">
    <ol class="section table-of-contents"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å‰è¨€"><span class="section table-of-contents-text">å‰è¨€</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#åˆ†æ"><span class="section table-of-contents-text">åˆ†æ</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#ç»„æˆéƒ¨åˆ†"><span class="section table-of-contents-text">ç»„æˆéƒ¨åˆ†</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#æ‹†è§£æ­¥éª¤"><span class="section table-of-contents-text">æ‹†è§£æ­¥éª¤</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#å…³é”®æŠ€æœ¯ç‚¹"><span class="section table-of-contents-text">å…³é”®æŠ€æœ¯ç‚¹</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#å®ç°"><span class="section table-of-contents-text">å®ç°</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ"><span class="section table-of-contents-text">æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º"><span class="section table-of-contents-text">ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯"><span class="section table-of-contents-text">ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#æœ€å"><span class="section table-of-contents-text">æœ€å</span></a></li></ol>
</div>


            <div class="entry teal-link-context">
                <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘æŠ½ç©ºå†™äº†ä¸ªæ‹¼å›¾éªŒè¯æ§ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ°´å¹³ã€å‚ç›´ï¼Œæˆ–è€…ç›´æ¥æ‹–åŠ¨æ‹¼å›¾å—ï¼Œå®Œæˆæ‹¼å›¾å›¾æ¡ˆï¼Œæ¥å®ŒæˆéªŒè¯ã€‚æ‹¼å›¾å—çš„å½¢çŠ¶å¯ä»¥è‡ªå®šä¹‰ï¼Œé»˜è®¤æä¾›äº†ç»å…¸çš„æ‹¼å›¾å½¢çŠ¶ã€åœ†å½¢ã€æ­£æ–¹å½¢ï¼Œæ•´ä¸ªæ‹¼å›¾çš„å›¾æ¡ˆä¹Ÿæ˜¯æ”¯æŒä»å›¾ç‰‡ç”Ÿæˆçš„ã€‚</p>
<p><strong>CocoaPods</strong>: <code>pod &quot;TTGPuzzleVerify&quot;</code><br><strong>Github</strong>: <a href="https://github.com/zekunyan/TTGPuzzleVerify" target="_blank" rel="external">https://github.com/zekunyan/TTGPuzzleVerify</a></p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_gif.gif" alt=""></p>
<p>æ¥ä¸‹æ¥ï¼Œè¯´è¯´TTGPuzzleVerifyçš„æ•´ä½“è®¾è®¡æ€è·¯å’Œå®ç°åŸç†ã€‚</p>
<a id="more"></a>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><h3 id="ç»„æˆéƒ¨åˆ†"><a href="#ç»„æˆéƒ¨åˆ†" class="headerlink" title="ç»„æˆéƒ¨åˆ†"></a>ç»„æˆéƒ¨åˆ†</h3><p>å…ˆç›´è§‚ä¸Šåˆ†æä¸€ä¸‹æ§ä»¶çš„ç»„æˆéƒ¨åˆ†ï¼š</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_1.png" alt="ç»„æˆéƒ¨åˆ†"></p>
<p>å¯ä»¥ç›´è§‚çœ‹å‡ºï¼Œæ§ä»¶åº”è¯¥ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>æ‹¼å›¾å—ï¼šå°±æ˜¯ä»åŸå›¾ä¸Š<strong>â€œæŠ â€</strong>å‡ºæ¥çš„æ‹¼å›¾å½¢çŠ¶çš„å›¾ç‰‡å—</li>
<li>åŸå§‹å›¾ç‰‡ï¼šæ‹¼å›¾æ•´ä½“å›¾æ¡ˆçš„å›¾ç‰‡</li>
<li>é•‚ç©ºèƒŒæ™¯ï¼šä»åŸå§‹å›¾ç‰‡ä¸ŠæŠ å‡ºæ‹¼å›¾å—ä»¥åï¼Œç»™ç”¨æˆ·æç¤ºç”¨çš„ï¼Œé€æ˜åº¦æ›´ä½çš„æ‹¼å›¾å—é•‚ç©ºèƒŒæ™¯</li>
</ul>
<h3 id="æ‹†è§£æ­¥éª¤"><a href="#æ‹†è§£æ­¥éª¤" class="headerlink" title="æ‹†è§£æ­¥éª¤"></a>æ‹†è§£æ­¥éª¤</h3><p>åˆ†æå®Œäº†æ§ä»¶çš„ç»„æˆï¼Œç°åœ¨å°±æ¥æ¢³ç†ä¸€ä¸‹æ§ä»¶çš„æ•´ä¸ªåˆ›å»ºã€äº¤äº’æµç¨‹ã€‚</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_2.png" alt="æ­¥éª¤"></p>
<ul>
<li>è¾“å…¥ï¼šå›¾ç‰‡ã€æ‹¼å›¾å½¢çŠ¶ã€æ‹¼å›¾å¤§å°ã€é•‚ç©ºçš„ä½ç½®ã€æ‹¼å›¾å—çš„èµ·å§‹ä½ç½®</li>
<li>ç”Ÿæˆæ‹¼å›¾è·¯å¾„ï¼šæ ¹æ®æ‹¼å›¾ç±»å‹ï¼Œç”Ÿæˆå¯¹åº”çš„è´å¡å°”æ›²çº¿</li>
<li>ä»å›¾ç‰‡æŠ å‡ºæ‹¼å›¾å—ã€é•‚ç©ºï¼šæœ‰äº†æ‹¼å›¾è·¯å¾„ï¼Œå°±å¯ä»¥æŠ å‡ºæ‹¼å›¾å—å’Œé•‚ç©ºçš„éƒ¨åˆ†</li>
<li>è®¾ç½®ä½ç½®ã€æ ·å¼ï¼šæ ¹æ®å‚æ•°è®¾ç½®æ‹¼å›¾å—çš„åˆå§‹ä½ç½®ã€æ ·å¼ï¼Œå¦‚é˜´å½±ã€é•‚ç©ºçš„é€æ˜åº¦ç­‰</li>
<li>ç”¨æˆ·æ‹–åŠ¨ï¼šå“åº”ç”¨æˆ·çš„å¤´åŠ¨æ‰‹åŠ¿ï¼Œç§»åŠ¨æ‹¼å›¾å—ï¼Œæ ¹æ®åæ ‡åˆ¤æ–­æ˜¯å¦å®Œæˆæ‹¼å›¾</li>
<li>å›è°ƒï¼šç”¨æˆ·å®Œæˆæ‹¼å›¾åï¼Œè¦å›è°ƒï¼Œè®©å¤–éƒ¨å“åº”æ‹¼å›¾å®Œæˆäº‹ä»¶</li>
</ul>
<h3 id="å…³é”®æŠ€æœ¯ç‚¹"><a href="#å…³é”®æŠ€æœ¯ç‚¹" class="headerlink" title="å…³é”®æŠ€æœ¯ç‚¹"></a>å…³é”®æŠ€æœ¯ç‚¹</h3><p>ä»ä¸Šé¢çš„æ­¥éª¤å¯ä»¥æ•´ç†å‡ºæ¥å‡ ä¸ªå…³é”®çš„æŠ€æœ¯ç‚¹ï¼Œå¦‚ä¸‹ï¼š</p>
<p><strong>æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ</strong><br>æ™®é€šçš„å½¢çŠ¶ï¼Œå¦‚æ­£æ–¹å½¢ã€åœ†å½¢ä¹‹ç±»çš„è¿˜å¥½ï¼Œä»£ç å®ç°æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯å¤æ‚çš„æ‹¼å›¾å›¾æ¡ˆæ€ä¹ˆåŠï¼Ÿ</p>
<p><strong>ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º</strong><br>æœ‰äº†æ‹¼å›¾çš„å½¢çŠ¶è·¯å¾„ï¼Œå¦‚ä½•ä»å›¾ç‰‡ä¸ŠæŠ å‡ºæ‹¼å›¾å—å’Œé•‚ç©ºï¼Ÿ</p>
<p><strong>ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯</strong><br>æŠ å‡ºäº†æ‹¼å›¾å—ï¼Œå¦‚ä½•å°†ç”¨æˆ·çš„æ‰‹åŠ¿å¯¹åº”åˆ°ç§»åŠ¨æ‹¼å›¾å—ï¼Œæœ€ç»ˆå®ŒæˆéªŒè¯ï¼Ÿ</p>
<p>ä¸‹é¢é’ˆå¯¹è¿™ä¸‰ä¸ªç‚¹ç€é‡å†™ä¸‹å®ç°åŸç†ã€‚</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ"><a href="#æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ" class="headerlink" title="æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ"></a>æ‹¼å›¾çš„è·¯å¾„ç”Ÿæˆ</h3><p>æ—¢ç„¶æ‰‹å†™ä»£ç å¤ªéš¾ï¼Œé‚£å°±ä»ç°æœ‰çš„å›¾æ¡ˆç”Ÿæˆä»£ç ã€‚</p>
<p><strong>1. æ‰¾SVGç´ æ</strong><br>æ—¢ç„¶è¦èƒ½éšæ„æ”¹å˜å¤§å°ï¼Œå°±è¦æ‰¾çŸ¢é‡çš„å›¾ï¼ŒGoogle â€œfree svgâ€ã€â€œfree iconâ€ä¹‹ç±»çš„ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°å…è´¹çš„çŸ¢é‡å›¾ç´ æï¼Œä¾‹å¦‚TTGPuzzleVerifyé‡Œé¢ç”¨çš„æ‹¼å›¾å½¢çŠ¶å°±æ˜¯ä»<a href="http://iconmonstr.com/puzzle-1/" target="_blank" rel="external">iconmonstr.com</a>æ‰¾æ¥çš„ã€‚</p>
<p><strong>2. ç¼–è¾‘</strong><br>ç›´æ¥ä¸‹è½½å›æ¥çš„SVGè¿˜éœ€è¦è°ƒæ•´ä¸€ä¸‹ï¼Œå¦‚å»é™¤èƒŒæ™¯ï¼Œæˆ‘æ˜¯ç”¨Sketchæ¥ç¼–è¾‘çš„ã€‚</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_3.png" alt="æ‹¼å›¾SVGç¼–è¾‘"></p>
<p><strong>3. ç”Ÿæˆä»£ç </strong><br>æ‹¼å›¾çš„è·¯å¾„æœ¬è´¨ä¸Šå°±æ˜¯æ‹¼å›¾çš„è½®å»“ï¼Œåœ¨Sketché‡Œé¢æŠŠæ‹¼å›¾SVGçš„èƒŒæ™¯è‰²ç­‰é¢œè‰²åˆ é™¤ï¼Œç„¶åå°±æ˜¯å°†å…¶è½¬æ¢ä¸ºä»£ç ã€‚<br>è¿™é‡Œå¯ä»¥ç”¨<a href="https://www.paintcodeapp.com/sketch" target="_blank" rel="external">PaintCode plugin for Sketch</a>ï¼Œå°†Sketchçš„æ‹¼å›¾çŸ¢é‡è·¯å¾„å¯¼å‡ºæˆä»£ç ã€‚</p>
<p><strong>4. è°ƒæ•´ä»£ç </strong><br>ç›´æ¥ç”Ÿæˆçš„ä»£ç æœ‰æ—¶å¯èƒ½ä¼šä¸é€‚ç”¨ï¼Œå¯ä»¥äººå·¥è°ƒæ•´ä¸‹ï¼Œç„¶åå°±å¯ä»¥æ”¾åˆ°è‡ªå·±çš„ç±»é‡Œé¢äº†ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">+ (<span class="built_in">UIBezierPath</span> *)classicPuzzlePath &#123;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">UIBezierPath</span> *puzzleShape = <span class="literal">nil</span>;</div><div class="line"></div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        puzzleShape = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">        [puzzleShape moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">17.45</span>, <span class="number">71.16</span>)];</div><div class="line">        <span class="comment">// æ­¤å¤„çœç•¥å¾ˆå¤šè¡Œ=ã€‚=ï¼ŒPaintCodeç”Ÿæˆçš„</span></div><div class="line">        [puzzleShape closePath];</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> puzzleShape;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>5. UIBezierPathæ‹¼å›¾è·¯å¾„çš„å¤§å°ã€ä½ç½®è°ƒæ•´</strong><br>ç›´æ¥å¯¼å‡ºçš„æ‹¼å›¾è·¯å¾„çš„å¤§å°ã€ä½ç½®æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯æ§ä»¶æ˜¯è¦å¯ä»¥æ”¯æŒæ”¹å˜å¤§å°ã€ä½ç½®çš„ï¼Œæ‰€ä»¥ï¼Œè¦å¯¹è·¯å¾„åšå˜æ¢ï¼Œåˆšå¥½<code>UIBezierPath</code>æ”¯æŒ<code>CGAffineTransform</code>å˜æ¢ã€‚</p>
<p>å¤§å°å˜æ¢ï¼š</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å¤§å°å˜æ¢ï¼Œpathæ˜¯ç”Ÿæˆçš„åŸå§‹è·¯å¾„ï¼Œ_puzzleSizeæ˜¯ä¼ å…¥çš„æ‹¼å›¾å—å¤§å°</span></div><div class="line">[path applyTransform:CGAffineTransformMakeScale(_puzzleSize.<span class="built_in">width</span> / path.bounds.<span class="built_in">size</span>.<span class="built_in">width</span>,</div><div class="line">                                                _puzzleSize.<span class="built_in">height</span> / path.bounds.<span class="built_in">size</span>.<span class="built_in">height</span>)];</div></pre></td></tr></table></figure>
<p>ä½ç½®å˜æ¢ï¼š</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// ä½ç½®å˜æ¢ï¼Œ<span class="built_in">path</span>æ˜¯ç”Ÿæˆçš„åŸå§‹è·¯å¾„ï¼Œ_puzzleBlankPositionæ˜¯ä¼ å…¥çš„æ‹¼å›¾å—ã€é•‚ç©ºä½ç½®</div><div class="line">[<span class="built_in">path</span> applyTransform:CGAffineTransformMakeTranslation(</div><div class="line">            _puzzleBlankPosition.x - <span class="built_in">path</span>.bounds.origin.x,</div><div class="line">            _puzzleBlankPosition.y - <span class="built_in">path</span>.bounds.origin.y)];</div></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œæ‹¼å›¾çš„è·¯å¾„å°±å†™å¥½äº†ã€‚</p>
<h3 id="ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º"><a href="#ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º" class="headerlink" title="ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º"></a>ä»å›¾ç‰‡ä¸Šâ€œæŠ å‡ºâ€æ‹¼å›¾å—ã€é•‚ç©º</h3><p><strong>1. æ‹¼å›¾å—</strong><br>æœ‰äº†UIBezierPathè·¯å¾„ï¼ŒæŠ å‡ºæ‹¼å›¾å—è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œç›´æ¥ç”¨<code>CAShapeLayer</code>æ¥<strong>â€œmaskâ€</strong>å›¾ç‰‡å³å¯ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ‹¼å›¾è·¯å¾„</span></div><div class="line"><span class="built_in">UIBezierPath</span> *puzzlePath = [<span class="keyword">self</span> getNewScaledPuzzledPath];</div><div class="line"></div><div class="line"><span class="comment">// åˆ›å»ºmask layer</span></div><div class="line"><span class="built_in">CAShapeLayer</span> *puzzleMaskLayer = [<span class="built_in">CAShapeLayer</span> new];</div><div class="line">puzzleMaskLayer.frame = <span class="keyword">self</span>.bounds;</div><div class="line">puzzleMaskLayer.path = puzzlePath.CGPath;</div><div class="line"></div><div class="line"><span class="comment">// Maskåˆ°å›¾ç‰‡imageViewä¸Š</span></div><div class="line">_puzzleImageView.layer.mask = puzzleMaskLayer;</div></pre></td></tr></table></figure>
<p>æ•ˆæœå°±æ˜¯ï¼š</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_4.png" alt="æ‹¼å›¾å—"></p>
<p><strong>2. é•‚ç©ºå›¾ç‰‡</strong><br>æŠ å‡ºæ‹¼å›¾å—è¿˜æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä½†æ˜¯â€œé•‚ç©ºâ€æ€ä¹ˆåŠï¼Ÿ<br>å…¶å®é“ç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯<strong>mask</strong>ï¼Œåªä¸è¿‡maskçš„åŒºåŸŸåè¿‡æ¥è€Œå·²ã€‚<br><code>CAShapeLayer</code>çš„<code>fillRule</code>å°±å¯ä»¥è°ƒæ•´â€œå¡«å……çš„è§„åˆ™â€ï¼Œæ­¤å¤„ç”¨<code>kCAFillRuleEvenOdd</code>å°±å¯ä»¥äº†ï¼Œæ–‡æ¡£çš„è§£é‡Šå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Specifies the even-odd winding rule. Count the total number of path crossings. If the number of crossings is even, the point is outside the path. If the number of crossings is odd, the point is inside the path and the region containing it should be filled.</p>
</blockquote>
<p>ç†è§£è¿‡æ¥å°±æ˜¯ï¼šåŒºåŸŸå†…ä¸€ç‚¹ï¼Œå¾€å¤–åˆ’ä¸€æ¡çº¿ï¼Œç»è¿‡å¥‡æ•°ä¸ªæ•°çš„äº¤ç‚¹ï¼Œåˆ™ç‚¹åœ¨åŒºåŸŸå†…ï¼Œå¶æ•°ä¸ªæ•°çš„äº¤ç‚¹ï¼Œåˆ™åœ¨åŒºåŸŸå¤–ã€‚</p>
<p>æ‰€ä»¥ï¼Œåªè¦åœ¨æ‹¼å›¾è·¯å¾„çš„åŸºç¡€ä¸Šï¼Œè¡¥å……æœ€å¤–éƒ¨çš„è¾¹æ¡†çš„è·¯å¾„å³å¯ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ›å»ºçŸ©å½¢è¾¹æ¡†è·¯å¾„</span></div><div class="line"><span class="built_in">UIBezierPath</span> *maskPath = [<span class="built_in">UIBezierPath</span> bezierPathWithRect:<span class="keyword">self</span>.bounds];</div><div class="line"><span class="comment">// æ·»åŠ æ‹¼å›¾è·¯å¾„</span></div><div class="line">[maskPath appendPath:[<span class="built_in">UIBezierPath</span> bezierPathWithCGPath:puzzlePath.CGPath]];</div><div class="line"><span class="comment">// è®¾ç½®è§„åˆ™</span></div><div class="line">maskPath.usesEvenOddFillRule = <span class="literal">YES</span>;</div><div class="line"></div><div class="line"><span class="comment">// åˆ›å»ºmaskçš„layer</span></div><div class="line"><span class="built_in">CAShapeLayer</span> *frontMaskLayer = [<span class="built_in">CAShapeLayer</span> new];</div><div class="line">frontMaskLayer.frame = <span class="keyword">self</span>.bounds;</div><div class="line">frontMaskLayer.path = maskPath.CGPath;</div><div class="line">frontMaskLayer.fillRule = kCAFillRuleEvenOdd; <span class="comment">// å¡«å……è§„åˆ™</span></div><div class="line"></div><div class="line"><span class="comment">// è®¾ç½®mask</span></div><div class="line">_frontImageView.layer.mask = frontMaskLayer;</div></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_5.png" alt="é•‚ç©º"></p>
<p><strong>3. é•‚ç©ºèƒŒæ™¯</strong><br>æœ‰äº†æ‹¼å›¾å—ã€é•‚ç©ºï¼Œè¿˜å·®ä¸€å—ï¼Œå°±æ˜¯é•‚ç©ºçš„â€œåŠé€æ˜èƒŒæ™¯â€ï¼Œå…¶å®è¿™ä¸ªâ€œåŠé€æ˜èƒŒæ™¯â€å’Œæ‹¼å›¾å—æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸å†é‡å¤ä»£ç ï¼Œå”¯ä¸€å¢åŠ çš„å°±æ˜¯è®¾ç½®å…¶é€æ˜åº¦ã€‚</p>
<p><strong>4. ç»„åˆ</strong><br>å°†ä¸Šé¢çš„ç»„åˆåˆ°ä¸€èµ·ï¼Œå°±èƒ½å½¢æˆæœ€ç»ˆçš„æ•ˆæœï¼Œä»Revealé‡Œé¢çœ‹åˆ°åˆ†å±‚ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="http://zorrochen.qiniudn.com/blog_TTGPuzzleVerify_6.png" alt="åˆ†å±‚"></p>
<p>å…¶å®å°±æ˜¯ä¸‰å¼ ä¸€æ ·çš„å›¾ç‰‡ï¼ŒæŒ‰ç…§ä¸åŒçš„maskè§„åˆ™åšäº†å¤„ç†ï¼Œå åŠ èµ·æ¥ã€‚</p>
<h3 id="ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯"><a href="#ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯" class="headerlink" title="ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯"></a>ç”¨æˆ·æ‹–åŠ¨æ‹¼å›¾ã€å®Œæˆæ‹¼å›¾éªŒè¯</h3><p><strong>1. æ‹–åŠ¨å›¾ç‰‡</strong><br>æœ‰äº†ä¸Šé¢çš„ç»“æ„ï¼Œæ‹–åŠ¨æ‹¼å›¾çš„å¤„ç†ä¹Ÿå°±å®¹æ˜“å¤šäº†ï¼Œåªè¦ç§»åŠ¨æœ€ä¸Šå±‚çš„æ‹¼å›¾å—å°±è¡Œäº†ï¼Œè¿™é‡Œç›´æ¥ç”¨<code>UIPanGestureRecognizer</code>å®ç°ï¼Œç§»åŠ¨çš„æ—¶å€™åŸºäºæ‹¼å›¾çš„ä¸­å¿ƒç§»åŠ¨ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ›å»ºæ‰‹åŠ¿</span></div><div class="line"><span class="built_in">UIPanGestureRecognizer</span> *panGestureRecognizer = [<span class="built_in">UIPanGestureRecognizer</span> new];</div><div class="line">[panGestureRecognizer addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onPanGesture:)];</div><div class="line">[<span class="keyword">self</span> addGestureRecognizer:panGestureRecognizer];</div><div class="line"></div><div class="line"><span class="comment">// æ‰‹åŠ¿å¤„ç†</span></div><div class="line">- (<span class="keyword">void</span>)onPanGesture:(<span class="built_in">UIPanGestureRecognizer</span> *)panGestureRecognizer &#123;</div><div class="line">    <span class="comment">// è·å–åæ ‡</span></div><div class="line">    <span class="built_in">CGPoint</span> panLocation = [panGestureRecognizer locationInView:<span class="keyword">self</span>];</div><div class="line">    <span class="comment">// æ‹¼å›¾ä¸­å¿ƒåç§»</span></div><div class="line">    <span class="built_in">CGPoint</span> position = <span class="built_in">CGPointZero</span>;</div><div class="line">    position.x = panLocation.x - _puzzleSize.width / <span class="number">2</span>;</div><div class="line">    position.y = panLocation.y - _puzzleSize.height / <span class="number">2</span>;</div><div class="line">    <span class="comment">// è®¾ç½®åæ ‡</span></div><div class="line">    [<span class="keyword">self</span> setPuzzlePosition:position];</div><div class="line">    <span class="comment">// åˆ¤æ–­ã€å›è°ƒã€‚ã€‚ã€‚</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>2. éªŒè¯ç”¨æˆ·çš„æ‹¼å›¾æ˜¯å¦å®Œæˆ</strong><br>ç”¨æˆ·ç§»åŠ¨æ‹¼å›¾æ—¶ï¼Œåªè¦åˆ¤æ–­æ‹¼å›¾çš„åæ ‡å’Œé•‚ç©ºçš„ä½ç½®æ˜¯å¦ä¸€è‡´å°±è¡Œã€‚ä½†æ˜¯å¦‚æœå®Œå…¨ç²¾ç¡®çš„åˆ¤æ–­ï¼Œç”¨æˆ·å¾ˆéš¾å‡†ç¡®çš„æŠŠæ‹¼å›¾æ‹¼å¯¹ä¸Šï¼Œæ‰€ä»¥è¿˜è¦å¢åŠ ä¸€å®šçš„<strong>â€œtoleranceâ€</strong>ï¼Œè®©æ‹¼å›¾æ›´åŠ å®¹æ˜“ï¼ŒåŒæ—¶æš´æ¼å‡ºè®©å¤–éƒ¨è®¾ç½®ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span> verificationTolerance; <span class="comment">// Verification tolerance, default is 8</span></div></pre></td></tr></table></figure>
<p>åˆ¤æ–­çš„é€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// puzzlePositionæ˜¯å½“å‰æ‹¼å›¾å—çš„ä½ç½®ï¼Œ_puzzleBlankPositionæ˜¯æ‹¼å›¾é•‚ç©ºçš„ä½ç½®</span></div><div class="line">- (<span class="built_in">BOOL</span>)isVerified &#123;</div><div class="line">    <span class="keyword">return</span> fabsf([<span class="keyword">self</span> puzzlePosition].x - _puzzleBlankPosition.x) &lt;= _verificationTolerance &amp;&amp;</div><div class="line">           fabsf([<span class="keyword">self</span> puzzlePosition].y - _puzzleBlankPosition.y) &lt;= _verificationTolerance;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>3. å®Œæˆæ‹¼å›¾</strong><br>å½“ç”¨æˆ·å®Œæˆæ‹¼å›¾åï¼Œå¤–éƒ¨ä¼šå¾—åˆ°<code>delegate</code>ã€<code>block</code>çš„å›è°ƒå“åº”ï¼Œæ¥ç€å°±å¯ä»¥â€œå®Œæˆæ‹¼å›¾éªŒè¯â€ï¼Œå¯¹æ­¤å‘å¤–æä¾›ä¸€ä¸ªæ–¹æ³•ï¼š<code>- (void)completeVerificationWithAnimation:(BOOL)withAnimation</code>ï¼Œè°ƒç”¨åæ‹¼å›¾å—å°†ä¼šç§»åŠ¨å›é•‚ç©ºä½ç½®ï¼Œæ¨¡æ‹Ÿå‡ºæ‹¼å›¾å®Œæˆçš„æ•ˆæœã€‚</p>
<p>è‡³æ­¤ï¼ŒTTGPuzzleVerifyçš„å…³é”®å®ç°æŠ€æœ¯ç‚¹å°±æ˜¯è¿™äº›äº†ï½</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å—¯ï¼Œåœ£è¯èŠ‚å¿«ä¹ï¼ â€“ 2016-12-25</p>

                
<p class="teal-link-context">
    <a href="/2017/03/08/quartzcode-demo-star-animation/" rel="next" title="ç”¨QuartzCodeå¿«é€Ÿå®ç°ä¸€ä¸ªæ”¶è—åŠ¨ç”»">
    ä¸Šä¸€ç¯‡ï¼šç”¨QuartzCodeå¿«é€Ÿå®ç°ä¸€ä¸ªæ”¶è—åŠ¨ç”»
  </a>
</p>



<p class="teal-link-context">
    <a href="/2016/08/28/TTGBingWallPaper/" rel="next" title="Swiftå¼€æºMac App - BingWallPaper">
    ä¸‹ä¸€ç¯‡ï¼šSwiftå¼€æºMac App - BingWallPaper
  </a>
</p>


            </div>

            
                <section class="reward">
                    </br>
                    <!-- Donate Module -->
<div id="donate_module">
    <style type="text/css">
        .hidden {
            display: none;
        }
        .donate_bar a.btn_donate {
            display: inline-block;
            width: 82px;
            height: 82px;
            background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat;
            _background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat;

            -webkit-transition: background 0s;
            -moz-transition: background 0s;
            -o-transition: background 0s;
            -ms-transition: background 0s;
            transition: background 0s;
        }
        .donate_bar a.btn_donate:hover {
            background-position: 0 -82px;
        }
        .donate_bar .donate_txt {
            display: block;
            color: #9d9d9d;
            font: 14px/2 "Microsoft Yahei";
        }
        .bold {
            font-weight: bold;
        }

        img.qrcode {
            width: 90%;
            margin-bottom: 10px;
        }
        @media only screen and (min-width: 1025px) {
            img.qrcode {
                width: 40%;
                margin-right: 10px;
            }
        }

    </style>

    <!-- btn_donate & tips -->
    <div id="donate_board" class="donate_bar center">
        <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate æ‰“èµ"></a>
        <span class="donate_txt">èƒ½çœ‹åˆ°è¿™çš„éƒ½æ˜¯çœŸçˆ±ï¼Œæ‰“ä¸ªèµå‘—=ã€‚=</span>
    </div>
    <!-- /btn_donate & tips -->

    <!-- donate guide -->
    <div id="donate_guide" class="donate_bar center hidden">
        
        <img class="qrcode" src="http://zorrochen.qiniudn.com/blog_reward_weixinpay.JPG" title="æ‰“èµ"/>
        
        <img class="qrcode" src="http://zorrochen.qiniudn.com/blog_reward_alipay.JPG" title="æ‰“èµ"/>
        
    </div>
    <!-- /donate guide -->

    <!-- donate script -->
    <script type="text/javascript">
        document.getElementById('btn_donate').onclick = function() {
            $('#donate_board').addClass('hidden');
            $('#donate_guide').removeClass('hidden');
        }

        function donate_on_web() {
            $('#donate').submit();
        }
    </script>
    <!-- /donate script -->
</div>
<!-- /Donate Module -->

                </section>
            
			
        </div>
    </div>
</article>




    <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    <script>
      var cloudTieConfig = {
        url: document.location.href,
        sourceId: "",
        productKey: "a36947900dda436985a80d3b2f48b312",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>



</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large teal">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect teal accent-4" title="å›åˆ°é¡¶éƒ¨"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse teal accent-4"  data-activates="main-menu" title="èœå•"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer blue-grey darken-1">
    
    <div class="footer-container container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">ç¤¾äº¤</h5>
                
                    <a class="social-link" href="http://weibo.com/zekunyan" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/zekunyan" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
                
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    </script>
    <div class="site-visitors-container white-text">
        <span>
            <i class="fa fa-user"></i>
            <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
        </span>
        <span>&nbsp;|&nbsp;</span>
        <span>
            <i class="fa fa-eye"></i>
            <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
        </span>
    </div>


            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">å‹æƒ…é“¾æ¥</h5>
                
                    <a class="social-link" href="http://chenrudan.github.io/" target="_blank">å¥³æœ‹å‹çš„åšå®¢ğŸ˜Š</a>
                
                    <a class="social-link" href="http://raytaylorlin.com/" target="_blank">raytaylorismä¸»é¢˜ä½œè€…çš„æŠ€æœ¯åšå®¢</a>
                
                    <a class="social-link" href="http://suta.name/" target="_blank">å¾ˆèµçš„è®¾è®¡å¸ˆ</a>
                
                    <a class="social-link" href="http://neoyeelf.github.io/" target="_blank">NeOye&#39;s blog</a>
                
                    <a class="social-link" href="http://bingyan.farbox.com/" target="_blank">Howlå†™ä¸œè¥¿çš„åœ°æ–¹</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright teal-link-context">
        <div class="container">
            Â© 2017 tutuge.me, All rights reserved.
            <p class="right" style="margin-top: 0;">æœ¬åšå®¢ç”± <a href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">å½“å‰ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…ä½ ä½¿ç”¨çš„æµè§ˆå™¨ä¸æ”¯æŒåšå®¢ç‰¹å®šåŠŸèƒ½ï¼Œè¯·å°è¯•åˆ·æ–°æˆ–æ¢ç”¨Chromeã€Firefoxç­‰ç°ä»£æµè§ˆå™¨</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">å½“å‰ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…ä½ ä½¿ç”¨çš„æµè§ˆå™¨ä¸æ”¯æŒåšå®¢ç‰¹å®šåŠŸèƒ½ï¼Œè¯·å°è¯•åˆ·æ–°æˆ–æ¢ç”¨Chromeã€Firefoxç­‰ç°ä»£æµè§ˆå™¨</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>

<script>
    (function($) {
        $(document).ready(function() {
            // éšè—ç¦ç”¨javascriptï¼ˆé’ˆå¯¹å¾®ä¿¡å†…ç½®æµè§ˆå™¨ï¼‰çš„æç¤º
            $('.noscript').hide();

            // å›¾ç‰‡ç¼©æ”¾æ•ˆæœ
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // ç»™å›¾ç‰‡åŠ ä¸Šç‚¹å‡»æ”¾å¤§æ•ˆæœï¼ˆmaterialboxæ’ä»¶ï¼‰
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // ä¼˜åŒ–è¡¨æ ¼çš„æ˜¾ç¤º
            $('table').each(function() {
                var $table = $(this);
                // é™¤å»å¤šè¡Œä»£ç çš„æƒ…å†µ
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // é¦–é¡µå¹»ç¯ç‰‡
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // é’ˆå¯¹gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // æ–‡ç« ç›®å½•
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // ç›®å½•éšå±å¹•æ»šåŠ¨ï¼ˆé˜²æ­¢ç›®å½•è¿‡é•¿è¶Šè¿‡footerï¼‰
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // ä¿®æ­£æ–‡ç« ç›®å½•çš„left-borderé¢œè‰²
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // é’ˆå¯¹ç§»åŠ¨ç«¯åšçš„ä¼˜åŒ–ï¼šFABæŒ‰é’®ç‚¹å‡»ä¸€ä¸‹æ”¶å›
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // å›åˆ°é¡¶éƒ¨
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // é‡ç½®è¯»ä¹¦é¡µé¢çš„Tabæ ‡ç­¾é¡µçš„é¢œè‰²
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('teal lighten-2');

            
            // æ·»åŠ newæ ‡ç­¾
            $('.menu-about').append('<span class="new badge teal accent-4"></span>');
            

            // æœç´¢åŠŸèƒ½
            $('.modal-trigger').leanModal({
                // æ‰“å¼€æœç´¢æ¡†æ—¶è‡ªåŠ¨èšç„¦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "search.xml";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // åˆå§‹åŒ–æœç´¢ä¸åŒ¹é…å‡½æ•°
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword teal lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword teal lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68058110-1', 'auto');
    ga('send', 'pageview');

</script>



<script type="text/javascript" src="http://tajs.qq.com/stats?sId=55079830" charset="UTF-8"></script>





</body>
</html>
